{"version":3,"file":"src_app_login_login_module_ts.js","mappings":";;;;;;;;;;;;;;;;AACuD;AAEd;;;AAEzC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kDAAS;KACrB;CACF,CAAC;AAMK,MAAM,sBAAsB;;4FAAtB,sBAAsB;mHAAtB,sBAAsB;uHAHvB,kEAAqB,CAAC,MAAM,CAAC,EAC7B,yDAAY;mIAEX,sBAAsB,oFAFvB,yDAAY;;;;;;;;;;;;;;;;;;;;;;ACbuB;AACmB;AAErB;AAEmB;AAEvB;AACa;;;AAc/C,MAAM,eAAe;;8EAAf,eAAe;4GAAf,eAAe;gHAVxB,yDAAY;QACZ,uDAAW;QACX,uDAAW;QACX,yEAAsB;QACtB,+DAAmB;QACnB,yEAAwB,EAAE;mIAKjB,eAAe,mBAHX,kDAAS,aAPtB,yDAAY;QACZ,uDAAW;QACX,uDAAW;QACX,yEAAsB;QACtB,+DAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBvB;AAGA;AAEA;AAEA;AAEA;AACA;AAEA;;;;;;;;;;;;;;;;IC6BgBS,6DAAAA;IAAiFA,yDAAAA;MAAAA,4DAAAA;MAAA;MAAA,OAASA,0DAAAA,0BAAT;IAA0B,CAA1B;IAAjFA,2DAAAA;;;;;IAA4BA,yDAAAA,qBAAAA,4DAAAA;;;;;;IAC5BA,6DAAAA;IAAuDA,qDAAAA;IAAeA,2DAAAA;;;;;IAAfA,wDAAAA;IAAAA,gEAAAA;;;;;;IAiBvDA,6DAAAA;IACEA,qDAAAA;;IACFA,2DAAAA;;;;IADEA,wDAAAA;IAAAA,iEAAAA,MAAAA,0DAAAA;;;;;;IAEFA,6DAAAA;IACEA,qDAAAA;;IACFA,2DAAAA;;;;IADEA,wDAAAA;IAAAA,iEAAAA,MAAAA,0DAAAA;;;;;;IANNA,6DAAAA,eAA4F,CAA5F,EAA4F,UAA5F,EAA4F,EAA5F;IAEIA,yDAAAA;IAGAA,yDAAAA;IAGFA,2DAAAA;;;;;IANUA,wDAAAA;IAAAA,yDAAAA;IAGAA,wDAAAA;IAAAA,yDAAAA;;;;;;IAWdA,6DAAAA;IAAwBA,qDAAAA;;IAA4BA,2DAAAA;;;;IAA5BA,wDAAAA;IAAAA,gEAAAA,CAAAA,0DAAAA;;;;;;IACxBA,wDAAAA;;;;;;IACAA,wDAAAA;;;;;;;;;;;;;;;;;ADvDJ,MAAOC,SAAP,CAAgB;EAuBpBC,YACUC,SADV,EAEUC,IAFV,EAGUC,MAHV,EAIUC,MAJV,EAKUC,OALV,EAMUC,eANV,EAOUC,QAPV,EAQUC,SARV,EASUC,kBATV,EASgD;IARtC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IA7BV,mBAAchB,8EAAd;IACA,YAAY,sDAAZ;IACA,iBAAoB,MAApB;IACA,qBAAyB,KAAzB;IACA,yBAAoB,EAApB;IAIA,mBAAsB,IAAtB,CAqBgD,CArBpB;;IAC5B,oBAAwB,KAAxB,CAoBgD,CApBjB;;IAG/B,mBAAoC,OAApC;IACA,4BAAuB,KAAvB;IACA,yBAAoB,KAApB,CAegD,CAE9C;;IACA,KAAKkB,WAAL,GAAmB,KAAnB;IACA,KAAKC,OAAL,GAAe,KAAf;IACA,KAAKC,UAAL,CAAgB,IAAhB;EACD;;EAEKC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACC,IAAL,GAAY,IAAIzB,sDAAJ,CAAc;QACxB0B,KAAK,EAAE,IAAI3B,wDAAJ,CAAgB,IAAhB,EAAsB;UAC3B4B,UAAU,EAAE,CAAC1B,gEAAD,EAAsBA,iEAAA,CAAqB,EAArB,CAAtB,EAAgDA,iEAAA,CAAqB,EAArB,CAAhD;QADe,CAAtB;MADiB,CAAd,CAAZ;MAMA,KAAI,CAAC8B,YAAL,GAAoB,IAAI/B,sDAAJ,CAAc;QAChCgC,KAAK,EAAE,IAAIjC,wDAAJ,CAAgB,EAAhB,EAAoB,CAACE,gEAAD,EAAsBA,6DAAtB,CAApB,CADyB;QAEhCgC,QAAQ,EAAE,IAAIlC,wDAAJ,CAAgB,EAAhB,EAAoB,CAACE,gEAAD,EAAsBA,iEAAA,CAAqB,CAArB,CAAtB,CAApB;MAFsB,CAAd,CAApB;MAKA,KAAI,CAACiC,iBAAL,GAAyB,KAAI,CAACd,WAA9B,CAZY,CAcZ;;MACA,MAAM,KAAI,CAACe,YAAL,EAAN,CAfY,CAiBZ;;MACAC,UAAU,CAAC,MAAK;QACd,KAAI,CAACxB,IAAL,CAAUyB,SAAV;MACD,CAFS,EAEP,GAFO,CAAV;;MAIA,KAAI,CAACC,iCAAL,GAtBY,CAsB8B;;IAtB9B;EAuBb;;EAEDC,WAAW;IACT,IAAI,KAAKC,sBAAT,EAAiC;MAC/B,KAAKA,sBAAL,CAA4BC,WAA5B;IACD,CAHQ,CAIT;;;IACA,KAAK7B,IAAL,CAAU8B,cAAV;EACD;;EAEKP,YAAY;IAAA;;IAAA;MAChB,IAAI;QACF,MAAM;UAAEQ;QAAF,UAAkBpC,mEAAA,CAAgB;UAAEsC,GAAG,EAAE;QAAP,CAAhB,CAAxB;QACA,MAAMC,IAAI,GAAGH,KAAK,IAAI,IAAtB;QACAI,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,IAAjC,EAHE,CAKF;;QACA,MAAI,CAAC5B,SAAL,CAAe+B,cAAf,CAA8BH,IAA9B,EANE,CAQF;;;QACA,MAAM,MAAI,CAAC5B,SAAL,CAAegC,GAAf,CAAmBJ,IAAnB,EAAyBK,SAAzB,EAAN;QAEAJ,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,MAAI,CAAC9B,SAAL,CAAekC,WAAhD;QACAL,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,MAAI,CAAC9B,SAAL,CAAemC,cAAf,EAAjC,EAZE,CAcF;;QACA,MAAMC,OAAO,SAAS,MAAI,CAACpC,SAAL,CAAe0B,GAAf,CAAmB,UAAnB,EAA+BO,SAA/B,EAAtB;QACAJ,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCM,OAArC;MAED,CAlBD,CAkBE,OAAOC,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,yBAAd,EAAyCA,KAAzC;;QACA,MAAI,CAACrC,SAAL,CAAe+B,cAAf,CAA8B,IAA9B;;QACA,MAAM,MAAI,CAAC/B,SAAL,CAAegC,GAAf,CAAmB,IAAnB,EAAyBC,SAAzB,EAAN;MACD;IAvBe;EAwBjB;;EAIKK,UAAU;IAAA;MACd,MAAMnD,uEAAA,EAAN;IADc;EAEf;;EAEKqD,sBAAsB;IAAA;;IAAA;MAC1B,MAAMC,KAAK,SAAS,MAAI,CAAChD,SAAL,CAAeiD,MAAf,CAAsB;QACxCC,SAAS,EAAEvD,6GAA2BA;MADE,CAAtB,CAApB;MAIA,MAAMqD,KAAK,CAACG,OAAN,EAAN;MAEA,MAAM;QAAEC;MAAF,UAAiBJ,KAAK,CAACK,aAAN,EAAvB;;MACA,IAAID,IAAJ,EAAU;QACRhB,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCe,IAAjC;QACA,MAAI,CAAC1C,WAAL,GAAmB0C,IAAI,CAACE,QAAxB;QACA,MAAI,CAAC3C,OAAL,GAAeyC,IAAI,CAACE,QAApB;QACA,MAAI,CAACC,WAAL,GAAmBH,IAAI,CAACI,OAAxB;;QACA,MAAI,CAAC5C,UAAL,CAAgBwC,IAAI,CAACI,OAArB;MACD;IAdyB;EAe3B;;EAEDC,eAAe,CAACC,KAAD,EAAW;IACxB,MAAMC,UAAU,GAAGD,KAAK,CAACE,MAAN,CAAa5B,KAAb,CAAmB6B,WAAnB,EAAnB;IACA,KAAKtC,iBAAL,GAAyB,KAAKd,WAAL,CAAiBqD,MAAjB,CAAwBC,OAAO,IACtDA,OAAO,CAACC,IAAR,CAAaH,WAAb,GAA2BI,QAA3B,CAAoCN,UAApC,KACAI,OAAO,CAACT,QAAR,CAAiBW,QAAjB,CAA0BN,UAA1B,CAFuB,CAAzB;EAID;;EAEDO,iBAAiB,CAACC,MAAD,EAAY;IAC3B,KAAKzD,WAAL,GAAmB,EAAnB;IACA,KAAKC,OAAL,GAAewD,MAAM,CAACC,MAAP,CAAcpC,KAAd,CAAoBqC,QAApB,EAAf;EACD;;EAEKC,IAAI;IAAA;MACR,MAAM7E,+EAAA,CAA6B;QAAEW,OAAO,EAAE;MAAX,CAA7B,CAAN;IADQ;EAET;;EAEKoE,IAAI;IAAA;MACR,MAAM/E,+EAAA,CAA6B;QAAEW,OAAO,EAAE;MAAX,CAA7B,CAAN;IADQ;EAET;;EAEDqE,mBAAmB,CAACf,KAAD,EAAmB;IACpC,MAAMgB,cAAc,GAAGhB,KAAK,CAACU,MAAN,CAAapC,KAApC;IACA,KAAK2C,WAAL,GAAmBD,cAAnB;;IAEA,IAAIA,cAAc,KAAK,OAAnB,IAA8B,KAAKtD,YAAvC,EAAqD;MACnD,KAAKA,YAAL,CAAkBwD,KAAlB;MACA,KAAKC,oBAAL,GAA4B,KAA5B;IACD;EACF;;EAEKC,MAAM;IAAA;;IAAA;MACV,IAAI,MAAI,CAACH,WAAL,KAAqB,UAAzB,EAAqC;QACnC,OAAO,MAAI,CAACI,uBAAL,EAAP;MACD;;MAED,IAAI;QACF,IAAI,CAAC,MAAI,CAACjE,IAAL,CAAUkE,KAAf,EAAsB;UACpB,MAAMC,YAAY,GAAG,MAAI,CAACnE,IAAL,CAAUmB,GAAV,CAAc,OAAd,EAAuBiD,QAAvB,CAAgC,UAAhC,UACX,MAAI,CAAC3E,SAAL,CAAe0B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EADW,SAEX,MAAI,CAACjC,SAAL,CAAe0B,GAAf,CAAmB,gBAAnB,EAAqCO,SAArC,EAFV;;UAGA,MAAI,CAACpC,OAAL,CAAa+E,SAAb,OACQ,MAAI,CAAC5E,SAAL,CAAe0B,GAAf,CAAmB,OAAnB,EAA4BO,SAA5B,EADR,EAEEyC,YAFF;;UAIA;QACD;;QAED,MAAI,CAAC7E,OAAL,CAAagF,UAAb,CAAwB,EAAxB;;QACA,MAAMC,eAAe,GAAG,MAAI,CAAC1E,OAAL,GAAe,MAAI,CAACG,IAAL,CAAUkB,KAAV,CAAgBjB,KAAvD;QAEA,IAAIuE,kBAAJ,CAfE,CAiBF;;QACA,IAAI,MAAI,CAACC,YAAT,EAAuB;UACrBnD,OAAO,CAACC,GAAR,CAAY,0CAAZ;;UACA,MAAI,CAACjC,OAAL,CAAaoF,UAAb;;UACA,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAsC,QAAtD,CAHqB,CAIrB;;UACA,MAAI,CAACJ,YAAL,GAAoB,KAApB;UACA,OAAO,MAAI,CAACK,mBAAL,CAAyB,MAAI,CAAC9E,IAAL,CAAUkB,KAAV,CAAgBjB,KAAzC,EAAgD0E,OAAhD,CAAP;QACD;;QAED,IAAI;UACFH,kBAAkB,SAAS,MAAI,CAACrF,IAAL,CAAU4F,qBAAV,CAAgCR,eAAhC,CAA3B;QACD,CAFD,CAEE,OAAOS,SAAP,EAAkB;UAClB1D,OAAO,CAACQ,KAAR,CAAc,gCAAd,EAAgDkD,SAAhD;;UACA,MAAI,CAAC1F,OAAL,CAAaoF,UAAb,GAFkB,CAIlB;;;UACA,MAAMO,aAAa,SAAS,MAAI,CAACC,2BAAL,CAAiCF,SAAS,CAACG,IAA3C,CAA5B;;UAEA,IAAIF,aAAJ,EAAmB;YACjB,OAAO,MAAI,CAACG,gBAAL,EAAP;UACD,CAFD,MAEO;YACL,OADK,CACG;UACT;QACF;;QAED,IAAIC,SAAS,GAAGT,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAsC,EAAtD;;QACA,MAAI,CAACvF,OAAL,CAAaoF,UAAb;;QAEA,MAAMxC,KAAK,SAAS,MAAI,CAAChD,SAAL,CAAeiD,MAAf,CAAsB;UACxCC,SAAS,EAAE3D,4DAD6B;UAExC6G,cAAc,EAAE;YACdC,UAAU,EAAEF,SADE;YAEdpF,KAAK,EAAE,MAAI,CAACD,IAAL,CAAUkB,KAAV,CAAgBjB,KAFT;YAGduF,WAAW,EAAE,MAAI,CAAC3F,OAHJ;YAId2E,kBAAkB,EAAEA,kBAJN;YAKdiB,UAAU,EAAE;UALE,CAFwB;UASxCC,UAAU,EAAE;QAT4B,CAAtB,CAApB;QAYA,MAAMxD,KAAK,CAACG,OAAN,EAAN;QACA,MAAM;UAAEC;QAAF,UAAiBJ,KAAK,CAACK,aAAN,EAAvB;QAEA,IAAI,CAACD,IAAI,EAAEqD,IAAX,EAAiB;QAEjB,MAAM,MAAI,CAACC,kBAAL,CAAwBtD,IAAI,CAACqD,IAA7B,CAAN;MAED,CAjED,CAiEE,OAAOE,CAAP,EAAU;QACVvE,OAAO,CAACQ,KAAR,CAAc,2BAAd,EAA2C+D,CAA3C;;QACA,MAAI,CAACvG,OAAL,CAAaoF,UAAb;;QACA,MAAM,MAAI,CAACoB,eAAL,CAAqBD,CAArB,CAAN;MACD;IA1ES;EA2EX;;EAEK5B,uBAAuB;IAAA;;IAAA;MAC3B,IAAI,MAAI,CAACF,oBAAT,EAA+B;QAC7B;MACD;;MAED,IAAI,CAAC,MAAI,CAACzD,YAAL,CAAkB4D,KAAvB,EAA8B;QAC5B,MAAI,CAAC5D,YAAL,CAAkByF,gBAAlB;;QACA;MACD;;MAED,MAAI,CAAChC,oBAAL,GAA4B,IAA5B;MACA,MAAM,MAAI,CAACzE,OAAL,CAAagF,UAAb,CAAwB,EAAxB,CAAN;MAEA,MAAM/D,KAAK,GAAG,CAAC,MAAI,CAACD,YAAL,CAAkBY,KAAlB,CAAwBX,KAAxB,IAAiC,EAAlC,EAAsCyF,IAAtC,EAAd;MACA,MAAMxF,QAAQ,GAAG,MAAI,CAACF,YAAL,CAAkBY,KAAlB,CAAwBV,QAAzC;;MAEA,IAAI;QACF,MAAMyF,UAAU,SAAS,MAAI,CAAC9G,IAAL,CAAU+G,0BAAV,CAAqC3F,KAArC,EAA4CC,QAA5C,CAAzB;QACA,MAAMmF,IAAI,GAAGM,UAAU,EAAEN,IAAzB;;QAEA,IAAI,CAACA,IAAL,EAAW;UACT,MAAM;YAAER,IAAI,EAAE;UAAR,CAAN;QACD;;QAED,MAAM,MAAI,CAACS,kBAAL,CAAwBD,IAAxB,CAAN;MACD,CATD,CASE,OAAO7D,KAAP,EAAc;QACd,MAAMqE,MAAM,SAAS,MAAI,CAAC1G,SAAL,CAAe0B,GAAf,CAAmB,OAAnB,EAA4BO,SAA5B,EAArB;QACA,MAAM0E,OAAO,SAAS,MAAI,CAACC,wBAAL,CAA8BvE,KAA9B,CAAtB;QACA,MAAM,MAAI,CAACxC,OAAL,CAAa+E,SAAb,CAAuB8B,MAAvB,EAA+BC,OAA/B,CAAN;MACD,CAbD,SAaU;QACR,MAAM,MAAI,CAAC9G,OAAL,CAAaoF,UAAb,EAAN;QACA,MAAI,CAACX,oBAAL,GAA4B,KAA5B;MACD;IAhC0B;EAiC5B;;EAEKuC,gBAAgB;IAAA;;IAAA;MACpB,IAAI,MAAI,CAACC,iBAAT,EAA4B;QAC1B;MACD;;MAED,MAAI,CAACA,iBAAL,GAAyB,IAAzB;;MAEA,IAAI;QACF,MAAM,MAAI,CAACjH,OAAL,CAAagF,UAAb,CAAwB,EAAxB,CAAN;QACA,MAAMkC,MAAM,SAAS,MAAI,CAACrH,IAAL,CAAUmH,gBAAV,EAArB;QACA,MAAMX,IAAI,GAAGa,MAAM,EAAEb,IAArB;;QAEA,IAAI,CAACA,IAAL,EAAW;UACT,MAAM,IAAIc,KAAJ,CAAU,uBAAV,CAAN;QACD;;QAEDnF,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0C;UACxCmF,GAAG,EAAEf,IAAI,CAACe,GAD8B;UAExCnG,KAAK,EAAEoF,IAAI,CAACpF,KAF4B;UAGxCoG,WAAW,EAAEhB,IAAI,CAACgB,WAHsB;UAIxCC,WAAW,EAAEjB,IAAI,CAACiB,WAJsB;UAKxCC,QAAQ,EAAElB,IAAI,CAACkB;QALyB,CAA1C,EATE,CAiBF;;QACA,IAAIlB,IAAI,CAACiB,WAAT,EAAsB;UACpBtF,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDoE,IAAI,CAACiB,WAAvD,EADoB,CAEpB;;UACA,MAAMA,WAAW,GAAGjB,IAAI,CAACiB,WAAzB,CAHoB,CAIpB;;UACA,MAAME,cAAc,GAAG,MAAI,CAACnH,WAAL,CAAiBoH,IAAjB,CAAsB9D,OAAO,IAClD2D,WAAW,CAACI,UAAZ,CAAuB/D,OAAO,CAACT,QAA/B,CADqB,CAAvB;;UAIA,IAAIsE,cAAJ,EAAoB;YAClB,MAAI,CAAClH,WAAL,GAAmBkH,cAAc,CAACtE,QAAlC;YACA,MAAI,CAAC3C,OAAL,GAAeiH,cAAc,CAACtE,QAA9B;YACA,MAAI,CAACC,WAAL,GAAmBqE,cAAc,CAACpE,OAAlC;;YACA,MAAI,CAAC5C,UAAL,CAAgBgH,cAAc,CAACpE,OAA/B,EAJkB,CAKlB;;;YACA,MAAMuE,WAAW,GAAGL,WAAW,CAACM,OAAZ,CAAoBJ,cAAc,CAACtE,QAAnC,EAA6C,EAA7C,CAApB;;YACA,MAAI,CAACxC,IAAL,CAAUmH,QAAV,CAAmB,OAAnB,EAA4BC,QAA5B,CAAqCH,WAArC;UACD;QACF;;QAED,MAAM,MAAI,CAAC3H,OAAL,CAAaoF,UAAb,EAAN;QACA,MAAM,MAAI,CAACkB,kBAAL,CAAwBD,IAAxB,CAAN;MAED,CAzCD,CAyCE,OAAO7D,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,uBAAd,EAAuCA,KAAvC;QACA,MAAM,MAAI,CAACxC,OAAL,CAAaoF,UAAb,EAAN;QAEA,IAAIP,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAAzB;;QAEA,IAAII,KAAK,CAACqD,IAAN,KAAe,2BAAnB,EAAgD;UAC9C;UACA,MAAI,CAACoB,iBAAL,GAAyB,KAAzB;UACA;QACD,CAJD,MAIO,IAAIzE,KAAK,CAACqD,IAAN,KAAe,8BAAnB,EAAmD;UACxD;UACA,MAAI,CAACoB,iBAAL,GAAyB,KAAzB;UACA;QACD,CAJM,MAIA,IAAIzE,KAAK,CAACqD,IAAN,KAAe,6BAAnB,EAAkD;UACvDhB,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,eAAnB,EAAoCO,SAApC,EAArB;QACD,CAFM,MAEA,IAAII,KAAK,CAACqD,IAAN,KAAe,oBAAnB,EAAyC;UAC9ChB,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,eAAnB,EAAoCO,SAApC,EAArB;QACD;;QAED,MAAM,MAAI,CAACpC,OAAL,CAAa+E,SAAb,OACE,MAAI,CAAC5E,SAAL,CAAe0B,GAAf,CAAmB,OAAnB,EAA4BO,SAA5B,EADF,EAEJyC,YAFI,CAAN;MAID,CAjED,SAiEU;QACR,MAAI,CAACoC,iBAAL,GAAyB,KAAzB;MACD;IA1EmB;EA2ErB;;EAEKrB,2BAA2B,CAACmC,SAAD,EAAkB;IAAA;;IAAA;MACjD,IAAIC,UAAU,GAAG,EAAjB;MACA,IAAInD,YAAY,GAAG,EAAnB;MACA,IAAIoD,YAAY,GAAG,EAAnB,CAHiD,CAKjD;;MACA,QAAQF,SAAR;QACE,KAAK,wBAAL;UACEC,UAAU,SAAS,MAAI,CAAC7H,SAAL,CAAe0B,GAAf,CAAmB,yBAAnB,EAA8CO,SAA9C,EAAnB;UACAyC,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,0BAAnB,EAA+CO,SAA/C,EAArB;UACA6F,YAAY,SAAS,MAAI,CAAC9H,SAAL,CAAe0B,GAAf,CAAmB,yBAAnB,EAA8CO,SAA9C,EAArB;UACA;;QACF,KAAK,qBAAL;QACA,KAAK,6BAAL;UACE4F,UAAU,SAAS,MAAI,CAAC7H,SAAL,CAAe0B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAAnB;UACAyC,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,kBAAnB,EAAuCO,SAAvC,EAArB;UACA6F,YAAY,SAAS,MAAI,CAAC9H,SAAL,CAAe0B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAArB;UACA;;QACF,KAAK,2BAAL;UACE4F,UAAU,SAAS,MAAI,CAAC7H,SAAL,CAAe0B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAAnB;UACAyC,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,uBAAnB,EAA4CO,SAA5C,EAArB;UACA6F,YAAY,SAAS,MAAI,CAAC9H,SAAL,CAAe0B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAArB;UACA;;QACF,KAAK,qBAAL;UACE4F,UAAU,SAAS,MAAI,CAAC7H,SAAL,CAAe0B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAAnB;UACAyC,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,uBAAnB,EAA4CO,SAA5C,EAArB;UACA6F,YAAY,SAAS,MAAI,CAAC9H,SAAL,CAAe0B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAArB;UACA;;QACF;UACE;UACA4F,UAAU,GAAG,wBAAb;UACAnD,YAAY,GAAG,sDAAsDkD,SAAS,EAA9E;UACAE,YAAY,GAAG,wMAAf;MA1BJ,CANiD,CAmCjD;;;MACA,MAAMC,WAAW,GAAGD,YAAY,GAC5B,GAAGpD,YAAY,OAAOoD,YAAY,+BAAlC,MAAuE,MAAI,CAAC9H,SAAL,CAAe0B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAAiD,EAD5F,GAE5B,GAAGyC,YAAY,+BAAf,MAAoD,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAAiD,EAFzG;MAIA,OAAO,IAAI+F,OAAJ;QAAA,wJAAY,WAAOC,OAAP,EAAkB;UACnC,MAAMC,KAAK,SAAS,MAAI,CAACpI,eAAL,CAAqB4C,MAArB,CAA4B;YAC9CgE,MAAM,EAAEmB,UADsC;YAE9ClB,OAAO,EAAEoB,WAFqC;YAG9CI,QAAQ,EAAE,aAHoC;YAI9CC,OAAO,EAAE,CACP;cACEC,IAAI,QAAQ,MAAI,CAACrI,SAAL,CAAe0B,GAAf,CAAmB,OAAnB,EAA4BO,SAA5B,EADd;cAEEqG,IAAI,EAAE,QAFR;cAGEH,QAAQ,EAAE,WAHZ;cAIEI,OAAO,EAAE,MAAK;gBACZ1G,OAAO,CAACC,GAAR,CAAY,oBAAZ;gBACAmG,OAAO,CAAC,KAAD,CAAP;cACD;YAPH,CADO,EAUP;cACEI,IAAI,QAAQ,MAAI,CAACrI,SAAL,CAAe0B,GAAf,CAAmB,eAAnB,EAAoCO,SAApC,EADd;cAEEkG,QAAQ,EAAE,SAFZ;cAGEI,OAAO,EAAE,MAAK;gBACZ1G,OAAO,CAACC,GAAR,CAAY,4BAAZ;gBACAmG,OAAO,CAAC,IAAD,CAAP;cACD;YANH,CAVO;UAJqC,CAA5B,CAApB;UAyBA,MAAMC,KAAK,CAACtF,OAAN,EAAN;UACAf,OAAO,CAACC,GAAR,CAAY,iBAAZ;QACD,CA5BM;;QAAA;UAAA;QAAA;MAAA,IAAP;IAxCiD;EAqElD;;EAEK6D,gBAAgB;IAAA;;IAAA;MACpB;MACA,MAAI,CAAC9F,OAAL,CAAaoF,UAAb,GAFoB,CAIpB;;;MACA,MAAI,CAAC9E,WAAL,GAAmB,KAAnB;MACA,MAAI,CAACC,OAAL,GAAe,KAAf;MACA,MAAMoI,cAAc,GAAG,CAAC,YAAD,CAAvB;MACA,MAAMC,mBAAmB,GAAGD,cAAc,CAACE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBJ,cAAc,CAACK,MAA1C,CAAD,CAA1C;;MACA,MAAI,CAACtI,IAAL,CAAUmH,QAAV,CAAmB,OAAnB,EAA4BC,QAA5B,CAAqCc,mBAArC;;MACA,MAAMvD,OAAO,GAAG,QAAhB;MACAC,YAAY,CAAC2D,OAAb,CAAqB,YAArB,EAAmC5D,OAAnC,EAXoB,CAapB;;MACA,MAAI,CAACF,YAAL,GAAoB,IAApB,CAdoB,CAgBpB;;MACA,MAAMkD,KAAK,SAAS,MAAI,CAACpI,eAAL,CAAqB4C,MAArB,CAA4B;QAC9CgE,MAAM,QAAQ,MAAI,CAAC1G,SAAL,CAAe0B,GAAf,CAAmB,2BAAnB,EAAgDO,SAAhD,EADgC;QAE9C0E,OAAO,EAAE,OAAM,MAAI,CAAC3G,SAAL,CAAe0B,GAAf,CAAmB,6BAAnB,EAAkDO,SAAlD,EAAN,IACP,gBAAgB,MAAI,CAACjC,SAAL,CAAe0B,GAAf,CAAmB,OAAnB,EAA4BO,SAA5B,EAAuC,QAAQwG,mBAAmB,aAAavD,OAAO,MAD/F,UAED,MAAI,CAAClF,SAAL,CAAe0B,GAAf,CAAmB,qBAAnB,EAA0CO,SAA1C,EAFC,CAFqC;QAK9CmG,OAAO,EAAE,CACP;UACEC,IAAI,QAAQ,MAAI,CAACrI,SAAL,CAAe0B,GAAf,CAAmB,QAAnB,EAA6BO,SAA7B,EADd;UAEEsG,OAAO,EAAE,MAAK,CACZ;YACA;UACD;QALH,CADO;MALqC,CAA5B,CAApB;MAeA,MAAML,KAAK,CAACtF,OAAN,EAAN;IAhCoB;EAiCrB;;EAEKyC,mBAAmB,CAAC8B,WAAD,EAAsBjC,OAAtB,EAAqC;IAAA;;IAAA;MAC5D;MACA,MAAM6D,eAAe,GAAG,YAAxB,CAF4D,CAI5D;;MACA,MAAMC,sBAAsB,GAAG;QAC7BC,OAAO;UAAA,yJAAE,WAAOC,GAAP,EAAsB;YAC7BrH,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CoH,GAA5C;;YACA,IAAIA,GAAG,KAAKhE,OAAZ,EAAqB;cACnB;cACA;cACArD,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAHmB,CAKnB;cACA;;cACA,IAAI;gBACF,MAAI,CAACjC,OAAL,CAAagF,UAAb,CAAwB,eAAxB;;gBACA,MAAMC,eAAe,GAAG,QAAQiE,eAAhC,CAFE,CAGF;;gBACA,MAAMI,sBAAsB,SAAS,MAAI,CAACzJ,IAAL,CAAU4F,qBAAV,CAAgCR,eAAhC,CAArC;gBACA,MAAMiC,MAAM,SAASoC,sBAAsB,CAACF,OAAvB,CAA+BC,GAA/B,CAArB;;gBACA,MAAI,CAACrJ,OAAL,CAAaoF,UAAb;;gBACApD,OAAO,CAACC,GAAR,CAAY,gDAAZ;gBACA,OAAOiF,MAAP;cACD,CATD,CASE,OAAO1E,KAAP,EAAc;gBACd,MAAI,CAACxC,OAAL,CAAaoF,UAAb;;gBACApD,OAAO,CAACQ,KAAR,CAAc,8CAAd,EAA8DA,KAA9D;gBACA,MAAMA,KAAN;cACD;YACF,CArBD,MAqBO;cACL,MAAM,IAAI2E,KAAJ,CAAU,aAAV,CAAN;YACD;UACF,CA1BM;;UAAA,gBAAPiC,OAAO;YAAA;UAAA;QAAA;MADsB,CAA/B,CAL4D,CAmC5D;;MACA,MAAMxG,KAAK,SAAS,MAAI,CAAChD,SAAL,CAAeiD,MAAf,CAAsB;QACxCC,SAAS,EAAE3D,4DAD6B;QAExC6G,cAAc,EAAE;UACdC,UAAU,EAAEZ,OADE;UAEd1E,KAAK,EAAEuI,eAFO;UAGdhD,WAAW,EAAE,KAHC;UAIdhB,kBAAkB,EAAEiE,sBAJN;UAKdhD,UAAU,EAAE;QALE,CAFwB;QASxCC,UAAU,EAAE;MAT4B,CAAtB,CAApB;MAYA,MAAMxD,KAAK,CAACG,OAAN,EAAN;MACA,MAAM;QAAEC;MAAF,UAAiBJ,KAAK,CAACK,aAAN,EAAvB;MAEA,IAAI,CAACD,IAAI,EAAEqD,IAAX,EAAiB;MAEjB,MAAM,MAAI,CAACC,kBAAL,CAAwBtD,IAAI,CAACqD,IAA7B,CAAN;IArD4D;EAsD7D;;EAEKG,eAAe,CAAChE,KAAD,EAAW;IAAA;;IAAA;MAC9B,IAAIwF,UAAU,SAAS,MAAI,CAAC7H,SAAL,CAAe0B,GAAf,CAAmB,OAAnB,EAA4BO,SAA5B,EAAvB;MACA,IAAIyC,YAAY,GAAG,EAAnB;;MAEA,QAAQrC,KAAK,CAACqD,IAAd;QACE,KAAK,2BAAL;UACEhB,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,gBAAnB,EAAqCO,SAArC,EAArB;UACA;;QAEF,KAAK,2BAAL;UACEyC,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAArB;UACA;;QAEF,KAAK,6BAAL;UACEyC,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,eAAnB,EAAoCO,SAApC,EAArB;UACA;;QAEF,KAAK,wBAAL;UACE4F,UAAU,SAAS,MAAI,CAAC7H,SAAL,CAAe0B,GAAf,CAAmB,yBAAnB,EAA8CO,SAA9C,EAAnB;UACAyC,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,mBAAnB,EAAwCO,SAAxC,EAArB;UACA;;QAEF,KAAK,6BAAL;QACA,KAAK,qBAAL;UACE4F,UAAU,SAAS,MAAI,CAAC7H,SAAL,CAAe0B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAAnB;UACAyC,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,mBAAnB,EAAwCO,SAAxC,EAArB;UACA;;QAEF,KAAK,2BAAL;UACE4F,UAAU,SAAS,MAAI,CAAC7H,SAAL,CAAe0B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAAnB;UACAyC,YAAY,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,wBAAnB,EAA6CO,SAA7C,EAArB;UACA;;QAEF;UACEyC,YAAY,GAAG,SAAS,MAAI,CAAC1E,SAAL,CAAe0B,GAAf,CAAmB,eAAnB,EAAoCO,SAApC,EAA+C,IAAII,KAAK,CAACqD,IAAN,IAAcrD,KAAK,CAACsE,OAApB,IAA+B,eAAe,EAAzH;UACA;MA/BJ;;MAkCA,MAAM,MAAI,CAAC9G,OAAL,CAAa+E,SAAb,CAAuBiD,UAAvB,EAAmCnD,YAAnC,CAAN;IAtC8B;EAuC/B;;EAEKyB,kBAAkB,CAACD,IAAD,EAAU;IAAA;;IAAA;MAChC,IAAI;QACFrE,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDoE,IAAI,EAAEe,GAAtD;;QAEA,IAAI,CAACf,IAAD,IAAS,CAACA,IAAI,CAACe,GAAnB,EAAwB;UACtBpF,OAAO,CAACQ,KAAR,CAAc,6CAAd;;UACA,MAAI,CAAC1C,MAAL,CAAYyJ,aAAZ,CAA0B,UAA1B,EAAsC;YAAEC,UAAU,EAAE;UAAd,CAAtC;;UACA;QACD,CAPC,CASF;;;QACA,MAAMC,eAAe,SAAS,MAAI,CAAC1J,MAAL,CAAY2J,iBAAZ,CAA8BrD,IAAI,CAACe,GAAnC,CAA9B;QACApF,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCwH,eAAlC;;QAEA,IAAIA,eAAJ,EAAqB;UACnB;UACAzH,OAAO,CAACC,GAAR,CAAY,6CAAZ;;UACA,MAAI,CAACnC,MAAL,CAAYyJ,aAAZ,CAA0B,OAA1B,EAAmC;YAAEC,UAAU,EAAE;UAAd,CAAnC;QACD,CAJD,MAIO;UACL;UACAxH,OAAO,CAACC,GAAR,CAAY,uDAAZ;;UACA,MAAI,CAACnC,MAAL,CAAYyJ,aAAZ,CAA0B,UAA1B,EAAsC;YAAEC,UAAU,EAAE;UAAd,CAAtC;QACD;MACF,CAtBD,CAsBE,OAAOhH,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,8BAAd,EAA8CA,KAA9C,EADc,CAEd;;QACA,MAAI,CAAC1C,MAAL,CAAYyJ,aAAZ,CAA0B,UAA1B,EAAsC;UAAEC,UAAU,EAAE;QAAd,CAAtC;MACD;IA3B+B;EA4BjC;;EAEDjI,iCAAiC;IAC/B,KAAKE,sBAAL,GAA8B,KAAKvB,QAAL,CAAcyJ,UAAd,CAAyBC,qBAAzB,CAA+C,EAA/C,EAAmD,MAAK;MACpF,KAAKC,gBAAL;IACD,CAF6B,CAA9B;EAGD;;EAEKA,gBAAgB;IAAA;;IAAA;MACpB,IAAI;QACF,MAAM,OAAI,CAACC,oBAAL,EAAN;MACD,CAFD,CAEE,OAAOtH,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,6BAAd,EAA6CA,KAA7C;MACD;IALmB;EAMrB;;EAEKsH,oBAAoB;IAAA;;IAAA;MACxB,MAAMzB,KAAK,SAAS,OAAI,CAACpI,eAAL,CAAqB4C,MAArB,CAA4B;QAC9CgE,MAAM,QAAQ,OAAI,CAAC1G,SAAL,CAAe0B,GAAf,CAAmB,UAAnB,EAA+BO,SAA/B,EADgC;QAE9C0E,OAAO,QAAQ,OAAI,CAAC3G,SAAL,CAAe0B,GAAf,CAAmB,cAAnB,EAAmCO,SAAnC,EAF+B;QAG9CmG,OAAO,EAAE,CACP;UACEC,IAAI,QAAQ,OAAI,CAACrI,SAAL,CAAe0B,GAAf,CAAmB,QAAnB,EAA6BO,SAA7B,EADd;UAEEqG,IAAI,EAAE;QAFR,CADO,EAKP;UACED,IAAI,QAAQ,OAAI,CAACrI,SAAL,CAAe0B,GAAf,CAAmB,MAAnB,EAA2BO,SAA3B,EADd;UAEEsG,OAAO,EAAE,MAAK;YACZqB,SAAS,CAAC,KAAD,CAAT,CAAiBC,OAAjB;UACD;QAJH,CALO;MAHqC,CAA5B,CAApB;MAgBA,MAAM3B,KAAK,CAACtF,OAAN,EAAN;IAjBwB;EAkBzB;;EAEKkH,cAAc,CAAClI,IAAD,EAAa;IAAA;;IAAA;MAC/BC,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,IAArC;;MACA,IAAI;QACF;QACA,OAAI,CAAC5B,SAAL,CAAe+B,cAAf,CAA8BH,IAA9B,EAFE,CAIF;;;QACA,MAAM,OAAI,CAAC5B,SAAL,CAAegC,GAAf,CAAmBJ,IAAnB,EAAyBK,SAAzB,EAAN;QAEAJ,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDF,IAAjD;QACAC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,OAAI,CAAC9B,SAAL,CAAekC,WAAhD,EARE,CAUF;;QACA,MAAM7C,mEAAA,CAAgB;UAAEsC,GAAG,EAAE,WAAP;UAAoBF,KAAK,EAAEG;QAA3B,CAAhB,CAAN,CAXE,CAaF;;QACA,MAAMoI,eAAe,SAAS,OAAI,CAAChK,SAAL,CAAe0B,GAAf,CAAmB,UAAnB,EAA+BO,SAA/B,EAA9B;QACAJ,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCkI,eAAjC;MAED,CAjBD,CAiBE,OAAO3H,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;MACD;IArB8B;EAsBhC;;EAEDhC,UAAU,CAAC0F,WAAD,EAAoB;IAC5B,MAAMkE,QAAQ,GAAG,KAAKhK,kBAAL,CAAwBiK,mBAAxB,CAA4CnE,WAA5C,CAAjB;IACA,KAAKoE,IAAL,GAAYF,QAAQ,CAACG,GAArB;IACA,KAAKC,SAAL,GAAiBJ,QAAQ,CAACK,KAA1B;IACA,KAAKC,aAAL,GAAqB,KAArB;EACD;;EAEDC,eAAe;IACb3I,OAAO,CAACC,GAAR,CAAY,iDAAZ;IACA,KAAKyI,aAAL,GAAqB,IAArB;EACD;;EAEa3D,wBAAwB,CAACvE,KAAD,EAAW;IAAA;;IAAA;MAC/C,MAAMqD,IAAI,GAAGrD,KAAK,EAAEqD,IAApB;;MAEA,QAAQA,IAAR;QACE,KAAK,oBAAL;UACE,aAAa,OAAI,CAAC1F,SAAL,CAAe0B,GAAf,CAAmB,eAAnB,EAAoCO,SAApC,EAAb;;QACF,KAAK,oBAAL;UACE,aAAa,OAAI,CAACjC,SAAL,CAAe0B,GAAf,CAAmB,qBAAnB,EAA0CO,SAA1C,EAAb;;QACF,KAAK,qBAAL;UACE,aAAa,OAAI,CAACjC,SAAL,CAAe0B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAAb;;QACF,KAAK,qBAAL;QACA,KAAK,yBAAL;QACA,KAAK,gCAAL;UACE,aAAa,OAAI,CAACjC,SAAL,CAAe0B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAAb;;QACF,KAAK,wBAAL;UACE,aAAa,OAAI,CAACjC,SAAL,CAAe0B,GAAf,CAAmB,yBAAnB,EAA8CO,SAA9C,EAAb;;QACF,KAAK,cAAL;UACE,aAAa,OAAI,CAACjC,SAAL,CAAe0B,GAAf,CAAmB,qBAAnB,EAA0CO,SAA1C,EAAb;;QACF;UACE,aAAa,OAAI,CAACjC,SAAL,CAAe0B,GAAf,CAAmB,qBAAnB,EAA0CO,SAA1C,EAAb;MAhBJ;IAH+C;EAqBhD;;EAEKwI,iBAAiB;IAAA;;IAAA;MACrB,IAAI;QACF;QACA,MAAMC,QAAQ,SAASC,KAAK,CAAC,wBAAD,EAA2B;UACrDC,MAAM,EAAE,KAD6C;UAErDC,OAAO,EAAE;YACP,UAAU,kBADH;YAEP,gBAAgB;UAFT;QAF4C,CAA3B,CAA5B;;QAQA,IAAI,CAACH,QAAQ,CAACI,EAAd,EAAkB;UAChB,MAAM,IAAI9D,KAAJ,CAAU,uBAAuB0D,QAAQ,CAACK,MAAM,EAAhD,CAAN;QACD;;QAED,MAAMlI,IAAI,SAAS6H,QAAQ,CAACM,IAAT,EAAnB;QACA,MAAMjF,WAAW,GAAGlD,IAAI,CAACW,OAAzB;;QACA,MAAMyH,eAAe,GAAG,OAAI,CAAC/K,WAAL,CAAiBoH,IAAjB,CACtB9D,OAAO,IAAIA,OAAO,CAACP,OAAR,KAAoB8C,WADT,CAAxB;;QAGA,IAAIkF,eAAJ,EAAqB;UACnB,OAAI,CAAC9K,WAAL,GAAmB8K,eAAe,CAAClI,QAAnC;UACA,OAAI,CAAC3C,OAAL,GAAe6K,eAAe,CAAClI,QAA/B;UACA,OAAI,CAACC,WAAL,GAAmB+C,WAAnB;;UACA,OAAI,CAAC1F,UAAL,CAAgB0F,WAAhB;QACD,CALD,MAKO;UACL;UACA,OAAI,CAAC5F,WAAL,GAAmB,KAAnB;UACA,OAAI,CAACC,OAAL,GAAe,KAAf;UACA,OAAI,CAAC4C,WAAL,GAAmB,IAAnB;;UACA,OAAI,CAAC3C,UAAL,CAAgB,IAAhB;QACD;MACF,CA/BD,CA+BE,OAAOgC,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,0BAAd,EAA0CA,KAA1C,EADc,CAEd;;QACA,OAAI,CAAClC,WAAL,GAAmB,KAAnB;QACA,OAAI,CAACC,OAAL,GAAe,KAAf;QACA,OAAI,CAAC4C,WAAL,GAAmB,IAAnB;;QACA,OAAI,CAAC3C,UAAL,CAAgB,IAAhB;MACD;IAvCoB;EAwCtB;;AApsBmB;;;mBAATd,WAASD,gEAAAA,CAAAA,4DAAAA,GAAAA,gEAAAA,CAAAA,+DAAAA,GAAAA,gEAAAA,CAAAA,oDAAAA,GAAAA,gEAAAA,CAAAA,mEAAAA,GAAAA,gEAAAA,CAAAA,qEAAAA,GAAAA,gEAAAA,CAAAA,4DAAAA,GAAAA,gEAAAA,CAAAA,qDAAAA,GAAAA,gEAAAA,CAAAA,kEAAAA,GAAAA,gEAAAA,CAAAA,+EAAAA;AAAA;;;QAATC;EAAS2L;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCrBtBhM,6DAAAA,qBAAuD,CAAvD,EAAuD,aAAvD,EAAuD,CAAvD,EAAuD,CAAvD,EAAuD,WAAvD,EAAuD,CAAvD,EAAuD,CAAvD,EAAuD,IAAvD;MAGUA,qDAAAA;;MAA2BA,2DAAAA;MAE/BA,6DAAAA;MAAmBA,qDAAAA;;MAA+BA,2DAAAA;MAKxDA,6DAAAA,sBAAmC,EAAnC,EAAmC,KAAnC,EAAmC,CAAnC,EAAmC,EAAnC,EAAmC,KAAnC,EAAmC,CAAnC,EAAmC,EAAnC,EAAmC,kBAAnC,EAAmC,CAAnC,EAAmC,EAAnC,EAAmC,cAAnC;MAUUA,wDAAAA;MACFA,2DAAAA;MACAA,6DAAAA;MACEA,wDAAAA;MACFA,2DAAAA;MACAA,6DAAAA;MACEA,wDAAAA;MACFA,2DAAAA;MAKJA,6DAAAA,gBAA4B,EAA5B,EAA4B,MAA5B,EAA4B,EAA5B;MAEIA,wDAAAA;MAGAA,6DAAAA,qBAAmC,EAAnC,EAAmC,kBAAnC,EAAmC,EAAnC,EAAmC,EAAnC,EAAmC,KAAnC,EAAmC,EAAnC,EAAmC,EAAnC,EAAmC,QAAnC,EAAmC,EAAnC;MAIuDA,yDAAAA;QAAA,OAASiM,4BAAT;MAAiC,CAAjC;MAC/CjM,yDAAAA;MACAA,yDAAAA;MACAA,6DAAAA;MAA2BA,qDAAAA;MAAiBA,2DAAAA;MAC5CA,wDAAAA;MACFA,2DAAAA;MAGAA,6DAAAA,gBAAiC,EAAjC,EAAiC,WAAjC,EAAiC,EAAjC;MAGIA,yDAAAA;QAAA,OAAYiM,UAAZ;MAAkB,CAAlB,EAAmB,SAAnB,EAAmB;QAAA,OAAYA,UAAZ;MAAkB,CAArC;;MACFjM,2DAAAA;MAKJA,yDAAAA;MAUFA,2DAAAA;MAIFA,6DAAAA;MACkBA,yDAAAA;QAAA,OAASiM,YAAT;MAAiB,CAAjB;MAChBjM,yDAAAA;MACAA,yDAAAA;MACAA,yDAAAA;MACFA,2DAAAA;MAMNA,6DAAAA,oBAA8E,EAA9E,EAA8E,gBAA9E,EAA8E,EAA9E;MAEIA,wDAAAA;MACFA,2DAAAA;MACAA,6DAAAA,yBAAyB,EAAzB,EAAyB,gBAAzB,EAAyB,EAAzB;MACkBA,yDAAAA;QAAA,OAASiM,mBAAe,IAAf,CAAT;MAA6B,CAA7B;MACVjM,6DAAAA;MAAUA,qDAAAA;MAAEA,2DAAAA;MAElBA,6DAAAA;MAAgBA,yDAAAA;QAAA,OAASiM,mBAAe,IAAf,CAAT;MAA6B,CAA7B;MACVjM,6DAAAA;MAAUA,qDAAAA;MAAEA,2DAAAA;MAOxBA,6DAAAA;MACEA,wDAAAA;MACFA,2DAAAA;;;;MArGYA,yDAAAA;MAGFA,wDAAAA;MAAAA,gEAAAA,CAAAA,0DAAAA;MAEeA,wDAAAA;MAAAA,gEAAAA,CAAAA,0DAAAA;MAUjBA,wDAAAA;MAAAA,yDAAAA,eAAAA,8DAAAA,WAAkC,UAAlC,EAAkCA,8DAAAA,SAAlC,EAAkC,cAAlC,EAAkC,CAAlC,EAAkC,OAAlC,EAAkC,GAAlC;MAkBIA,wDAAAA;MAAAA,yDAAAA;MASUA,wDAAAA;MAAAA,yDAAAA;MACCA,wDAAAA;MAAAA,yDAAAA;MACoBA,wDAAAA;MAAAA,gEAAAA;MAOzBA,wDAAAA;MAAAA,yDAAAA,gBAAAA,0DAAAA;MAOyBA,wDAAAA;MAAAA,yDAAAA;MAcqCA,wDAAAA;MAAAA,yDAAAA;MAE/DA,wDAAAA;MAAAA,yDAAAA;MACIA,wDAAAA;MAAAA,yDAAAA;MACGA,wDAAAA;MAAAA,yDAAAA;;;;;;;;;;;;;;;;;;;;;;;ACvElB,MAAOkM,kBAAP,CAAyB;EAqE7BhM;IAnEA;IACQ,kBAAwC;MAC9C,MAAM,MADwC;MAE9C,MAAM,MAFwC;MAG9C,MAAM,MAHwC;MAI9C,MAAM,MAJwC;MAK9C,MAAM,MALwC;MAM9C,MAAM,MANwC;MAO9C,MAAM,MAPwC;MAQ9C,MAAM,MARwC;MAS9C,MAAM,MATwC;MAU9C,MAAM,MAVwC;MAW9C,MAAM,MAXwC;MAY9C,MAAM,MAZwC;MAa9C,MAAM,MAbwC;MAc9C,MAAM,MAdwC;MAe9C,MAAM,MAfwC;MAgB9C,MAAM,MAhBwC;MAiB9C,MAAM,MAjBwC;MAkB9C,MAAM,MAlBwC;MAmB9C,MAAM,MAnBwC;MAoB9C,MAAM,MApBwC;MAqB9C,MAAM,MArBwC;MAsB9C,MAAM,MAtBwC;MAuB9C,MAAM,MAvBwC;MAwB9C,MAAM,MAxBwC;MAyB9C,MAAM,MAzBwC;MA0B9C,MAAM,MA1BwC;MA2B9C,MAAM,MA3BwC;MA4B9C,MAAM,MA5BwC;MA6B9C,MAAM,MA7BwC;MA8B9C,MAAM,MA9BwC;MA+B9C,MAAM,MA/BwC;MAgC9C,MAAM,MAhCwC;MAiC9C,MAAM,MAjCwC;MAkC9C,MAAM,MAlCwC;MAmC9C,MAAM,MAnCwC;MAoC9C,MAAM,MApCwC;MAqC9C,MAAM,MArCwC;MAsC9C,MAAM,MAtCwC;MAuC9C,MAAM,MAvCwC;MAwC9C,MAAM,MAxCwC;MAyC9C,MAAM,MAzCwC;MA0C9C,MAAM,MA1CwC;MA2C9C,MAAM,MA3CwC;MA4C9C,MAAM,MA5CwC;MA6C9C,MAAM,MA7CwC;MA8C9C,MAAM,MA9CwC;MA+C9C,MAAM,MA/CwC;MAgD9C,MAAM,MAhDwC;MAiD9C,MAAM,MAjDwC;MAkD9C,MAAM,MAlDwC;MAmD9C,MAAM,MAnDwC;MAoD9C,MAAM,MApDwC;MAqD9C,MAAM,MArDwC;MAsD9C,MAAM,MAtDwC;MAuD9C,MAAM,MAvDwC;MAwD9C,MAAM,MAxDwC;MAyD9C,MAAM,MAzDwC;MA0D9C,MAAM,MA1DwC;MA2D9C,MAAM,MA3DwC;MA4D9C,MAAM,MA5DwC;MA6D9C,MAAM,MA7DwC;MA8D9C,MAAM,MA9DwC;MA+D9C,MAAM;IA/DwC,CAAxC;EAkES;EAEjB;;;;;EAGAiM,UAAU,CAAC1F,WAAD,EAAoB;IAC5B,MAAML,IAAI,GAAGK,WAAW,CAAC2F,WAAZ,EAAb,CAD4B,CAG5B;;IACA,MAAMC,MAAM,GAAG,iDAAiDjG,IAAI,CAACpC,WAAL,EAAkB,MAAlF,CAJ4B,CAM5B;;IACA,OAAOqI,MAAP;EACD;EAED;;;;;EAGAC,YAAY,CAAC7F,WAAD,EAAoB;IAC9B,MAAML,IAAI,GAAGK,WAAW,CAAC2F,WAAZ,EAAb;IACA,OAAO,KAAKG,UAAL,CAAgBnG,IAAhB,KAAyB,KAAhC;EACD;EAED;;;;;EAGAwE,mBAAmB,CAACnE,WAAD,EAAoB;IACrC,OAAO;MACLqE,GAAG,EAAE,KAAKqB,UAAL,CAAgB1F,WAAhB,CADA;MAELuE,KAAK,EAAE,KAAKsB,YAAL,CAAkB7F,WAAlB;IAFF,CAAP;EAID;EAED;;;;;EAGM+F,aAAa;IAAA;MACjB,IAAI;QACF;QACA,MAAMpB,QAAQ,SAASC,KAAK,CAAC,sDAAD,EAAyD;UACnFC,MAAM,EAAE,MAD2E;UAEnFmB,IAAI,EAAE;QAF6E,CAAzD,CAA5B;QAIA,OAAO,IAAP;MACD,CAPD,CAOE,OAAO1J,KAAP,EAAc;QACdR,OAAO,CAACC,GAAR,CAAY,8CAAZ;QACA,OAAO,KAAP;MACD;IAXgB;EAYlB;;AArH4B;;;mBAAlB0J;AAAkB;;;SAAlBA;EAAkBQ,SAAlBR,kBAAkB;EAAAS,YAFjB","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/login/login.page.html","./src/app/services/country-flag.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [LoginPage],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class LoginPageModule {}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, ModalController, Platform } from '@ionic/angular';\r\nimport { OtpComponent } from '../otp/otp.component';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { environment } from '../../environments/environment';\r\nimport { OverlayService } from '../services/overlay.service';\r\nimport { StatusBar } from '@capacitor/status-bar';\r\nimport { AvatarService } from '../services/avatar.service';\r\nimport { SplashScreen } from '@capacitor/splash-screen';\r\nimport { CountrySearchModalComponent } from '../country-search-modal/country-search-modal.component';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Preferences } from '@capacitor/preferences';\r\nimport { CountryFlagService } from '../services/country-flag.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit, OnDestroy {\r\n  form: FormGroup;\r\n  CountryCode: any;\r\n  CountryJson = environment.CountryJson;\r\n  flag: any = \"https://cdn.kcak11.com/CountryFlags/countries/my.svg\";\r\n  flagEmoji: string = 'ðŸ‡²ðŸ‡¾';\r\n  flagLoadError: boolean = false;\r\n  filteredCountries = [];\r\n  user: any;\r\n  approve: boolean;\r\n  approve2: boolean;\r\n  userCountry: string = 'MY'; // Default to Malaysia\r\n  isInTestMode: boolean = false; // Flag to track if we're in test mode\r\n\r\n  passwordForm: FormGroup;\r\n  loginMethod: 'phone' | 'password' = 'phone';\r\n  isPasswordSubmitting = false;\r\n  isGoogleSigningIn = false;\r\n\r\n\r\n  numberT: string;\r\n  backButtonSubscription: any;\r\n\r\n  constructor(\r\n    private modalCtrl: ModalController,\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private avatar: AvatarService,\r\n    private overlay: OverlayService,\r\n    private alertController: AlertController,\r\n    private platform: Platform,\r\n    private translate: TranslateService,\r\n    private countryFlagService: CountryFlagService\r\n  ) {\r\n    // Set Malaysia as default - no auto-detection\r\n    this.CountryCode = '+60';\r\n    this.numberT = '+60';\r\n    this.updateFlag('MY');\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.form = new FormGroup({\r\n      phone: new FormControl(null, {\r\n        validators: [Validators.required, Validators.minLength(10), Validators.maxLength(10)]\r\n      }),\r\n    });\r\n\r\n    this.passwordForm = new FormGroup({\r\n      email: new FormControl('', [Validators.required, Validators.email]),\r\n      password: new FormControl('', [Validators.required, Validators.minLength(6)])\r\n    });\r\n\r\n    this.filteredCountries = this.CountryJson;\r\n\r\n    // Load saved language from Preferences\r\n    await this.loadLanguage();\r\n\r\n    // Initialize reCAPTCHA after a short delay to ensure DOM is ready\r\n    setTimeout(() => {\r\n      this.auth.recaptcha();\r\n    }, 500);\r\n\r\n    this.initializeBackButtonCustomHandler(); // Initialize back button handler\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.backButtonSubscription) {\r\n      this.backButtonSubscription.unsubscribe();\r\n    }\r\n    // Clean up reCAPTCHA\r\n    this.auth.clearRecaptcha();\r\n  }\r\n\r\n  async loadLanguage() {\r\n    try {\r\n      const { value } = await Preferences.get({ key: 'user-lang' });\r\n      const lang = value || 'ms';\r\n      console.log('Loading language:', lang);\r\n\r\n      // Set default language first\r\n      this.translate.setDefaultLang(lang);\r\n\r\n      // Then use it\r\n      await this.translate.use(lang).toPromise();\r\n\r\n      console.log('Current language:', this.translate.currentLang);\r\n      console.log('Default language:', this.translate.getDefaultLang());\r\n\r\n      // Test if translations are loaded\r\n      const testKey = await this.translate.get('APP_NAME').toPromise();\r\n      console.log('APP_NAME translation:', testKey);\r\n\r\n    } catch (error) {\r\n      console.error('Error loading language:', error);\r\n      this.translate.setDefaultLang('ms');\r\n      await this.translate.use('ms').toPromise();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  async HideSplash() {\r\n    await SplashScreen.hide();\r\n  }\r\n\r\n  async openCountrySearchModal() {\r\n    const modal = await this.modalCtrl.create({\r\n      component: CountrySearchModalComponent\r\n    });\r\n\r\n    await modal.present();\r\n\r\n    const { data } = await modal.onWillDismiss();\r\n    if (data) {\r\n      console.log('Selected country:', data);\r\n      this.CountryCode = data.dialCode;\r\n      this.numberT = data.dialCode;\r\n      this.userCountry = data.isoCode;\r\n      this.updateFlag(data.isoCode);\r\n    }\r\n  }\r\n\r\n  filterCountries(event: any) {\r\n    const searchTerm = event.target.value.toLowerCase();\r\n    this.filteredCountries = this.CountryJson.filter(country =>\r\n      country.name.toLowerCase().includes(searchTerm) ||\r\n      country.dialCode.includes(searchTerm)\r\n    );\r\n  }\r\n\r\n  countryCodeChange($event: any) {\r\n    this.CountryCode = '';\r\n    this.numberT = $event.detail.value.toString();\r\n  }\r\n\r\n  async Show() {\r\n    await StatusBar.setOverlaysWebView({ overlay: false });\r\n  }\r\n\r\n  async Hide() {\r\n    await StatusBar.setOverlaysWebView({ overlay: true });\r\n  }\r\n\r\n  onLoginMethodChange(event: CustomEvent) {\r\n    const selectedMethod = event.detail.value as 'phone' | 'password';\r\n    this.loginMethod = selectedMethod;\r\n\r\n    if (selectedMethod === 'phone' && this.passwordForm) {\r\n      this.passwordForm.reset();\r\n      this.isPasswordSubmitting = false;\r\n    }\r\n  }\r\n\r\n  async signIn() {\r\n    if (this.loginMethod === 'password') {\r\n      return this.signInWithEmailPassword();\r\n    }\r\n\r\n    try {\r\n      if (!this.form.valid) {\r\n        const errorMessage = this.form.get('phone').hasError('required')\r\n          ? await this.translate.get('MOBILE_REQUIRED').toPromise()\r\n          : await this.translate.get('MOBILE_INVALID').toPromise();\r\n        this.overlay.showAlert(\r\n          await this.translate.get('ERROR').toPromise(),\r\n          errorMessage\r\n        );\r\n        return;\r\n      }\r\n\r\n      this.overlay.showLoader('');\r\n      const fullPhoneNumber = this.numberT + this.form.value.phone;\r\n\r\n      let confirmationResult;\r\n\r\n      // Check if we're in test mode - bypass Firebase\r\n      if (this.isInTestMode) {\r\n        console.log('ðŸ§ª Test mode active - bypassing Firebase');\r\n        this.overlay.hideLoader();\r\n        const testOTP = localStorage.getItem('defaultOTP') || '123456';\r\n        // Reset test mode flag for next attempt\r\n        this.isInTestMode = false;\r\n        return this.proceedWithTestMode(this.form.value.phone, testOTP);\r\n      }\r\n\r\n      try {\r\n        confirmationResult = await this.auth.signInWithPhoneNumber(fullPhoneNumber);\r\n      } catch (authError) {\r\n        console.error('Firebase authentication error:', authError);\r\n        this.overlay.hideLoader();\r\n\r\n        // For ANY Firebase error, offer test mode - simpler approach\r\n        const wantsTestMode = await this.showErrorWithTestModeOption(authError.code);\r\n\r\n        if (wantsTestMode) {\r\n          return this.switchToTestMode();\r\n        } else {\r\n          return; // User declined test mode\r\n        }\r\n      }\r\n\r\n      let storedOTP = localStorage.getItem('defaultOTP') || '';\r\n      this.overlay.hideLoader();\r\n\r\n      const modal = await this.modalCtrl.create({\r\n        component: OtpComponent,\r\n        componentProps: {\r\n          defaultOtp: storedOTP,\r\n          phone: this.form.value.phone,\r\n          countryCode: this.numberT,\r\n          confirmationResult: confirmationResult,\r\n          isTestMode: false\r\n        },\r\n        canDismiss: true\r\n      });\r\n\r\n      await modal.present();\r\n      const { data } = await modal.onWillDismiss();\r\n\r\n      if (!data?.user) return;\r\n\r\n      await this.navigateAfterLogin(data.user);\r\n\r\n    } catch (e) {\r\n      console.error('Unexpected sign-in error:', e);\r\n      this.overlay.hideLoader();\r\n      await this.handleAuthError(e);\r\n    }\r\n  }\r\n\r\n  async signInWithEmailPassword() {\r\n    if (this.isPasswordSubmitting) {\r\n      return;\r\n    }\r\n\r\n    if (!this.passwordForm.valid) {\r\n      this.passwordForm.markAllAsTouched();\r\n      return;\r\n    }\r\n\r\n    this.isPasswordSubmitting = true;\r\n    await this.overlay.showLoader('');\r\n\r\n    const email = (this.passwordForm.value.email || '').trim();\r\n    const password = this.passwordForm.value.password;\r\n\r\n    try {\r\n      const credential = await this.auth.signInWithEmailAndPassword(email, password);\r\n      const user = credential?.user;\r\n\r\n      if (!user) {\r\n        throw { code: 'auth/no-user' };\r\n      }\r\n\r\n      await this.navigateAfterLogin(user);\r\n    } catch (error) {\r\n      const header = await this.translate.get('ERROR').toPromise();\r\n      const message = await this.getEmailAuthErrorMessage(error);\r\n      await this.overlay.showAlert(header, message);\r\n    } finally {\r\n      await this.overlay.hideLoader();\r\n      this.isPasswordSubmitting = false;\r\n    }\r\n  }\r\n\r\n  async signInWithGoogle() {\r\n    if (this.isGoogleSigningIn) {\r\n      return;\r\n    }\r\n\r\n    this.isGoogleSigningIn = true;\r\n\r\n    try {\r\n      await this.overlay.showLoader('');\r\n      const result = await this.auth.signInWithGoogle();\r\n      const user = result?.user;\r\n\r\n      if (!user) {\r\n        throw new Error('Google sign-in failed');\r\n      }\r\n\r\n      console.log('Google sign-in successful:', {\r\n        uid: user.uid,\r\n        email: user.email,\r\n        displayName: user.displayName,\r\n        phoneNumber: user.phoneNumber,\r\n        photoURL: user.photoURL\r\n      });\r\n\r\n      // If Google account has a phone number, use it as default\r\n      if (user.phoneNumber) {\r\n        console.log('User has phone number from Google:', user.phoneNumber);\r\n        // Extract country code and phone number\r\n        const phoneNumber = user.phoneNumber;\r\n        // Try to match with known country codes\r\n        const matchedCountry = this.CountryJson.find(country => \r\n          phoneNumber.startsWith(country.dialCode)\r\n        );\r\n        \r\n        if (matchedCountry) {\r\n          this.CountryCode = matchedCountry.dialCode;\r\n          this.numberT = matchedCountry.dialCode;\r\n          this.userCountry = matchedCountry.isoCode;\r\n          this.updateFlag(matchedCountry.isoCode);\r\n          // Set the phone number without the country code\r\n          const localNumber = phoneNumber.replace(matchedCountry.dialCode, '');\r\n          this.form.controls['phone'].setValue(localNumber);\r\n        }\r\n      }\r\n\r\n      await this.overlay.hideLoader();\r\n      await this.navigateAfterLogin(user);\r\n\r\n    } catch (error) {\r\n      console.error('Google sign-in error:', error);\r\n      await this.overlay.hideLoader();\r\n      \r\n      let errorMessage = await this.translate.get('GOOGLE_SIGN_IN_ERROR').toPromise();\r\n      \r\n      if (error.code === 'auth/popup-closed-by-user') {\r\n        // User closed the popup, no need to show error\r\n        this.isGoogleSigningIn = false;\r\n        return;\r\n      } else if (error.code === 'auth/cancelled-popup-request') {\r\n        // Another popup was opened, no need to show error\r\n        this.isGoogleSigningIn = false;\r\n        return;\r\n      } else if (error.code === 'auth/network-request-failed') {\r\n        errorMessage = await this.translate.get('NETWORK_ERROR').toPromise();\r\n      } else if (error.code === 'auth/popup-blocked') {\r\n        errorMessage = await this.translate.get('POPUP_BLOCKED').toPromise();\r\n      }\r\n      \r\n      await this.overlay.showAlert(\r\n        await this.translate.get('ERROR').toPromise(),\r\n        errorMessage\r\n      );\r\n    } finally {\r\n      this.isGoogleSigningIn = false;\r\n    }\r\n  }\r\n\r\n  async showErrorWithTestModeOption(errorCode: string): Promise<boolean> {\r\n    let errorTitle = '';\r\n    let errorMessage = '';\r\n    let errorDetails = '';\r\n\r\n    // Get the specific error information\r\n    switch (errorCode) {\r\n      case 'auth/too-many-requests':\r\n        errorTitle = await this.translate.get('TOO_MANY_REQUESTS_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('TOO_MANY_REQUESTS_DETAIL').toPromise();\r\n        errorDetails = await this.translate.get('TOO_MANY_REQUESTS_CAUSE').toPromise();\r\n        break;\r\n      case 'auth/quota-exceeded':\r\n      case 'auth/invalid-app-credential':\r\n        errorTitle = await this.translate.get('SMS_QUOTA_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('SMS_QUOTA_DETAIL').toPromise();\r\n        errorDetails = await this.translate.get('SMS_QUOTA_CAUSE').toPromise();\r\n        break;\r\n      case 'auth/captcha-check-failed':\r\n        errorTitle = await this.translate.get('CAPTCHA_FAILED_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('CAPTCHA_FAILED_DETAIL').toPromise();\r\n        errorDetails = await this.translate.get('CAPTCHA_FAILED_CAUSE').toPromise();\r\n        break;\r\n      case 'auth/internal-error':\r\n        errorTitle = await this.translate.get('INTERNAL_ERROR_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('INTERNAL_ERROR_DETAIL').toPromise();\r\n        errorDetails = await this.translate.get('INTERNAL_ERROR_CAUSE').toPromise();\r\n        break;\r\n      default:\r\n        // For unknown errors, show the actual error code\r\n        errorTitle = 'âŒ Authentication Error';\r\n        errorMessage = `Firebase authentication failed with error code:\\n\\n${errorCode}`;\r\n        errorDetails = 'ðŸ“‹ Possible Causes:\\nâ€¢ Firebase configuration issue\\nâ€¢ Network connectivity problem\\nâ€¢ Service temporarily unavailable\\nâ€¢ Billing or quota limits\\n\\nðŸ’¡ You can use Test Mode to continue development.';\r\n    }\r\n\r\n    // Combine error with test mode offer\r\n    const fullMessage = errorDetails\r\n      ? `${errorMessage}\\n\\n${errorDetails}\\n\\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\\n\\n${await this.translate.get('TEST_MODE_OFFER').toPromise()}`\r\n      : `${errorMessage}\\n\\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\\n\\n${await this.translate.get('TEST_MODE_OFFER').toPromise()}`;\r\n\r\n    return new Promise(async (resolve) => {\r\n      const alert = await this.alertController.create({\r\n        header: errorTitle,\r\n        message: fullMessage,\r\n        cssClass: 'error-alert',\r\n        buttons: [\r\n          {\r\n            text: await this.translate.get('CLOSE').toPromise(),\r\n            role: 'cancel',\r\n            cssClass: 'secondary',\r\n            handler: () => {\r\n              console.log('User clicked Close');\r\n              resolve(false);\r\n            }\r\n          },\r\n          {\r\n            text: await this.translate.get('USE_TEST_MODE').toPromise(),\r\n            cssClass: 'primary',\r\n            handler: () => {\r\n              console.log('User clicked Use Test Mode');\r\n              resolve(true);\r\n            }\r\n          }\r\n        ]\r\n      });\r\n\r\n      await alert.present();\r\n      console.log('Alert presented');\r\n    });\r\n  }\r\n\r\n  async switchToTestMode() {\r\n    // Make sure loader is hidden\r\n    this.overlay.hideLoader();\r\n\r\n    // Set test credentials\r\n    this.CountryCode = '+60';\r\n    this.numberT = '+60';\r\n    const defaultNumbers = ['1234567856'];\r\n    const randomDefaultNumber = defaultNumbers[Math.floor(Math.random() * defaultNumbers.length)];\r\n    this.form.controls['phone'].setValue(randomDefaultNumber);\r\n    const testOTP = '123456';\r\n    localStorage.setItem('defaultOTP', testOTP);\r\n\r\n    // Set test mode flag so next signIn() call bypasses Firebase\r\n    this.isInTestMode = true;\r\n\r\n    // Show instructions about what was filled\r\n    const alert = await this.alertController.create({\r\n      header: await this.translate.get('TEST_MODE_ACTIVATED_TITLE').toPromise(),\r\n      message: await this.translate.get('TEST_MODE_ACTIVATED_MESSAGE').toPromise() +\r\n        `\\n\\nðŸ“± ${await this.translate.get('PHONE').toPromise()}: +60${randomDefaultNumber}\\nðŸ” OTP: ${testOTP}\\n\\n` +\r\n        await this.translate.get('TEST_MODE_NEXT_STEP').toPromise(),\r\n      buttons: [\r\n        {\r\n          text: await this.translate.get('GOT_IT').toPromise(),\r\n          handler: () => {\r\n            // User can now see the filled form and click Continue button themselves\r\n            // When they click Continue, isInTestMode flag will bypass Firebase\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async proceedWithTestMode(phoneNumber: string, testOTP: string) {\r\n    // Use the correct test phone number\r\n    const testPhoneNumber = '1234567856';\r\n\r\n    // Create a PURE MOCK confirmation result - NO FIREBASE CALLS\r\n    const mockConfirmationResult = {\r\n      confirm: async (otp: string) => {\r\n        console.log('ðŸ§ª Test mode: Verifying OTP:', otp);\r\n        if (otp === testOTP) {\r\n          // IMPORTANT: Don't call Firebase at all in test mode\r\n          // Return a mock user structure that matches Firebase user\r\n          console.log('âœ… Test mode: OTP verified successfully');\r\n          \r\n          // For test mode, we need to actually authenticate with Firebase\r\n          // but only ONCE when OTP is verified, not during initial SMS request\r\n          try {\r\n            this.overlay.showLoader('Signing in...');\r\n            const fullPhoneNumber = '+60' + testPhoneNumber;\r\n            // This is the ONLY Firebase call in test mode - when OTP is verified\r\n            const realConfirmationResult = await this.auth.signInWithPhoneNumber(fullPhoneNumber);\r\n            const result = await realConfirmationResult.confirm(otp);\r\n            this.overlay.hideLoader();\r\n            console.log('âœ… Test mode: Firebase authentication completed');\r\n            return result;\r\n          } catch (error) {\r\n            this.overlay.hideLoader();\r\n            console.error('âŒ Test mode: Firebase authentication failed:', error);\r\n            throw error;\r\n          }\r\n        } else {\r\n          throw new Error('Invalid OTP');\r\n        }\r\n      }\r\n    };\r\n\r\n    // Open OTP modal with test credentials pre-filled\r\n    const modal = await this.modalCtrl.create({\r\n      component: OtpComponent,\r\n      componentProps: {\r\n        defaultOtp: testOTP,\r\n        phone: testPhoneNumber,\r\n        countryCode: '+60',\r\n        confirmationResult: mockConfirmationResult,\r\n        isTestMode: true\r\n      },\r\n      canDismiss: true\r\n    });\r\n\r\n    await modal.present();\r\n    const { data } = await modal.onWillDismiss();\r\n\r\n    if (!data?.user) return;\r\n\r\n    await this.navigateAfterLogin(data.user);\r\n  }\r\n\r\n  async handleAuthError(error: any) {\r\n    let errorTitle = await this.translate.get('ERROR').toPromise();\r\n    let errorMessage = '';\r\n\r\n    switch (error.code) {\r\n      case 'auth/invalid-phone-number':\r\n        errorMessage = await this.translate.get('MOBILE_INVALID').toPromise();\r\n        break;\r\n\r\n      case 'auth/missing-phone-number':\r\n        errorMessage = await this.translate.get('MOBILE_REQUIRED').toPromise();\r\n        break;\r\n\r\n      case 'auth/network-request-failed':\r\n        errorMessage = await this.translate.get('NETWORK_ERROR').toPromise();\r\n        break;\r\n\r\n      case 'auth/too-many-requests':\r\n        errorTitle = await this.translate.get('TOO_MANY_REQUESTS_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('TOO_MANY_REQUESTS').toPromise();\r\n        break;\r\n\r\n      case 'auth/invalid-app-credential':\r\n      case 'auth/quota-exceeded':\r\n        errorTitle = await this.translate.get('SMS_QUOTA_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('SMS_QUOTA_MESSAGE').toPromise();\r\n        break;\r\n\r\n      case 'auth/captcha-check-failed':\r\n        errorTitle = await this.translate.get('CAPTCHA_FAILED_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('CAPTCHA_FAILED_MESSAGE').toPromise();\r\n        break;\r\n\r\n      default:\r\n        errorMessage = `${await this.translate.get('SIGN_IN_ERROR').toPromise()} ${error.code || error.message || 'Unknown error'}`;\r\n        break;\r\n    }\r\n\r\n    await this.overlay.showAlert(errorTitle, errorMessage);\r\n  }\r\n\r\n  async navigateAfterLogin(user: any) {\r\n    try {\r\n      console.log('Navigating after login for user:', user?.uid);\r\n      \r\n      if (!user || !user.uid) {\r\n        console.error('Invalid user object, redirecting to details');\r\n        this.router.navigateByUrl('/details', { replaceUrl: true });\r\n        return;\r\n      }\r\n\r\n      // Check if user has a complete rider profile in the database\r\n      const hasRiderProfile = await this.avatar.checkRiderProfile(user.uid);\r\n      console.log('Has rider profile:', hasRiderProfile);\r\n\r\n      if (hasRiderProfile) {\r\n        // Existing rider with complete profile - go to home\r\n        console.log('Existing rider detected, navigating to home');\r\n        this.router.navigateByUrl('/home', { replaceUrl: true });\r\n      } else {\r\n        // New user or incomplete profile - go to details to complete account creation\r\n        console.log('New user or incomplete profile, navigating to details');\r\n        this.router.navigateByUrl('/details', { replaceUrl: true });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking user profile:', error);\r\n      // If error occurs, assume new user and redirect to details for safety\r\n      this.router.navigateByUrl('/details', { replaceUrl: true });\r\n    }\r\n  }\r\n\r\n  initializeBackButtonCustomHandler() {\r\n    this.backButtonSubscription = this.platform.backButton.subscribeWithPriority(10, () => {\r\n      this.handleBackButton();\r\n    });\r\n  }\r\n\r\n  async handleBackButton() {\r\n    try {\r\n      await this.showExitConfirmation();\r\n    } catch (error) {\r\n      console.error('Error handling back button:', error);\r\n    }\r\n  }\r\n\r\n  async showExitConfirmation() {\r\n    const alert = await this.alertController.create({\r\n      header: await this.translate.get('EXIT_APP').toPromise(),\r\n      message: await this.translate.get('EXIT_CONFIRM').toPromise(),\r\n      buttons: [\r\n        {\r\n          text: await this.translate.get('CANCEL').toPromise(),\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text: await this.translate.get('EXIT').toPromise(),\r\n          handler: () => {\r\n            navigator['app'].exitApp();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async changeLanguage(lang: string) {\r\n    console.log('Changing language to:', lang);\r\n    try {\r\n      // Set the language immediately\r\n      this.translate.setDefaultLang(lang);\r\n\r\n      // Use the translation service to switch language and wait for it\r\n      await this.translate.use(lang).toPromise();\r\n\r\n      console.log('Language successfully changed to:', lang);\r\n      console.log('Current language:', this.translate.currentLang);\r\n\r\n      // Save to preferences\r\n      await Preferences.set({ key: 'user-lang', value: lang });\r\n\r\n      // Force reload translations by getting a test key\r\n      const testTranslation = await this.translate.get('APP_NAME').toPromise();\r\n      console.log('Test translation:', testTranslation);\r\n\r\n    } catch (error) {\r\n      console.error('Error changing language:', error);\r\n    }\r\n  }\r\n\r\n  updateFlag(countryCode: string) {\r\n    const flagData = this.countryFlagService.getFlagWithFallback(countryCode);\r\n    this.flag = flagData.url;\r\n    this.flagEmoji = flagData.emoji;\r\n    this.flagLoadError = false;\r\n  }\r\n\r\n  onFlagLoadError() {\r\n    console.log('Flag image failed to load, using emoji fallback');\r\n    this.flagLoadError = true;\r\n  }\r\n\r\n  private async getEmailAuthErrorMessage(error: any): Promise<string> {\r\n    const code = error?.code;\r\n\r\n    switch (code) {\r\n      case 'auth/invalid-email':\r\n        return await this.translate.get('EMAIL_INVALID').toPromise();\r\n      case 'auth/user-disabled':\r\n        return await this.translate.get('LOGIN_USER_DISABLED').toPromise();\r\n      case 'auth/user-not-found':\r\n        return await this.translate.get('LOGIN_USER_NOT_FOUND').toPromise();\r\n      case 'auth/wrong-password':\r\n      case 'auth/invalid-credential':\r\n      case 'auth/invalid-login-credentials':\r\n        return await this.translate.get('LOGIN_WRONG_PASSWORD').toPromise();\r\n      case 'auth/too-many-requests':\r\n        return await this.translate.get('LOGIN_TOO_MANY_REQUESTS').toPromise();\r\n      case 'auth/no-user':\r\n        return await this.translate.get('LOGIN_GENERIC_ERROR').toPromise();\r\n      default:\r\n        return await this.translate.get('LOGIN_GENERIC_ERROR').toPromise();\r\n    }\r\n  }\r\n\r\n  async detectUserCountry() {\r\n    try {\r\n      // Use native HTTP for better Android compatibility\r\n      const response = await fetch('https://ipapi.co/json/', {\r\n        method: 'GET',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      const countryCode = data.country;\r\n      const matchingCountry = this.CountryJson.find(\r\n        country => country.isoCode === countryCode\r\n      );\r\n      if (matchingCountry) {\r\n        this.CountryCode = matchingCountry.dialCode;\r\n        this.numberT = matchingCountry.dialCode;\r\n        this.userCountry = countryCode;\r\n        this.updateFlag(countryCode);\r\n      } else {\r\n        // If country not found, keep Malaysia as default\r\n        this.CountryCode = '+60';\r\n        this.numberT = '+60';\r\n        this.userCountry = 'MY';\r\n        this.updateFlag('MY');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error detecting country:', error);\r\n      // On error, ensure Malaysia defaults are set\r\n      this.CountryCode = '+60';\r\n      this.numberT = '+60';\r\n      this.userCountry = 'MY';\r\n      this.updateFlag('MY');\r\n    }\r\n  }\r\n}\r\n","<ion-header [translucent]=\"true\" class=\"ion-no-border\">\r\n  <ion-toolbar class=\"header-toolbar\">\r\n    <ion-title class=\"app-title\">\r\n      <h1>{{ 'PEGASUS' | translate }}</h1>\r\n\r\n      <p class=\"tagline\">{{ 'APP_TAGLINE' | translate }}</p>\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"login-content\">\r\n  <div class=\"content-wrapper\" style=\"padding-top:10px ;\">\r\n    <!-- Image Slider -->\r\n    <div class=\"slider-container\">\r\n      <swiper-container\r\n        [pagination]=\"{ clickable: true }\"\r\n        [autoplay]=\"{ delay: 3000, disableOnInteraction: false }\"\r\n        [initialSlide]=\"0\"\r\n        [speed]=\"400\">\r\n        <swiper-slide>\r\n          <ion-img src=\"../assets/imgs/main.svg\"></ion-img>\r\n        </swiper-slide>\r\n        <swiper-slide>\r\n          <ion-img src=\"../assets/imgs/main1.svg\"></ion-img>\r\n        </swiper-slide>\r\n        <swiper-slide>\r\n          <ion-img src=\"../assets/imgs/main2.svg\"></ion-img>\r\n        </swiper-slide>\r\n      </swiper-container>\r\n    </div>\r\n\r\n    <!-- Login Form -->\r\n    <div class=\"form-container\">\r\n      <form [formGroup]=\"form\">\r\n        <div id=\"sign-in-button\"></div>\r\n\r\n        <!-- Phone Input Card -->\r\n        <ion-card class=\"phone-input-card\">\r\n          <ion-card-content class=\"card-content\">\r\n            <div class=\"input-wrapper\">\r\n              <!-- Country Code Button -->\r\n              <button type=\"button\" class=\"country-select-btn\" (click)=\"openCountrySearchModal()\">\r\n                <img *ngIf=\"!flagLoadError\" [src]=\"flag\" class=\"country-flag\" alt=\"country flag\" (error)=\"onFlagLoadError()\">\r\n                <span *ngIf=\"flagLoadError\" class=\"country-flag-emoji\">{{ flagEmoji }}</span>\r\n                <span class=\"country-code\">{{ CountryCode }}</span>\r\n                <ion-icon name=\"chevron-down-outline\" class=\"dropdown-icon\"></ion-icon>\r\n              </button>\r\n\r\n              <!-- Phone Number Input -->\r\n              <div class=\"phone-input-wrapper\">\r\n                <ion-input class=\"phone-input\" type=\"tel\" formControlName=\"phone\"\r\n                  [placeholder]=\"'MOBILE_NUMBER' | translate\" clearInput minlength=\"10\" maxlength=\"10\"\r\n                  (ionFocus)=\"Show()\" (ionBlur)=\"Hide()\">\r\n                </ion-input>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Validation Error -->\r\n            <div class=\"validation-error\" *ngIf=\"!form.get('phone').valid && form.get('phone').touched\">\r\n              <ion-text color=\"danger\">\r\n                <small *ngIf=\"form.get('phone').hasError('required')\">\r\n                  {{ 'MOBILE_REQUIRED' | translate }}\r\n                </small>\r\n                <small *ngIf=\"form.get('phone').hasError('minlength') && !form.get('phone').hasError('required')\">\r\n                  {{ 'MOBILE_INVALID' | translate }}\r\n                </small>\r\n              </ion-text>\r\n            </div>\r\n          </ion-card-content>\r\n        </ion-card>\r\n\r\n        <!-- Submit Button -->\r\n        <ion-button class=\"submit-btn\" shape=\"round\" size=\"large\" type=\"submit\" [disabled]=\"!form.get('phone').valid\"\r\n          color=\"primary\" (click)=\"signIn()\" expand=\"block\">\r\n          <span *ngIf=\"!approve2\">{{ 'CONTINUE' | translate }}</span>\r\n          <ion-icon *ngIf=\"!approve2\" slot=\"end\" name=\"arrow-forward-outline\"></ion-icon>\r\n          <ion-spinner *ngIf=\"approve2\" name=\"crescent\"></ion-spinner>\r\n        </ion-button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Language Selector FAB -->\r\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\" class=\"language-fab\">\r\n    <ion-fab-button size=\"medium\" color=\"light\">\r\n      <ion-icon name=\"language-outline\"></ion-icon>\r\n    </ion-fab-button>\r\n    <ion-fab-list side=\"top\">\r\n      <ion-fab-button (click)=\"changeLanguage('en')\" color=\"light\" size=\"small\">\r\n            <ion-text>EN</ion-text>\r\n      </ion-fab-button>\r\n      <ion-fab-button (click)=\"changeLanguage('ms')\" color=\"light\" size=\"small\">\r\n            <ion-text>MS</ion-text>\r\n      </ion-fab-button>\r\n    </ion-fab-list>\r\n  </ion-fab>\r\n\r\n</ion-content>\r\n\r\n<ion-footer class=\"ion-no-border\">\r\n  <div id=\"recaptcha-container\"></div>\r\n</ion-footer>","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CountryFlagService {\r\n\r\n  // Map of country codes to flag emojis as fallback\r\n  private flagEmojis: { [key: string]: string } = {\r\n    'MY': 'ðŸ‡²ðŸ‡¾',\r\n    'US': 'ðŸ‡ºðŸ‡¸',\r\n    'SA': 'ðŸ‡¸ðŸ‡¦',\r\n    'AE': 'ðŸ‡¦ðŸ‡ª',\r\n    'IN': 'ðŸ‡®ðŸ‡³',\r\n    'PK': 'ðŸ‡µðŸ‡°',\r\n    'BD': 'ðŸ‡§ðŸ‡©',\r\n    'SG': 'ðŸ‡¸ðŸ‡¬',\r\n    'TH': 'ðŸ‡¹ðŸ‡­',\r\n    'ID': 'ðŸ‡®ðŸ‡©',\r\n    'PH': 'ðŸ‡µðŸ‡­',\r\n    'VN': 'ðŸ‡»ðŸ‡³',\r\n    'GB': 'ðŸ‡¬ðŸ‡§',\r\n    'AU': 'ðŸ‡¦ðŸ‡º',\r\n    'CA': 'ðŸ‡¨ðŸ‡¦',\r\n    'DE': 'ðŸ‡©ðŸ‡ª',\r\n    'FR': 'ðŸ‡«ðŸ‡·',\r\n    'IT': 'ðŸ‡®ðŸ‡¹',\r\n    'ES': 'ðŸ‡ªðŸ‡¸',\r\n    'NL': 'ðŸ‡³ðŸ‡±',\r\n    'BE': 'ðŸ‡§ðŸ‡ª',\r\n    'CH': 'ðŸ‡¨ðŸ‡­',\r\n    'AT': 'ðŸ‡¦ðŸ‡¹',\r\n    'SE': 'ðŸ‡¸ðŸ‡ª',\r\n    'NO': 'ðŸ‡³ðŸ‡´',\r\n    'DK': 'ðŸ‡©ðŸ‡°',\r\n    'FI': 'ðŸ‡«ðŸ‡®',\r\n    'JP': 'ðŸ‡¯ðŸ‡µ',\r\n    'KR': 'ðŸ‡°ðŸ‡·',\r\n    'CN': 'ðŸ‡¨ðŸ‡³',\r\n    'HK': 'ðŸ‡­ðŸ‡°',\r\n    'TW': 'ðŸ‡¹ðŸ‡¼',\r\n    'BR': 'ðŸ‡§ðŸ‡·',\r\n    'MX': 'ðŸ‡²ðŸ‡½',\r\n    'AR': 'ðŸ‡¦ðŸ‡·',\r\n    'CL': 'ðŸ‡¨ðŸ‡±',\r\n    'CO': 'ðŸ‡¨ðŸ‡´',\r\n    'PE': 'ðŸ‡µðŸ‡ª',\r\n    'ZA': 'ðŸ‡¿ðŸ‡¦',\r\n    'EG': 'ðŸ‡ªðŸ‡¬',\r\n    'NG': 'ðŸ‡³ðŸ‡¬',\r\n    'KE': 'ðŸ‡°ðŸ‡ª',\r\n    'GH': 'ðŸ‡¬ðŸ‡­',\r\n    'RU': 'ðŸ‡·ðŸ‡º',\r\n    'TR': 'ðŸ‡¹ðŸ‡·',\r\n    'IL': 'ðŸ‡®ðŸ‡±',\r\n    'JO': 'ðŸ‡¯ðŸ‡´',\r\n    'LB': 'ðŸ‡±ðŸ‡§',\r\n    'KW': 'ðŸ‡°ðŸ‡¼',\r\n    'QA': 'ðŸ‡¶ðŸ‡¦',\r\n    'BH': 'ðŸ‡§ðŸ‡­',\r\n    'OM': 'ðŸ‡´ðŸ‡²',\r\n    'IQ': 'ðŸ‡®ðŸ‡¶',\r\n    'IR': 'ðŸ‡®ðŸ‡·',\r\n    'AF': 'ðŸ‡¦ðŸ‡«',\r\n    'LK': 'ðŸ‡±ðŸ‡°',\r\n    'NP': 'ðŸ‡³ðŸ‡µ',\r\n    'BT': 'ðŸ‡§ðŸ‡¹',\r\n    'MM': 'ðŸ‡²ðŸ‡²',\r\n    'KH': 'ðŸ‡°ðŸ‡­',\r\n    'LA': 'ðŸ‡±ðŸ‡¦',\r\n    'BN': 'ðŸ‡§ðŸ‡³',\r\n    'MV': 'ðŸ‡²ðŸ‡»'\r\n  };\r\n\r\n  constructor() { }\r\n\r\n  /**\r\n   * Get flag for country code - tries CDN first, falls back to emoji\r\n   */\r\n  getFlagUrl(countryCode: string): string {\r\n    const code = countryCode.toUpperCase();\r\n    \r\n    // Try CDN first (might work on some devices/networks)\r\n    const cdnUrl = `https://cdn.kcak11.com/CountryFlags/countries/${code.toLowerCase()}.svg`;\r\n    \r\n    // Return CDN URL - if it fails to load, the img tag can handle fallback\r\n    return cdnUrl;\r\n  }\r\n\r\n  /**\r\n   * Get flag emoji as fallback\r\n   */\r\n  getFlagEmoji(countryCode: string): string {\r\n    const code = countryCode.toUpperCase();\r\n    return this.flagEmojis[code] || 'ðŸ³ï¸';\r\n  }\r\n\r\n  /**\r\n   * Get flag with fallback handling\r\n   */\r\n  getFlagWithFallback(countryCode: string): { url: string, emoji: string } {\r\n    return {\r\n      url: this.getFlagUrl(countryCode),\r\n      emoji: this.getFlagEmoji(countryCode)\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Check if CDN is accessible (for testing)\r\n   */\r\n  async testCdnAccess(): Promise<boolean> {\r\n    try {\r\n      // Try to access the CDN with a simple HEAD request\r\n      const response = await fetch('https://cdn.kcak11.com/CountryFlags/countries/my.svg', {\r\n        method: 'HEAD',\r\n        mode: 'no-cors'\r\n      });\r\n      return true;\r\n    } catch (error) {\r\n      console.log('CDN not accessible, will use emoji fallbacks');\r\n      return false;\r\n    }\r\n  }\r\n}"],"names":["FormControl","FormGroup","Validators","OtpComponent","environment","StatusBar","SplashScreen","CountrySearchModalComponent","Preferences","i0","LoginPage","constructor","modalCtrl","auth","router","avatar","overlay","alertController","platform","translate","countryFlagService","CountryJson","CountryCode","numberT","updateFlag","ngOnInit","form","phone","validators","required","minLength","maxLength","passwordForm","email","password","filteredCountries","loadLanguage","setTimeout","recaptcha","initializeBackButtonCustomHandler","ngOnDestroy","backButtonSubscription","unsubscribe","clearRecaptcha","value","get","key","lang","console","log","setDefaultLang","use","toPromise","currentLang","getDefaultLang","testKey","error","HideSplash","hide","openCountrySearchModal","modal","create","component","present","data","onWillDismiss","dialCode","userCountry","isoCode","filterCountries","event","searchTerm","target","toLowerCase","filter","country","name","includes","countryCodeChange","$event","detail","toString","Show","setOverlaysWebView","Hide","onLoginMethodChange","selectedMethod","loginMethod","reset","isPasswordSubmitting","signIn","signInWithEmailPassword","valid","errorMessage","hasError","showAlert","showLoader","fullPhoneNumber","confirmationResult","isInTestMode","hideLoader","testOTP","localStorage","getItem","proceedWithTestMode","signInWithPhoneNumber","authError","wantsTestMode","showErrorWithTestModeOption","code","switchToTestMode","storedOTP","componentProps","defaultOtp","countryCode","isTestMode","canDismiss","user","navigateAfterLogin","e","handleAuthError","markAllAsTouched","trim","credential","signInWithEmailAndPassword","header","message","getEmailAuthErrorMessage","signInWithGoogle","isGoogleSigningIn","result","Error","uid","displayName","phoneNumber","photoURL","matchedCountry","find","startsWith","localNumber","replace","controls","setValue","errorCode","errorTitle","errorDetails","fullMessage","Promise","resolve","alert","cssClass","buttons","text","role","handler","defaultNumbers","randomDefaultNumber","Math","floor","random","length","setItem","testPhoneNumber","mockConfirmationResult","confirm","otp","realConfirmationResult","navigateByUrl","replaceUrl","hasRiderProfile","checkRiderProfile","backButton","subscribeWithPriority","handleBackButton","showExitConfirmation","navigator","exitApp","changeLanguage","set","testTranslation","flagData","getFlagWithFallback","flag","url","flagEmoji","emoji","flagLoadError","onFlagLoadError","detectUserCountry","response","fetch","method","headers","ok","status","json","matchingCountry","selectors","decls","vars","consts","template","ctx","CountryFlagService","getFlagUrl","toUpperCase","cdnUrl","getFlagEmoji","flagEmojis","testCdnAccess","mode","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}