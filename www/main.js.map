{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;;;;;AASM,MAAOE,gBAAP,CAAuB;EAU3BC,YACUC,EADV,EAEUC,eAFV,EAGUC,iBAHV,EAIUC,cAJV,EAKUC,aALV,EAMUC,eANV,EAOUC,aAPV,EAOsC;IAN5B;IACA;IACA;IACA;IACA;IACA;IACA;IAVV,sBAA0B,KAA1B;IACA,uBAA2B,KAA3B;IAWE,KAAKC,WAAL,GAAmB,KAAKP,EAAL,CAAQQ,KAAR,CAAc;MAC/BC,QAAQ,EAAE,CAAC,QAAD,EAAWZ,+DAAX,CADqB;MAE/Bc,MAAM,EAAE,CAAC,EAAD,CAFuB;MAG/BC,QAAQ,EAAE,CAAC,EAAD;IAHqB,CAAd,CAAnB;EAKD;;EAEDC,QAAQ,IACN;EACD;;EAEDC,eAAe;IACb,KAAKC,oBAAL;EACD;;EAEDA,oBAAoB;IAClB,IAAI,KAAKC,WAAL,IAAoB,KAAKA,WAAL,CAAiBC,aAAzC,EAAwD;MACtD,KAAKC,MAAL,GAAcC,MAAM,CAAC,6GAAD,CAApB;MACA,KAAKC,QAAL,GAAgB,KAAKF,MAAL,CAAYE,QAAZ,EAAhB;;MACA,IAAI,CAAC,KAAKC,IAAV,EAAgB;QACd,KAAKA,IAAL,GAAY,KAAKD,QAAL,CAAcE,MAAd,CAAqB,MAArB,CAAZ;QACA,KAAKD,IAAL,CAAUE,KAAV,CAAgB,KAAKP,WAAL,CAAiBC,aAAjC;QACA,KAAKI,IAAL,CAAUG,EAAV,CAAa,QAAb,EAAuBC,KAAK,IAAG;UAC7B,KAAKC,cAAL,GAAsBD,KAAK,CAACE,QAA5B;QACD,CAFD;MAGD;;MACD,KAAKC,eAAL,GAAuB,IAAvB;IACD;EACF;;EAEKC,cAAc;IAAA;;IAAA;MAClB,IAAI,KAAI,CAACtB,WAAL,CAAiBuB,KAArB,EAA4B;QAC1B,MAAMC,UAAU,GAAG,KAAI,CAACxB,WAAL,CAAiByB,KAApC;QACAD,UAAU,CAACE,KAAX,GAAmB,KAAI,CAAC7B,aAAL,CAAmB8B,IAAnB,CAAwBD,KAA3C,CAF0B,CAEwB;;QAElD,KAAI,CAACE,WAAL;;QAEA,IAAI;UACF,MAAMC,QAAQ,SAAS,KAAI,CAACC,oBAAL,CAA0BN,UAA1B,CAAvB;UAEA,MAAM,KAAI,CAAC1B,eAAL,CAAqBiC,OAArB,CAA6B;YAAEC,OAAO,EAAE,IAAX;YAAiBH;UAAjB,CAA7B,CAAN;QACD,CAJD,CAIE,OAAOI,KAAP,EAAc;UACd,MAAMC,YAAY,GAAGD,KAAK,CAACE,OAAN,KAAkBF,KAAK,CAACA,KAAN,GAAcA,KAAK,CAACA,KAAN,CAAYA,KAA1B,GAAkC,+BAApD,CAArB;UACA,MAAM,KAAI,CAACG,SAAL,CAAe,OAAf,EAAwBF,YAAxB,CAAN;QACD,CAPD,SAOU;UACR,KAAI,CAACG,WAAL;QACD;MACF,CAhBD,MAgBO;QACL,KAAI,CAACD,SAAL,CAAe,YAAf,EAA6B,sCAA7B;MACD;IAnBiB;EAoBnB;;EAEKN,oBAAoB,CAACN,UAAD,EAAW;IAAA;;IAAA;MACnCc,OAAO,CAACC,GAAR,CAAY,gDAAZ,EAA8Df,UAA9D;;MAEA,IAAI;QACF,MAAMgB,mBAAmB,SAAS,MAAI,CAAC5C,cAAL,CAAoB6C,iBAApB,CAAsCjB,UAAU,CAACE,KAAjD,EAAwDgB,SAAxD,EAAlC;QACAJ,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CC,mBAA1C;QACA,MAAMG,IAAI,GAAQH,mBAAlB;QACA,MAAMI,YAAY,GAAGD,IAAI,KAAKA,IAAI,CAACE,aAAL,IAAsBF,IAAI,CAACC,YAA3B,IAA2CD,IAAI,CAACG,iBAAhD,IAAqEH,IAAI,CAACI,MAA/E,CAAzB;QACAT,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCK,YAAtC;;QAEA,IAAI,CAACA,YAAL,EAAmB;UACjB,MAAM,IAAII,KAAJ,CAAU,wDAAV,CAAN;QACD;;QAED,IAAIC,MAAM,CAACL,YAAD,CAAN,CAAqBM,UAArB,CAAgC,OAAhC,KAA4C,CAACD,MAAM,CAACL,YAAD,CAAN,CAAqBO,QAArB,CAA8B,UAA9B,CAAjD,EAA4F;UAC1F,MAAM,IAAIH,KAAJ,CAAU,8GAAV,CAAN;QACD;;QAED,MAAM;UAAEI,WAAF;UAAenB;QAAf,UAA+B,MAAI,CAACtB,MAAL,CAAY0C,gBAAZ,CACnCT,YADmC,EAEnC;UACEU,cAAc,EAAE;YACdxC,IAAI,EAAE,MAAI,CAACA,IADG;YAEdyC,eAAe,EAAE;cACf7B,KAAK,EAAEF,UAAU,CAACE;YADH;UAFH;QADlB,CAFmC,CAArC;;QAYA,IAAIO,KAAJ,EAAW;UACTK,OAAO,CAACL,KAAR,CAAc,gDAAd,EAAgEA,KAAhE;UACA,MAAM,IAAIe,KAAJ,CAAUf,KAAK,CAACE,OAAhB,CAAN;QACD;;QAEDG,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCa,WAArC;QAEA,MAAMI,eAAe,GAAGJ,WAAW,CAACE,cAApC,CAlCE,CAoCF;;QACA,MAAMG,aAAa,SAAS,MAAI,CAAC7D,cAAL,CAAoB8D,qBAApB,CAA0CF,eAA1C,EAA2Dd,SAA3D,EAA5B;QACAJ,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCkB,aAAzC;QAEA,MAAME,WAAW,GAAGF,aAAa,CAAC3C,IAAlC;QACA,MAAM8C,KAAK,GAAGD,WAAW,CAACC,KAA1B;QACA,MAAMC,KAAK,GAAGF,WAAW,CAACE,KAA1B,CA1CE,CA0C+B;;QAEjCvB,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmDf,UAAU,CAACE,KAA9D,EAAqE,aAArE,EAAoFkC,KAApF;QACA,MAAME,UAAU,SAAS,MAAI,CAACjE,aAAL,CAAmBkE,qBAAnB,CAAyCvC,UAAU,CAACE,KAApD,EAA2DkC,KAA3D,CAAzB;;QAEA,IAAIE,UAAJ,EAAgB;UACd,MAAM,IAAId,KAAJ,CAAU,6CAAV,CAAN;QACD,CAjDC,CAmDF;;;QACA,MAAMnB,QAAQ,GAAG;UACfzB,MAAM,EAAEoD,eADO;UAEf9B,KAAK,EAAEF,UAAU,CAACE,KAFH;UAGfkC,KAAK,EAAEA,KAHQ;UAIfC,KAAK,EAAEA,KAAK,IAAI;QAJD,CAAjB;QAOA,MAAM,MAAI,CAAChE,aAAL,CAAmBmE,QAAnB,CAA4BnC,QAA5B,CAAN;QACAS,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCV,QAAxC,EA5DE,CA8DF;;QACA,MAAM,MAAI,CAACjC,cAAL,CAAoBqE,iBAApB,CAAsCzC,UAAU,CAACE,KAAjD,EAAwD8B,eAAxD,EAAyEd,SAAzE,EAAN;QAEA,OAAOb,QAAP;MAED,CAnED,CAmEE,OAAOI,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,gCAAd,EAAgDA,KAAhD;QACA,MAAMA,KAAN;MACD;IAzEkC;EA0EpC;;EAEKL,WAAW;IAAA;;IAAA;MACf,MAAI,CAACsC,OAAL,SAAqB,MAAI,CAACvE,iBAAL,CAAuBoB,MAAvB,CAA8B;QAAEoB,OAAO,EAAE;MAAX,CAA9B,CAArB;MACA,MAAM,MAAI,CAAC+B,OAAL,CAAaC,OAAb,EAAN;IAFe;EAGhB;;EAEK9B,WAAW;IAAA;;IAAA;MACf,IAAI,MAAI,CAAC6B,OAAT,EAAkB;QAChB,MAAM,MAAI,CAACA,OAAL,CAAanC,OAAb,EAAN;MACD;IAHc;EAIhB;;EAEKK,SAAS,CAACgC,MAAD,EAAiBjC,OAAjB,EAAgC;IAAA;;IAAA;MAC7C,MAAMkC,KAAK,SAAS,MAAI,CAAC3E,eAAL,CAAqBqB,MAArB,CAA4B;QAC9CqD,MAD8C;QAE9CjC,OAF8C;QAG9CmC,OAAO,EAAE,CAAC,IAAD;MAHqC,CAA5B,CAApB;MAKA,MAAMD,KAAK,CAACF,OAAN,EAAN;IAN6C;EAO9C;;EAEDI,UAAU;IACR,KAAKzE,eAAL,CAAqBiC,OAArB;EACD;;AAzK0B;;;mBAAhBxC,kBAAgBiF,+DAAAA,CAAAA,uDAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,6DAAAA,GAAAA,+DAAAA,CAAAA,qEAAAA,GAAAA,+DAAAA,CAAAA,mEAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,yDAAAA;AAAA;;;QAAhBjF;EAAgBkF;EAAAC;IAAA;;;;;;;;;;;;;;;MCX7BF,4DAAAA,qBAAuD,CAAvD,EAAuD,aAAvD,EAAuD,CAAvD,EAAuD,aAAvD,EAAuD,CAAvD,EAAuD,CAAvD,EAAuD,YAAvD,EAAuD,CAAvD;MAGkBA,wDAAAA;QAAA,OAASG,gBAAT;MAAqB,CAArB;MACVH,uDAAAA;MACFA,0DAAAA;MAEFA,4DAAAA;MAAWA,oDAAAA;;MAAwCA,0DAAAA;MAIvDA,4DAAAA,sBAAiC,CAAjC,EAAiC,KAAjC,EAAiC,CAAjC,EAAiC,EAAjC,EAAiC,KAAjC,EAAiC,CAAjC;MAGMA,uDAAAA;MACAA,4DAAAA;MAAIA,oDAAAA;;MAAwCA,0DAAAA;MAG9CA,4DAAAA,eAAiC,EAAjC,EAAiC,MAAjC,EAAiC,CAAjC;MACkCA,wDAAAA;QAAA,OAAYG,oBAAZ;MAA4B,CAA5B;MAC9BH,4DAAAA;MACEA,uDAAAA,oBAA+C,EAA/C,EAA+C,KAA/C,EAA+C,EAA/C;MAEFA,0DAAAA;MAEAA,4DAAAA;MAQEA,uDAAAA;MACAA,oDAAAA;;MACFA,0DAAAA;;;;MAnC0BA,wDAAAA;MAOnBA,uDAAAA;MAAAA,+DAAAA,CAAAA,yDAAAA;MAQLA,uDAAAA;MAAAA,+DAAAA,CAAAA,yDAAAA;MAIEA,uDAAAA;MAAAA,wDAAAA;MAaFA,uDAAAA;MAAAA,wDAAAA;MAEAA,uDAAAA;MAAAA,gEAAAA,MAAAA,yDAAAA;;;;;;;;;;;;;;;;;;;;;;;ACjCgE;AAKxC;;;AAGlC,MAAM,2BAA2B,GAAG,GAAG,EAAE,CAAC,gFAAsB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AAC5E,MAAM,sBAAsB,GAAG,GAAG,EAAE,CAAC,4EAAkB,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AAElE,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,UAAU,EAAE,MAAM;QAClB,SAAS,EAAE,MAAM;KAClB;IACD;QACE,IAAI,EAAE,OAAO;QACb,YAAY,EAAE,GAAG,EAAE,CACjB,6JAA8B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC;QAC/D,GAAG,qEAAW,CAAC,sBAAsB,CAAC;KACvC;IACD;QACE,IAAI,EAAE,MAAM;QACZ,YAAY,EAAE,GAAG,EAAE,CACjB,uMAA4B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC;QAC5D,GAAG,qEAAW,CAAC,2BAA2B,CAAC;KAC5C;IACD;QACE,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CACjB,iRAAwC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;QAC3E,GAAG,qEAAW,CAAC,2BAA2B,CAAC;KAC5C;IACD;QACE,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CACjB,iLAAwC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;QAC3E,GAAG,qEAAW,CAAC,2BAA2B,CAAC;KAC5C;IACD;QACE,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CACjB,iRAAwC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;QAC3E,GAAG,qEAAW,CAAC,2BAA2B,CAAC;KAC5C;IACD;QACE,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CACjB,iLAAwC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;QAC3E,GAAG,qEAAW,CAAC,2BAA2B,CAAC,EAAE,cAAc;KAC5D;IACD;QACE,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CACjB,iLAAwC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;QAC3E,GAAG,qEAAW,CAAC,2BAA2B,CAAC,EAAE,cAAc;KAC5D;IACD;QACE,IAAI,EAAE,OAAO;QACb,YAAY,EAAE,GAAG,EAAE,CACjB,yKAAoC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC;QACrE,GAAG,qEAAW,CAAC,2BAA2B,CAAC,EAAE,cAAc;KAC5D;IACD;QACE,IAAI,EAAE,WAAW;QACjB,YAAY,EAAE,GAAG,EAAE,CACjB,yLAA4C,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,mBAAmB,CAAC;QACjF,GAAG,qEAAW,CAAC,2BAA2B,CAAC,EAAE,cAAc;KAC5D;IACD;QACE,IAAI,EAAE,QAAQ;QACd,YAAY,EAAE,GAAG,EAAE,CACjB,6KAAsC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC;QACxE,GAAG,qEAAW,CAAC,2BAA2B,CAAC,EAAE,cAAc;KAC5D;IACD;QACE,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CACjB,gOAAwC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;QAC3E,GAAG,qEAAW,CAAC,2BAA2B,CAAC,EAAE,cAAc;KAC5D;IACD;QACE,IAAI,EAAE,iBAAiB;QACvB,YAAY,EAAE,GAAG,EAAE,CAAC,qMAAkD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,yBAAyB,CAAC;KAC9G;IACD;QACE,IAAI,EAAE,IAAI;QACV,UAAU,EAAE,MAAM;KACnB;CACF,CAAC;AAQK,MAAM,gBAAgB;;gFAAhB,gBAAgB;6GAAhB,gBAAgB;iHAJzB,iEAAoB,CAAC,MAAM,EAAE,EAAE,kBAAkB,EAAE,8DAAiB,EAAE,CAAC,EAE/D,yDAAY;mIAEX,gBAAgB,oFAFjB,yDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClGxB;AAEA;AAEA;AAEA;AAEA;;;;;;;;;;;;ICDcA,4DAAAA;IACEA,uDAAAA;IACFA,0DAAAA;;;;;IADWA,uDAAAA;IAAAA,wDAAAA;;;;;;IAEXA,4DAAAA;IACEA,uDAAAA;IACFA,0DAAAA;;;;;;IAMFA,4DAAAA,gBAAwB,CAAxB,EAAwB,YAAxB;IAEIA,uDAAAA;IACFA,0DAAAA;IACAA,4DAAAA,oBAA8B,CAA9B,EAA8B,IAA9B;IACMA,uDAAAA;IAA8EA,0DAAAA;IAClFA,4DAAAA;IAAGA,uDAAAA;IAA6EA,0DAAAA;;;;IAJ7DA,uDAAAA;IAAAA,wDAAAA;IAGIA,uDAAAA;IAAAA,wDAAAA;IACDA,uDAAAA;IAAAA,wDAAAA;;;;;;;;IAM5BA,4DAAAA,2BAA6E,CAA7E,EAA6E,UAA7E,EAA6E,EAA7E;IAC6BA,wDAAAA;MAAA;MAAA;MAAA;MAAA,OAASA,yDAAAA,2BAAT;IAAwB,CAAxB;IACzBA,uDAAAA;IACAA,4DAAAA;IAAWA,oDAAAA;;IAAyBA,0DAAAA;;;;;IADbA,uDAAAA;IAAAA,wDAAAA,mBAAc,IAAd,EAAcU,SAAd,EAAc,OAAd,EAAcA,UAAd;IACZV,uDAAAA;IAAAA,+DAAAA,CAAAA,yDAAAA;;;;;;;;IA/BrBA,4DAAAA,mBAA+D,CAA/D,EAA+D,aAA/D,EAA+D,CAA/D,EAA+D,UAA/D,EAA+D,CAA/D,EAA+D,CAA/D,EAA+D,iBAA/D,EAA+D,CAA/D,EAA+D,UAA/D,EAA+D,CAA/D;IAIkBA,wDAAAA;MAAAA,2DAAAA;MAAA;MAAA,OAASA,yDAAAA,sBAAT;IAAsB,CAAtB;IACRA,wDAAAA;IAGAA,wDAAAA;IAGAA,4DAAAA,oBAA8B,CAA9B,EAA8B,IAA9B;IACMA,oDAAAA;IAAmCA,0DAAAA;IACvCA,4DAAAA;IAAGA,oDAAAA;IAAwCA,0DAAAA;IAG/CA,wDAAAA;IASFA,0DAAAA;IAEFA,4DAAAA;IACEA,wDAAAA;IAMFA,0DAAAA;;;;;IA7BmBA,uDAAAA;IAAAA,wDAAAA;IAGAA,uDAAAA;IAAAA,wDAAAA;IAIPA,uDAAAA;IAAAA,+DAAAA;IACDA,uDAAAA;IAAAA,+DAAAA;IAGIA,uDAAAA;IAAAA,wDAAAA;IAYoCA,uDAAAA;IAAAA,wDAAAA;;;;ADdrD,MAAOW,YAAP,CAAmB;EAcvB3F,YACU4F,QADV,EAEUC,MAFV,EAGSC,MAHT,EAIUC,IAJV,EAKUC,GALV,EAMUC,MANV,EAOUC,SAPV,EAQUC,gBARV,EAQ4C;IAPlC;IACA;IACD;IACC;IACA;IACA;IACA;IACA;IAlBV,eAAmB,IAAnB;IAEA,gBAAW,CACT;MAAEC,KAAK,EAAE,cAAT;MAAyBC,GAAG,EAAE,UAA9B;MAA0CC,IAAI,EAAE,MAAhD;MAAwDC,KAAK,EAAE;IAA/D,CADS,EAET;MAAEH,KAAK,EAAE,cAAT;MAAyBC,GAAG,EAAE,UAA9B;MAA0CC,IAAI,EAAE,MAAhD;MAAwDC,KAAK,EAAE;IAA/D,CAFS,EAGT;MAAEH,KAAK,EAAE,gBAAT;MAA2BC,GAAG,EAAE,YAAhC;MAA8CC,IAAI,EAAE,MAApD;MAA4DC,KAAK,EAAE;IAAnE,CAHS,EAIT;MAAEH,KAAK,EAAE,cAAT;MAAyBC,GAAG,EAAE,UAA9B;MAA0CC,IAAI,EAAE,aAAhD;MAA+DC,KAAK,EAAE;IAAtE,CAJS,EAKT;MAAEH,KAAK,EAAE,YAAT;MAAuBC,GAAG,EAAE,QAA5B;MAAsCC,IAAI,EAAE,oBAA5C;MAAkEC,KAAK,EAAE;IAAzE,CALS,CAAX,CAgB4C,CAE1C;;IACA,KAAKL,SAAL,CAAeM,cAAf,CAA8B,IAA9B;IACA,KAAKN,SAAL,CAAeO,GAAf,CAAmB,IAAnB;IACA,KAAKC,eAAL,GAAuB,IAAvB;IAEA,KAAKC,aAAL;IACA,KAAKV,MAAL,CAAYW,MAAZ,CAAmBC,SAAnB,CAA6BnF,KAAK,IAAG;MACnC,IAAIA,KAAK,YAAY8D,0DAArB,EAAoC;QAClC1C,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCrB,KAAjC;MACD;IACF,CAJD;EAKD;;EAEDiF,aAAa;IACX;IACA,KAAKG,qBAAL;IACA,KAAKC,UAAL;IACA,KAAKC,mBAAL;EACD;EAED;;;;;EAGcA,mBAAmB;IAAA;;IAAA;MAC/B,IAAI;QACF;QACA,MAAM,KAAI,CAACb,gBAAL,CAAsBc,aAAtB,EAAN,CAFE,CAIF;;QACA,MAAM,KAAI,CAACd,gBAAL,CAAsBe,iBAAtB,EAAN,CALE,CAOF;;QACA,KAAI,CAACf,gBAAL,CAAsBgB,kBAAtB,CAAyCN,SAAzC,CAAoDO,IAAD,IAAS;UAC1DtE,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDqE,IAAtD,EAD0D,CAE1D;UACA;QACD,CAJD;;QAMAtE,OAAO,CAACC,GAAR,CAAY,oCAAZ;MACD,CAfD,CAeE,OAAON,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,+BAAd,EAA+CA,KAA/C;MACD;IAlB8B;EAmBhC;;EAEKsE,UAAU;IAAA;;IAAA;MACd,MAAI,CAACnB,QAAL,CAAcyB,KAAd,GAAsBC,IAAtB;QAAA,wJAA2B,WAAOC,WAAP,EAA8B;UACvD,MAAI,CAACC,MAAL,GAAcD,WAAd;;UACA,MAAI,CAACxB,IAAL,CAAU0B,kBAAV;YAAA,yJAA6B,WAAOtF,IAAP,EAAe;cAC1C,MAAI,CAACA,IAAL,GAAYA,IAAZ;cACAW,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCZ,IAAnC;;cAEA,IAAIA,IAAJ,EAAU;gBACR;gBACAW,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCZ,IAAlC,EAFQ,CAGR;;gBACA,MAAM,MAAI,CAACgE,gBAAL,CAAsBuB,iBAAtB,CAAwCvF,IAAI,CAACwF,GAA7C,CAAN;cACD,CALD,MAKO;gBACL;gBACA7E,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAFK,CAGL;;gBACA,MAAM,MAAI,CAACoD,gBAAL,CAAsByB,oBAAtB,EAAN;cACD;;cAED,IAAIL,WAAW,IAAI,KAAnB,EAA0B;gBACxB,MAAMjC,+EAAA,CAA6B;kBAAEiB,KAAK,EAAE;gBAAT,CAA7B,CAAN;gBACAjB,qEAAA,CAAmB;kBAAEyC,KAAK,EAAExC,8DAAWyC;gBAApB,CAAnB;cACD;;cACD,MAAM,MAAI,CAACC,UAAL,EAAN;cACA,MAAI,CAACvD,OAAL,GAAe,KAAf;YACD,CAtBD;;YAAA;cAAA;YAAA;UAAA;QAuBD,CAzBD;;QAAA;UAAA;QAAA;MAAA;IADc;EA2Bf;;EAEKuD,UAAU;IAAA;;IAAA;MACd,MAAM5C,uEAAA,EAAN;MAEA,IAAI,MAAI,CAACmC,MAAL,IAAe,KAAnB,EACE,MAAMlC,+EAAA,CAA6B;QAAE8C,OAAO,EAAE;MAAX,CAA7B,CAAN;IAJY;EAKf;;EAEDC,WAAW;IACT,KAAKrC,GAAL,CAASsC,eAAT,CAAyB,SAAzB;EACD;;EAEDC,QAAQ,CAACC,CAAD,EAAE;IACR,KAAKxC,GAAL,CAASsC,eAAT,CAAyBE,CAAzB;EACD;;EAEK1B,qBAAqB;IAAA;;IAAA;MACzB,IAAI;QACF,MAAM;UAAE7E;QAAF,UAAkBwD,mEAAA,CAAgB;UAAEiD,GAAG,EAAE;QAAP,CAAhB,CAAxB;;QACA,IAAIzG,KAAK,IAAIA,KAAK,KAAK,MAAI,CAACyE,eAA5B,EAA6C;UAC3C,MAAI,CAACR,SAAL,CAAeO,GAAf,CAAmBxE,KAAnB;;UACA,MAAI,CAACyE,eAAL,GAAuBzE,KAAvB;QACD;MACF,CAND,CAME,OAAOQ,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,oCAAd,EAAoDA,KAApD,EADc,CAEd;MACD;IAVwB;EAW1B;;EAEKkG,cAAc,CAACC,IAAD,EAAa;IAAA;;IAAA;MAC/B,MAAI,CAAClC,eAAL,GAAuBkC,IAAvB;;MACA,MAAI,CAAC1C,SAAL,CAAeO,GAAf,CAAmBmC,IAAnB;;MACA,MAAMnD,mEAAA,CAAgB;QAAEiD,GAAG,EAAE,WAAP;QAAoBzG,KAAK,EAAE2G;MAA3B,CAAhB,CAAN;IAH+B;EAIhC;;AAjIsB;;;mBAAZjD,cAAYX,+DAAAA,CAAAA,oDAAAA,GAAAA,+DAAAA,CAAAA,iDAAAA,GAAAA,+DAAAA,CAAAA,mEAAAA,GAAAA,+DAAAA,CAAAA,oDAAAA,GAAAA,+DAAAA,CAAAA,yDAAAA,GAAAA,+DAAAA,CAAAA,mDAAAA,GAAAA,+DAAAA,CAAAA,kEAAAA,GAAAA,+DAAAA,CAAAA,iEAAAA;AAAA;;;QAAZW;EAAYV;EAAA6D;EAAAC;EAAAC;EAAAC;IAAA;MChBzBjE,4DAAAA,eAAS,CAAT,EAAS,gBAAT,EAAS,CAAT;MAEIA,wDAAAA;MAsCAA,uDAAAA;MACFA,0DAAAA;;;;MAvCaA,uDAAAA;MAAAA,wDAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACD2C;AACL;AAEY;AACC;AAEnB;AACS;AACc;AACZ;AACA;AACe;AACA;AACN;AAEhB;AACF;AACW;AACQ;AACrB;AACqD;AACnC;AACa;AACD;AACN;AACN;AACY;;;;;;;;AAE7E,kDAAkD;AAC3C,SAAS,qBAAqB,CAAC,IAAgB;IACpD,OAAO,IAAI,4EAAmB,CAAC,IAAI,EAAE,gBAAgB,EAAE,OAAO,CAAC,CAAC;AAClE,CAAC;AA+BM,MAAM,SAAS;;kEAAT,SAAS;uGAAT,SAAS,cAFR,wDAAY;4GADb,CAAC,EAAE,OAAO,EAAE,gEAAkB,EAAE,QAAQ,EAAE,+DAAkB,EAAE,EAAG,6DAAkB,EAAE,+DAAoB,EAAE,uEAAM,CAAC,YAtB3H,qEAAa;QACb,2DAAgB;QAChB,wDAAW;QACX,0DAAY;QACZ,mEAAgB;QAChB,gEAAmB;QACnB,gEAAmB,EAAE;QACrB,iEAAgB;QAChB,sEAAkB,CAAC,GAAG,EAAE,CAAC,iEAAa,CAAC,2EAAoB,CAAC,CAAC;QAC7D,gEAAW,CAAC,GAAG,EAAE,CAAC,4DAAO,EAAE,CAAC;QAC5B,0EAAgB,CAAC,GAAG,EAAE,CAAC,sEAAY,EAAE,CAAC;QACtC,sEAAc,CAAC,GAAG,EAAE,CAAC,kEAAU,EAAE,CAAC;QAClC,yEAAuB,CAAC;YACtB,eAAe,EAAE,IAAI;YACrB,MAAM,EAAE;gBACN,OAAO,EAAE,iEAAe;gBACxB,UAAU,EAAE,qBAAqB;gBACjC,IAAI,EAAE,CAAC,6DAAU,CAAC;aACnB;SACF,CAAC;oIAMO,SAAS,mBA5BL,wDAAY,EAAE,4DAAY,EAAE,6GAA2B,EAAE,0EAAgB,EAAE,uFAAqB,EAAE,sFAAoB,EAAE,uFAAoB,aAGzJ,qEAAa;QACb,2DAAgB;QAChB,wDAAW;QACX,0DAAY;QACZ,mEAAgB;QAChB,gEAAmB,4DAEnB,iEAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5CpB;AAGA;;;;;;;;;;;ICuBIA,4DAAAA,gBAA0C,CAA1C,EAA0C,WAA1C,EAA0C,EAA1C,EAA0C,CAA1C,EAA0C,IAA1C;IAESA,uDAAAA;IAA6EA,0DAAAA;IAClFA,4DAAAA;IAAIA,uDAAAA;IAA8EA,0DAAAA;IAEpFA,4DAAAA;IACEA,uDAAAA;IACFA,0DAAAA;;;;IAL0BA,uDAAAA;IAAAA,wDAAAA;IACDA,uDAAAA;IAAAA,wDAAAA;IAGJA,uDAAAA;IAAAA,wDAAAA;;;;;;IAPvBA,4DAAAA;IACAA,wDAAAA;IASFA,0DAAAA;;;;;IAT8BA,uDAAAA;IAAAA,wDAAAA;;;;;;;;IAW5BA,4DAAAA;IAAiDA,wDAAAA;MAAA;MAAA;MAAA;MAAA,OAASA,yDAAAA,4BAAT;IAAyB,CAAzB;IAC/CA,4DAAAA,qBAA8B,CAA9B,EAA8B,IAA9B;IACMA,oDAAAA;IAAeA,0DAAAA;IACnBA,4DAAAA;IAAGA,oDAAAA;IAAaA,0DAAAA;IAEhBA,uDAAAA;IACJA,0DAAAA;;;;;IAJQA,uDAAAA;IAAAA,+DAAAA;IACDA,uDAAAA;IAAAA,+DAAAA;;;;;;;;IAKPA,4DAAAA;IAAkDA,wDAAAA;MAAA;MAAA;MAAA;MAAA,OAASA,yDAAAA,8BAAT;IAA0B,CAA1B;IAChDA,4DAAAA,qBAA8B,CAA9B,EAA8B,IAA9B;IACMA,oDAAAA;IAAeA,0DAAAA;IACnBA,4DAAAA;IAAGA,oDAAAA;IAAaA,0DAAAA;IAEhBA,uDAAAA;IACJA,0DAAAA;;;;;IAJQA,uDAAAA;IAAAA,+DAAAA;IACDA,uDAAAA;IAAAA,+DAAAA;;;;;;IAgBPA,4DAAAA;IACEA,uDAAAA;IACDA,0DAAAA;;;;ADnDC,MAAOmE,qBAAP,CAA4B;EAahCnJ,YAAoBoJ,SAApB,EAAwDC,IAAxD,EAAkFvD,MAAlF,EAAiHwD,QAAjH,EAAoJC,MAApJ,EAAkK;IAA9I;IAAoC;IAA0B;IAA+B;IAAmC;IATpJ,eAAU,IAAIC,MAAM,CAACC,IAAP,CAAYC,MAAZ,CAAmBC,mBAAvB,EAAV;IAIA,gBAAoB,IAApB;IAGA,mBAAmB,IAAnB;IACA,4BAA4B,IAA5B;IAEE,KAAKC,iBAAL,GAAyB,EAAzB;IACA,KAAKC,kBAAL,GAA0B,EAA1B;EACA;;EAEF/I,QAAQ;IAEL,KAAKuI,IAAL,CAAUZ,GAAV,CAAc,mBAAd,EAAmC5B,SAAnC,CAA8CiD,GAAD,IAAa;MAEvDhH,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB+G,GAApB;MAGA,KAAKC,WAAL,GAAmBD,GAAG,CAACE,OAAJ,IAAe,IAAlC;IAEF,CAPD;IASD,KAAKC,SAAL,GAAiB,CACf,EADe,EACZ,EADY,EACT,EADS,EACN,EADM,CAAjB;IAGA,KAAKC,YAAL,GAAoB;MAClBC,MAAM,EAAE,KAAKC,eADK;MAElBC,KAAK,EAAE;IAFW,CAApB;IAIAvH,OAAO,CAACC,GAAR,CAAY,KAAKqH,eAAjB;EACD;;EAEDrF,UAAU;IACR,IAAIqC,IAAI,GAAG;MACTkD,IAAI,EAAE;IADG,CAAX;IAGA,KAAKlB,SAAL,CAAe7G,OAAf,CAAuB6E,IAAvB;EACD;;EAEDmD,WAAW,IAEV;;EAGKC,IAAI;IAAA;;IAAA;MACR,MAAMlF,+EAAA,CAA6B;QAAE8C,OAAO,EAAE;MAAX,CAA7B,CAAN;MAEA,KAAI,CAACqC,SAAL,GAAiB,IAAjB;IAHQ;EAIT;;EAEKC,IAAI;IAAA;;IAAA;MACR,MAAMpF,+EAAA,CAA6B;QAAE8C,OAAO,EAAE;MAAX,CAA7B,CAAN;MAEA,MAAI,CAACqC,SAAL,GAAiB,KAAjB;IAHQ;EAIT;;EAEKE,aAAa;IAAA;;IAAA;MAEjB,IAAI,MAAI,CAACT,YAAL,CAAkBC,MAAlB,IAA4B,EAAhC,EAAoC;QAClC,MAAI,CAACN,kBAAL,GAA0B,EAA1B;QACA;MACD;;MACD/G,OAAO,CAACC,GAAR,CAAY,MAAI,CAACmH,YAAL,CAAkBC,MAA9B,EAAsC,MAAI,CAACS,MAA3C;MAEA,IAAIC,KAAK,GAAG,IAAIrB,MAAM,CAACC,IAAP,CAAYmB,MAAhB,CAAuB,MAAI,CAACA,MAAL,CAAYE,GAAnC,EAAwC,MAAI,CAACF,MAAL,CAAYG,GAApD,CAAZ;MAEA,MAAI,CAACC,QAAL,GAAgB,KAAhB;;MAEA,MAAI,CAACC,OAAL,CAAaC,mBAAb,CACE;QACEC,KAAK,EAAE,MAAI,CAACjB,YAAL,CAAkBC,MAD3B;QAEEiB,QAAQ,EAAEP,KAFZ;QAGEQ,YAAY,EAAE,IAHhB;QAIEC,MAAM,EAAE,MAJV;QAKEC,IAAI,EAAE,EALR;QAMEC,KAAK,EAAE,CAAC,SAAD,CANT;QAOEC,qBAAqB,EAAE;UAAEzB,OAAO,EAAE,CAAC,MAAI,CAACD,WAAN;QAAX;MAPzB,CADF,EAUE,CAAC2B,WAAD,EAAcC,MAAd,KAAwB;QACtB,MAAI,CAAC9B,kBAAL,GAA0B,EAA1B;QACA/G,OAAO,CAACC,GAAR,CAAY2I,WAAZ,EAAyBC,MAAzB;QAEA,MAAI,CAACX,QAAL,GAAgB,IAAhB;QAEE,IAAIU,WAAW,IAAI,IAAnB,EACEA,WAAW,CAACE,OAAZ,CAAqBC,UAAD,IAAe;UACjC,MAAI,CAAChC,kBAAL,CAAwBiC,IAAxB,CAA6B;YAC3BC,KAAK,EAAEF,UADoB;YAE3BG,IAAI,EAAEH,UAAU,CAACI,WAFU;YAG3BpB,KAAK,EAAEgB,UAAU,CAACK,qBAAX,CAAiCC,SAHb;YAI3BC,IAAI,EAAEP,UAAU,CAACK,qBAAX,CAAiCG,cAJZ;YAK3BC,SAAS,EAAE;UALgB,CAA7B;QAOD,CARD;MASH,CA1BL;IAZiB;EAuCd;;EAGCC,YAAY;IAAA;;IAAA;MAEhB,IAAI,MAAI,CAACrC,YAAL,CAAkBG,KAAlB,IAA2B,EAA/B,EAAmC;QACjC,MAAI,CAACT,iBAAL,GAAyB,EAAzB;QACA;MACD;;MACD9G,OAAO,CAACC,GAAR,CAAY,MAAI,CAACmH,YAAL,CAAkBG,KAA9B,EAAqC,MAAI,CAACO,MAA1C;MAEA,IAAIC,KAAK,GAAG,IAAIrB,MAAM,CAACC,IAAP,CAAYmB,MAAhB,CAAuB,MAAI,CAACA,MAAL,CAAYE,GAAnC,EAAwC,MAAI,CAACF,MAAL,CAAYG,GAApD,CAAZ;MAEA,MAAI,CAACC,QAAL,GAAgB,KAAhB;;MAEA,MAAI,CAACC,OAAL,CAAaC,mBAAb,CACE;QACEC,KAAK,EAAE,MAAI,CAACjB,YAAL,CAAkBG,KAD3B;QAEEe,QAAQ,EAAEP,KAFZ;QAGEQ,YAAY,EAAE,IAHhB;QAIEC,MAAM,EAAE,MAJV;QAKEC,IAAI,EAAE,EALR;QAMEC,KAAK,EAAE,CAAC,SAAD,CANT;QAOEC,qBAAqB,EAAE;UAAEzB,OAAO,EAAE,CAAC,MAAI,CAACD,WAAN;QAAX;MAPzB,CADF,EAUE,CAAC2B,WAAD,EAAcC,MAAd,KAAwB;QACtB,MAAI,CAAC/B,iBAAL,GAAyB,EAAzB;QACA9G,OAAO,CAACC,GAAR,CAAY2I,WAAZ,EAAyBC,MAAzB;QAEA,MAAI,CAACX,QAAL,GAAgB,IAAhB;QAEE,IAAIU,WAAW,IAAI,IAAnB,EACEA,WAAW,CAACE,OAAZ,CAAqBC,UAAD,IAAe;UACjC,MAAI,CAACjC,iBAAL,CAAuBkC,IAAvB,CAA4B;YAC1BC,KAAK,EAAEF,UADmB;YAE1BG,IAAI,EAAEH,UAAU,CAACI,WAFS;YAG1BpB,KAAK,EAAEgB,UAAU,CAACK,qBAAX,CAAiCC,SAHd;YAI1BC,IAAI,EAAEP,UAAU,CAACK,qBAAX,CAAiCG,cAJb;YAK1BC,SAAS,EAAE;UALe,CAA5B;QAOD,CARD;MASH,CA1BL;IAZgB;EAuCb;;EAIDE,UAAU,CAACC,IAAD,EAAU;IAAA;;IAAA;MACxB;MACA,IAAI,MAAI,CAACC,oBAAT,EAA+B;QAC7BD,IAAI,CAACE,YAAL,GAAoB,MAAI,CAACD,oBAAzB;MACD;;MACD,MAAM,MAAI,CAACpD,QAAL,CAAc/G,OAAd,CAAsBkK,IAAtB,CAAN;MACA3J,OAAO,CAACC,GAAR,CAAY0J,IAAZ;IANwB;EAOzB;;EAGKG,WAAW;IAAA;;IAAA;MACf,IAAIxF,IAAI,GAAG;QACTyF,QAAQ,EAAE;MADD,CAAX;MAGA,MAAM,MAAI,CAACvD,QAAL,CAAc/G,OAAd,CAAsB6E,IAAtB,CAAN;IAJe;EAKhB;;EAEK0F,WAAW,CAAEL,IAAF,EAAW;IAAA;;IAAA;MAC1B,MAAI,CAACvC,YAAL,CAAkBC,MAAlB,GAA2BsC,IAAI,CAACT,IAAhC;MACA,MAAI,CAACnC,kBAAL,GAA0B,EAA1B,CAF0B,CAEI;;MAE9B,IAAI;QACF,MAAMkD,OAAO,SAAS,MAAI,CAACxD,MAAL,CACnByD,OADmB,CACX;UACTC,MAAM,EAAE;YACNC,OAAO,EAAET,IAAI,CAACT,IADR;YAENtD,GAAG,EAAEQ,4EAAkBiE;UAFjB,CADC;UAKTC,OAAO,EAAE,IALA,CAKM;;QALN,CADW,CAAtB;QAQAtK,OAAO,CAACC,GAAR,CAAYgK,OAAZ;;QAEA,IAAIA,OAAO,CAAC3F,IAAR,IAAgB2F,OAAO,CAAC3F,IAAR,CAAa2F,OAA7B,IAAwCA,OAAO,CAAC3F,IAAR,CAAa2F,OAAb,CAAqBM,MAArB,GAA8B,CAA1E,EAA6E;UAC3E,MAAMC,QAAQ,GAAGP,OAAO,CAAC3F,IAAR,CAAa2F,OAAb,CAAqB,CAArB,EAAwBQ,QAAxB,CAAiCnC,QAAlD;UACA,MAAI,CAACsB,oBAAL,GAA4B;YAC1BtB,QAAQ,EAAEqB,IAAI,CAACT,IADW;YAE1BlB,GAAG,EAAEwC,QAAQ,CAACxC,GAFY;YAG1BC,GAAG,EAAEuC,QAAQ,CAACvC,GAHY;YAI1ByC,MAAM,EAAE;UAJkB,CAA5B;UAMA1K,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC,MAAI,CAAC2J,oBAA5C;QACD;MACF,CArBD,CAqBE,OAAOjK,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,kCAAd,EAAkDA,KAAlD;MACD;IA3ByB;EA4B3B;;AAjMiC;;;mBAArB0G,uBAAqBnE,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,4DAAAA,GAAAA,+DAAAA,CAAAA,mEAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,uEAAAA;AAAA;;;QAArBmE;EAAqBlE;EAAAwI;IAAA7C;IAAAR;EAAA;EAAAtB;EAAAC;EAAAC;EAAAC;IAAA;MCflCjE,4DAAAA,kBAAY,CAAZ,EAAY,aAAZ,EAAY,CAAZ,EAAY,aAAZ,EAAY,CAAZ,EAAY,CAAZ,EAAY,YAAZ,EAAY,CAAZ;MAGkCA,wDAAAA;QAAA,OAASG,gBAAT;MAAqB,CAArB;MAC1BH,uDAAAA;MACFA,0DAAAA;MAEFA,4DAAAA;MAAYA,oDAAAA;MAAkBA,0DAAAA;MAEhCA,4DAAAA;MACEA,uDAAAA;MACAA,4DAAAA;MAAgCA,wDAAAA;QAAA;MAAA,GAAiC,UAAjC,EAAiC;QAAA,OAAkDG,mBAAlD;MAAiE,CAAlG,EAAiC,UAAjC,EAAiC;QAAA,OAA+EA,UAA/E;MAAqF,CAAtH,EAAiC,SAAjC,EAAiC;QAAA,OAAkGA,UAAlG;MAAwG,CAAzI,EAAiC,WAAjC,EAAiC;QAAA,OAAuHA,iBAAvH;MAAoI,CAArK;MAA+MH,0DAAAA;MAEnPA,4DAAAA;MACAA,uDAAAA;MACAA,4DAAAA;MAAgEA,wDAAAA;QAAA;MAAA,GAAgC,UAAhC,EAAgC;QAAA,OAAaG,kBAAb;MAA2B,CAA3D,EAAgC,UAAhC,EAAgC;QAAA,OAAyCA,UAAzC;MAA+C,CAA/E,EAAgC,SAAhC,EAAgC;QAAA,OAA4DA,UAA5D;MAAkE,CAAlG,EAAgC,WAAhC,EAAgC;QAAA,OAAiFA,iBAAjF;MAA8F,CAA9H;MAAyKH,0DAAAA;MAMzOA,4DAAAA,uBAAoC,EAApC,EAAoC,UAApC,EAAoC,CAApC;MAIIA,wDAAAA;MAYAA,wDAAAA;MAQAA,wDAAAA;MAmBAA,wDAAAA;MAGJA,0DAAAA;MAKAA,4DAAAA,uBAAgC,EAAhC,EAAgC,YAAhC,EAAgC,EAAhC;MAGoFA,wDAAAA;QAAA,OAASG,iBAAT;MAAsB,CAAtB;MAClEH,uDAAAA;MACAA,oDAAAA;MACJA,0DAAAA;;;;MAnEsBA,uDAAAA;MAAAA,wDAAAA;MAI4BA,uDAAAA;MAAAA,wDAAAA;MAUtDA,uDAAAA;MAAAA,wDAAAA;MAYqBA,uDAAAA;MAAAA,wDAAAA;MAQAA,uDAAAA;MAAAA,wDAAAA;MAmBhBA,uDAAAA;MAAAA,wDAAAA;;;;;;;;;;;;;;;;;;;;;;;;AC/D8C;;;;;;ICUzD,yEAAoE;IACxD,0WAAS,0FAAsB,KAAC;IACxC,gFAAyB;IACvB,oEAAyD;IAC3D,4DAAa;IACb,4EAAW;IAAA,uDAAkB;IAAA,4DAAY;;;IAFlC,0DAAoB;IAApB,6IAAoB;IAEhB,0DAAkB;IAAlB,gFAAkB;;ADdrC,kBAAkB;AAMX,MAAM,2BAA2B;IAItC,YAAoB,SAA0B;QAA1B,cAAS,GAAT,SAAS,CAAiB;QAH9C,gBAAW,GAAG,8EAAuB,CAAC;QACtC,sBAAiB,GAAG,EAAE,CAAC;IAE0B,CAAC;IAElD,QAAQ;QACN,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC;IAC5C,CAAC;IAED,eAAe,CAAC,KAAU;QACxB,MAAM,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;QACpD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CACzD,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC;YAC/C,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CACtC,CAAC;IACJ,CAAC;IAED,aAAa,CAAC,OAAO;QACnB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;IAED,OAAO;QACL,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;;sGAxBU,2BAA2B;yHAA3B,2BAA2B;QCTxC,6EAAY;QAEG,yEAAc;QAAA,4DAAY;QACrC,iFAAwB;QACV,uJAAS,aAAS,IAAC;QAAC,gEAAK;QAAA,4DAAa;QAGtD,mFAAiF;QAAlE,sKAAY,2BAAuB,IAAC;QAA8B,4DAAgB;QAGnG,8EAAa;QAET,yHAOM;QACR,4DAAW;;QARgB,2DAAoB;QAApB,0FAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;ACRjD;AACA;;;;;;;;;;;;;;;;;ICQIA,4DAAAA,eAAkD,CAAlD,EAAkD,SAAlD,EAAkD,EAAlD,EAAkD,CAAlD,EAAkD,GAAlD;IAIOA,oDAAAA;IAAsBA,0DAAAA;IAAIA,uDAAAA;IAC7BA,4DAAAA;IAAMA,oDAAAA;IAAiBA,0DAAAA;IACvBA,4DAAAA;IAAiCA,uDAAAA;IAAIA,oDAAAA;;IAAkDA,0DAAAA;;;;;IAJvFA,uDAAAA;IAAAA,wDAAAA,qCAAgC,SAAhC,EAAgCA,6DAAAA,6CAAhC;IAEGA,uDAAAA;IAAAA,+DAAAA;IACGA,uDAAAA;IAAAA,+DAAAA;IAC+BA,uDAAAA;IAAAA,+DAAAA,CAAAA,yDAAAA;;;;;;IAP3CA,4DAAAA;IACEA,wDAAAA;;IASFA,0DAAAA;;;;;IAT+BA,uDAAAA;IAAAA,wDAAAA,YAAAA,yDAAAA;;;;;;IAY7BA,4DAAAA,oBAAsD,CAAtD,EAAsD,eAAtD;IAEIA,uDAAAA;IACFA,0DAAAA;;;;IADqBA,uDAAAA;IAAAA,wDAAAA;;;;;;IAIvBA,4DAAAA,oBAAsD,CAAtD,EAAsD,eAAtD;IAEIA,uDAAAA;IACFA,0DAAAA;;;;IADsBA,uDAAAA;IAAAA,wDAAAA;;;;;;IAT1BA,4DAAAA;IACEA,wDAAAA;IAMAA,wDAAAA;IAKFA,0DAAAA;;;;;IAX0CA,uDAAAA;IAAAA,wDAAAA;IAMAA,uDAAAA;IAAAA,wDAAAA;;;;;;IAQxCA,uDAAAA;;;;;;IACAA,4DAAAA,2BAA2D,CAA3D,EAA2D,WAA3D,EAA2D,EAA3D,EAA2D,CAA3D,EAA2D,IAA3D;IAEQA,oDAAAA;IAAsBA,0DAAAA;IAC1BA,4DAAAA;IAAGA,oDAAAA;IAA4BA,0DAAAA;;;;AD5BjC,MAAO2I,oBAAP,CAA2B;EAY/B3N,YAAoB4N,WAApB,EAAwD3H,MAAxD,EAAgFmD,SAAhF,EAA0G;IAAtF;IAAoC;IAAwB;IAPhF,cAAS,EAAT;IAKA,eAAmB,IAAnB;EAE+G;;EAEzGyE,eAAe;IAAA;;IAAA;MACnB,KAAI,CAAC5D,SAAL,GAAiB,CACf,EADe,EACZ,EADY,EACT,EADS,EACN,EADM,CAAjB;MAGA,KAAI,CAAC6D,YAAL,GAAoB,IAApB;MACA,KAAI,CAACC,QAAL,GAAgB,KAAI,CAACH,WAAL,CAAiBI,cAAjB,CAAgC,KAAI,CAACC,QAAL,CAAcC,MAA9C,CAAhB;;MACA,KAAI,CAACH,QAAL,CAAclH,SAAd,CAAyBsH,CAAD,IAAM;QAC5B,KAAI,CAACzJ,OAAL,GAAe,KAAf;;QACA,IAAIyJ,CAAC,CAACd,MAAF,IAAY,CAAhB,EAAkB;UAChB,KAAI,CAACe,SAAL,GAAiB,IAAjB;UACA,KAAI,CAACN,YAAL,GAAoB,KAApB;QACD,CAHD,MAGO;UACL,KAAI,CAACA,YAAL,GAAoB,KAApB;UACA,KAAI,CAACM,SAAL,GAAiB,KAAjB;;UACA,KAAI,CAACC,OAAL,CAAaC,cAAb;QACD;MACF,CAVD;IANmB;EAiBpB;;EAEK9D,IAAI;IAAA;MACR,MAAMlF,+EAAA,CAA6B;QAAE8C,OAAO,EAAE;MAAX,CAA7B,CAAN;IADQ;EAET;;EAEKsC,IAAI;IAAA;MACR,MAAMpF,+EAAA,CAA6B;QAAE8C,OAAO,EAAE;MAAX,CAA7B,CAAN;IADQ;EAET;;EAEDtH,QAAQ;IACN;IACAgC,OAAO,CAACC,GAAR,CAAY,KAAKkL,QAAjB;EACD;;EAEKM,WAAW;IAAA;;IAAA;MACf,MAAM,MAAI,CAACX,WAAL,CAAiBY,qBAAjB,CAAuC,MAAI,CAACC,MAA5C,EAAoD,MAAI,CAACR,QAAL,CAAcC,MAAlE,CAAN;MACA,MAAI,CAACO,MAAL,GAAc,EAAd;;MACA,MAAI,CAACJ,OAAL,CAAaC,cAAb;;MACA,MAAI,CAACV,WAAL,CAAiBc,oBAAjB,CAAsC,MAAI,CAACT,QAAL,CAAcC,MAApD;IAJe;EAKhB;;EAEDS,SAAS;IACP,KAAKvF,SAAL,CAAe7G,OAAf;EACD;;AAvD8B;;;mBAApBoL,sBAAoB3I,+DAAAA,CAAAA,0EAAAA,GAAAA,+DAAAA,CAAAA,mDAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA;AAAA;;;QAApB2I;EAAoB1I;EAAAC;IAAA;gEAEpBwI,sDAAUA,EAAA;;;;;;;;;;;;;;;;;MCjBvB1I,4DAAAA,qBAAkC,CAAlC,EAAkC,aAAlC,EAAkC,CAAlC,EAAkC,aAAlC,EAAkC,CAAlC,EAAkC,CAAlC,EAAkC,YAAlC,EAAkC,CAAlC;MAGkCA,wDAAAA;QAAA,OAASG,eAAT;MAAoB,CAApB;MAC1BH,uDAAAA;MACFA,0DAAAA;MAEFA,4DAAAA;MAAYA,oDAAAA;MAAKA,0DAAAA;MAIrBA,4DAAAA;MACEA,wDAAAA;MAYAA,wDAAAA;MAcAA,4DAAAA;MACEA,wDAAAA;MACAA,wDAAAA;MAMFA,0DAAAA;MAGFA,4DAAAA,mBAAY,EAAZ,EAAY,aAAZ,EAAY,CAAZ,EAAY,EAAZ,EAAY,SAAZ,EAAY,EAAZ,EAAY,EAAZ,EAAY,SAAZ,EAAY,EAAZ,EAAY,EAAZ,EAAY,cAAZ,EAAY,EAAZ;MAIsCA,wDAAAA;QAAA,OAAYG,UAAZ;MAAkB,CAAlB,EAAmB,SAAnB,EAAmB;QAAA,OAAYA,UAAZ;MAAkB,CAArC,EAAmB,eAAnB,EAAmB;QAAA;MAAA,CAAnB;MAC9BH,0DAAAA;MAEFA,4DAAAA,oBAAkB,EAAlB,EAAkB,YAAlB,EAAkB,EAAlB;MACqGA,wDAAAA;QAAA,OAASG,iBAAT;MAAsB,CAAtB;MACjGH,uDAAAA;MACFA,0DAAAA;;;;MA/CKA,uDAAAA;MAAAA,wDAAAA;MAYLA,uDAAAA;MAAAA,wDAAAA;MAeMA,uDAAAA;MAAAA,wDAAAA;MACQA,uDAAAA;MAAAA,wDAAAA;MAamIA,uDAAAA;MAAAA,wDAAAA;MAIzFA,uDAAAA;MAAAA,wDAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzDhE;AACA;AACA;AAEA;AACA;AACA;;;;;AA0DM,MAAOoK,gBAAP,CAAuB;EAoB3BpP,YACUqP,SADV,EAEUC,SAFV,EAGUjG,IAHV,EAIUpD,MAJV,EAKUJ,MALV,EAKwB;IAJd;IACA;IACA;IACA;IACA;IAxBH,gBAA0B,IAA1B;IACA,sBAAgC,IAAhC;IAEC,qBAAgB,KAAhB,CAqBgB,CAnBxB;;IACQ,gCAA2B,IAAIqJ,yCAAJ,EAA3B;IACD,0BAAqB,KAAKK,wBAAL,CAA8BC,YAA9B,EAArB,CAiBiB,CAfxB;;IACQ,+BAA0B,IAAIL,iDAAJ,CAA6B,KAA7B,CAA1B;IACD,yBAAoB,KAAKM,uBAAL,CAA6BD,YAA7B,EAApB,CAaiB,CAXxB;;IACiB,kBAAatG,+FAAA,IAAyC,mBAAtD,CAUO,CARxB;;IACO,uBAAkB,IAAlB;IASL,KAAKyG,QAAL,GAAgBf,uEAAA,EAAhB;EACD;EAED;;;;;EAGM3H,aAAa;IAAA;;IAAA;MACjB,IAAI,KAAI,CAAC4I,aAAT,EAAwB;QACtB/M,OAAO,CAACC,GAAR,CAAY,gCAAZ;QACA;MACD;;MAED,IAAI;QACF,IAAI,KAAI,CAAC4M,QAAT,EAAmB;UACjB,MAAM,KAAI,CAACG,gBAAL,EAAN;QACD,CAFD,MAEO;UACL,MAAM,KAAI,CAACC,aAAL,EAAN;QACD;;QACD,KAAI,CAACF,aAAL,GAAqB,IAArB;MACD,CAPD,CAOE,OAAOG,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,iCAAd,EAAiDuN,CAAjD;MACD;IAfgB;EAgBlB;EAED;;;;;EAGcF,gBAAgB;IAAA;;IAAA;MAC5B,IAAI;QACF;QACA;QAEA;QACAG,SAAS,CAAClJ,UAAV,CAAqBmC,qFAArB,EALE,CAOF;;QACA,MAAMkH,YAAY,SAASH,SAAS,CAACI,IAAV,CAAeC,gBAAf,CAAgCC,UAAhC,EAA3B;QACA,MAAI,CAACC,QAAL,GAAgBJ,YAAhB;QACAtN,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2C,MAAI,CAACyN,QAAhD,EAVE,CAYF;;QACA,MAAI,CAACC,cAAL,SAA4BR,SAAS,CAACI,IAAV,CAAeK,aAAf,EAA5B;QACA5N,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2C,MAAI,CAAC0N,cAAhD,EAdE,CAgBF;;QACAR,SAAS,CAACU,aAAV,CAAwBC,gBAAxB,CAAyC,OAAzC,EAAmDlP,KAAD,IAAe;UAC/D,MAAI,CAACmP,uBAAL,CAA6BnP,KAA7B;QACD,CAFD,EAjBE,CAqBF;;QACAuO,SAAS,CAACU,aAAV,CAAwBC,gBAAxB,CAAyC,kBAAzC,EAA8DE,UAAD,IAAwB;UACnF,MAAI,CAACrB,uBAAL,CAA6BsB,IAA7B,CAAkCD,UAAlC;;UACAhO,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6C+N,UAA7C;QACD,CAHD,EAtBE,CA2BF;;QACA,MAAME,aAAa,SAASf,SAAS,CAACU,aAAV,CAAwBM,kBAAxB,EAA5B;;QACA,MAAI,CAACxB,uBAAL,CAA6BsB,IAA7B,CAAkCC,aAAlC;;QAEAlO,OAAO,CAACC,GAAR,CAAY,2CAAZ;MACD,CAhCD,CAgCE,OAAOiN,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,wCAAd,EAAwDuN,CAAxD;QACA,MAAMA,CAAN;MACD;IApC2B;EAqC7B;EAED;;;;;EAGcD,aAAa;IAAA;;IAAA;MACzB,IAAI;QACF;QACA,IAAI,OAAOmB,iBAAP,KAA6B,WAAjC,EAA8C;UAC5CpO,OAAO,CAACqO,IAAR,CAAa,6EAAb;UACA;QACD;;QAEDD,iBAAiB,CAACpF,IAAlB;UAAA,wJAAuB,WAAOsF,YAAP,EAA4B;YACjD,MAAMA,YAAY,CAACC,IAAb,CAAkB;cACtBlB,KAAK,EAAEjH,qFADe;cAEtBoI,4BAA4B,EAAE,IAFR;cAGtBC,YAAY,EAAE;gBACZC,MAAM,EAAE,IADI,CACE;;cADF,CAHQ;cAMtBC,kBAAkB,EAAE;gBAAEC,KAAK,EAAE;cAAT,CANE;cAOtBC,iBAAiB,EAAE;YAPG,CAAlB,CAAN,CADiD,CAWjD;;YACA,MAAMvB,YAAY,SAASgB,YAAY,CAACf,IAAb,CAAkBuB,gBAAlB,CAAmCC,EAA9D;YACA,MAAI,CAACrB,QAAL,GAAgBJ,YAAY,IAAI,IAAhC;YACAtN,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwC,MAAI,CAACyN,QAA7C,EAdiD,CAgBjD;;YACAY,YAAY,CAACT,aAAb,CAA2BC,gBAA3B,CAA4C,OAA5C,EAAsDlP,KAAD,IAAe;cAClE,MAAI,CAACmP,uBAAL,CAA6BnP,KAA7B;YACD,CAFD,EAjBiD,CAqBjD;;YACA0P,YAAY,CAACT,aAAb,CAA2BC,gBAA3B,CAA4C,kBAA5C,EAAiEE,UAAD,IAAwB;cACtF,MAAI,CAACjL,MAAL,CAAYiM,GAAZ,CAAgB,MAAK;gBACnB,MAAI,CAACrC,uBAAL,CAA6BsB,IAA7B,CAAkCD,UAAlC;cACD,CAFD;YAGD,CAJD,EAtBiD,CA4BjD;;YACA,MAAMA,UAAU,SAASM,YAAY,CAACT,aAAb,CAA2BG,UAApD;;YACA,MAAI,CAACrB,uBAAL,CAA6BsB,IAA7B,CAAkCD,UAAlC;;YAEAhO,OAAO,CAACC,GAAR,CAAY,wCAAZ;UACD,CAjCD;;UAAA;YAAA;UAAA;QAAA;MAkCD,CAzCD,CAyCE,OAAOiN,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,qCAAd,EAAqDuN,CAArD;QACA,MAAMA,CAAN;MACD;IA7CwB;EA8C1B;EAED;;;;;EAGQa,uBAAuB,CAACnP,KAAD,EAAW;IACxCoB,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCrB,KAArC;IAEA,MAAMqQ,gBAAgB,GAAqBrQ,KAAK,EAAEsQ,YAAP,EAAqBC,cAArB,IACCvQ,KAAK,EAAEwQ,MAAP,EAAeF,YAAf,EAA6BC,cAD9B,IAECvQ,KAAK,EAAE0F,IAFR,IAGC,EAH5C;IAKA,KAAKvB,MAAL,CAAYiM,GAAZ,CAAgB,MAAK;MACnB;MACA,KAAKvC,wBAAL,CAA8BwB,IAA9B,CAAmCgB,gBAAnC,EAFmB,CAInB;;MACA,KAAKI,uBAAL,CAA6BJ,gBAA7B;IACD,CAND;EAOD;EAED;;;;;EAGQI,uBAAuB,CAAC/K,IAAD,EAAuB;IACpD,MAAMgL,gBAAgB,GAAGhL,IAAI,CAACgL,gBAA9B;;IAEA,QAAQA,gBAAR;MACE,KAAK,iBAAL;MACA,KAAK,gBAAL;QACE;QACA,KAAKnM,MAAL,CAAYoM,QAAZ,CAAqB,CAAC,UAAD,CAArB,EAAmC;UACjCC,WAAW,EAAE;YACXC,SAAS,EAAEnL,IAAI,CAACmL,SADL;YAEX5G,MAAM,EAAEyG,gBAAgB,KAAK,iBAArB,GAAyC,SAAzC,GAAqD;UAFlD;QADoB,CAAnC;QAMA;;MAEF,KAAK,gBAAL;MACA,KAAK,iBAAL;MACA,KAAK,gBAAL;MACA,KAAK,cAAL;QACE;QACA,KAAKnM,MAAL,CAAYoM,QAAZ,CAAqB,CAAC,OAAD,CAArB,EAAgC;UAC9BC,WAAW,EAAE;YACXE,MAAM,EAAEpL,IAAI,CAACoL,MADF;YAEX7G,MAAM,EAAEyG;UAFG;QADiB,CAAhC;QAMA;;MAEF,KAAK,gBAAL;QACE;QACA,IAAIhL,IAAI,CAACoL,MAAT,EAAiB;UACf,KAAKvM,MAAL,CAAYoM,QAAZ,CAAqB,CAAC,SAAD,CAArB,EAAkC;YAChCC,WAAW,EAAE;cAAEE,MAAM,EAAEpL,IAAI,CAACoL;YAAf;UADmB,CAAlC;QAGD,CAJD,MAIO;UACL,KAAKvM,MAAL,CAAYoM,QAAZ,CAAqB,CAAC,UAAD,CAArB;QACD;;QACD;;MAEF;QACE;QACAvP,OAAO,CAACC,GAAR,CAAY,+CAAZ;QACA,KAAKkD,MAAL,CAAYoM,QAAZ,CAAqB,CAAC,OAAD,CAArB;QACA;IAxCJ;EA0CD;EAED;;;;;EAGMnL,iBAAiB;IAAA;;IAAA;MACrB,IAAI;QACF,IAAI,MAAI,CAACyI,QAAT,EAAmB;UACjB,aAAa,MAAI,CAAC8C,uBAAL,EAAb;QACD,CAFD,MAEO;UACL,aAAa,MAAI,CAACC,oBAAL,EAAb;QACD;MACF,CAND,CAME,OAAO1C,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,8BAAd,EAA8CuN,CAA9C;QACA,OAAO,KAAP;MACD;IAVoB;EAWtB;;EAEayC,uBAAuB;IAAA;MACnC,IAAI;QACF,MAAME,UAAU,SAAS1C,SAAS,CAACU,aAAV,CAAwBiC,oBAAxB,EAAzB;;QACA,IAAID,UAAJ,EAAgB;UACd,MAAME,QAAQ,SAAS5C,SAAS,CAACU,aAAV,CAAwBzJ,iBAAxB,CAA0C,IAA1C,CAAvB;UACApE,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C8P,QAA5C;UACA,OAAOA,QAAP;QACD,CAJD,MAIO;UACL/P,OAAO,CAACC,GAAR,CAAY,2BAAZ;UACA,OAAO,KAAP;QACD;MACF,CAVD,CAUE,OAAOiN,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,kCAAd,EAAkDuN,CAAlD;QACA,MAAMA,CAAN;MACD;IAdkC;EAepC;;EAEa0C,oBAAoB;IAAA;MAChC,OAAO,IAAII,OAAJ,CAAaC,OAAD,IAAY;QAC7B,IAAI,OAAO7B,iBAAP,KAA6B,WAAjC,EAA8C;UAC5C6B,OAAO,CAAC,KAAD,CAAP;UACA;QACD;;QAED7B,iBAAiB,CAACpF,IAAlB;UAAA,yJAAuB,WAAOsF,YAAP,EAA4B;YACjD,IAAI;cACF,MAAMA,YAAY,CAACT,aAAb,CAA2BzJ,iBAA3B,EAAN;cACA,MAAM4J,UAAU,SAASM,YAAY,CAACT,aAAb,CAA2BG,UAApD;cACAiC,OAAO,CAACjC,UAAD,CAAP;YACD,CAJD,CAIE,OAAOd,CAAP,EAAU;cACVlN,OAAO,CAACL,KAAR,CAAc,+BAAd,EAA+CuN,CAA/C;cACA+C,OAAO,CAAC,KAAD,CAAP;YACD;UACF,CATD;;UAAA;YAAA;UAAA;QAAA;MAUD,CAhBM,CAAP;IADgC;EAkBjC,CAzQ0B,CA2Q3B;;;EACMC,sBAAsB;IAAA;;IAAA;MAC1B,IAAI,CAAC,MAAI,CAACrD,QAAV,EAAoB;;MAEpB,IAAI;QACF,IAAIf,kEAAA,OAA4B,KAAhC,EAAuC;UACrC,MAAMsE,cAAc,SAASjD,SAAS,CAACU,aAAV,CAAwBwC,gBAAxB,EAA7B,CADqC,CAErC;;UACA,IAAID,cAAc,KAAK,CAAvB,EAA0B;YACxB,MAAI,CAACE,mBAAL;UACD,CAFD,MAEO;YACL,MAAI,CAAClM,iBAAL;UACD;QACF,CARD,MAQO;UACL;UACA,MAAI,CAACkM,mBAAL;QACD;MACF,CAbD,CAaE,OAAOpD,CAAP,EAAU;QACVlN,OAAO,CAACC,GAAR,CAAYiN,CAAZ;MACD;IAlByB;EAmB3B,CA/R0B,CAiS3B;;;EACMoD,mBAAmB,GAAiB;IAAA;;IAAA,+JAAhBC,MAAc,EAAE;MACxC,IAAI,CAAC,MAAI,CAAC1D,QAAV,EAAoB;QAClB;QACA,MAAM,MAAI,CAAC+C,oBAAL,EAAN;QACA;MACD;;MAED,IAAI;QACF,MAAM1B,aAAa,SAASf,SAAS,CAACU,aAAV,CAAwBM,kBAAxB,EAA5B;QACAnO,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BiO,aAA9B;;QACA,IAAI,CAACA,aAAL,EAAoB;UAClB;UACA,MAAI,CAACpO,SAAL,CAAeyQ,GAAf;QACD;MACF,CAPD,CAOE,OAAOrD,CAAP,EAAU;QACV,MAAMA,CAAN;MACD;IAhBuC;EAiBzC;;EAEDpN,SAAS,CAACyQ,GAAD,EAAY;IACnB,KAAKhE,SAAL,CACG9N,MADH,CACU;MACNqD,MAAM,EAAE,2BAA2ByO,GAAG,EADhC;MAEN1Q,OAAO,EACL,qFAHI;MAINmC,OAAO,EAAE,CACP;QACEwO,IAAI,EAAE,aADR;QAEEC,IAAI,EAAE,QAFR;QAGEC,OAAO,EAAE,MAAK;UACZ1Q,OAAO,CAACC,GAAR,CAAY,gBAAZ;UACA,KAAKqQ,mBAAL,CAAyB,mBAAzB;QACD;MANH,CADO,EASP;QACEE,IAAI,EAAE,OADR;QAEEE,OAAO,EAAE,MAAK;UACZ,KAAKtM,iBAAL;QACD;MAJH,CATO;IAJH,CADV,EAsBGI,IAtBH,CAsBSmM,OAAD,IAAaA,OAAO,CAAC9O,OAAR,EAtBrB;EAuBD;EAED;;;;;;EAIM+C,iBAAiB,CAACwG,MAAD,EAAe;IAAA;;IAAA;MACpC,IAAI,CAACA,MAAL,EAAa;QACXpL,OAAO,CAACqO,IAAR,CAAa,mCAAb;QACA;MACD;;MAED,IAAI;QACF,IAAI,MAAI,CAACxB,QAAT,EAAmB;UACjB,MAAMM,SAAS,CAACyD,KAAV,CAAgBxF,MAAhB,CAAN;UACA,MAAI,CAACuC,cAAL,GAAsBvC,MAAtB;UACApL,OAAO,CAACC,GAAR,CAAY,0CAAZ,EAAwDmL,MAAxD;QACD,CAJD,MAIO;UACL,IAAI,OAAOgD,iBAAP,KAA6B,WAAjC,EAA8C;YAC5CA,iBAAiB,CAACpF,IAAlB;cAAA,yJAAuB,WAAOsF,YAAP,EAA4B;gBACjD,MAAMA,YAAY,CAACsC,KAAb,CAAmBxF,MAAnB,CAAN;gBACA,MAAI,CAACuC,cAAL,GAAsBvC,MAAtB;gBACApL,OAAO,CAACC,GAAR,CAAY,uCAAZ,EAAqDmL,MAArD;cACD,CAJD;;cAAA;gBAAA;cAAA;YAAA;UAKD;QACF;MACF,CAdD,CAcE,OAAO8B,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,iCAAd,EAAiDuN,CAAjD;MACD;IAtBmC;EAuBrC;EAED;;;;;;EAIMpI,oBAAoB;IAAA;;IAAA;MACxB,IAAI;QACF,IAAI,MAAI,CAAC+H,QAAT,EAAmB;UACjB,MAAMM,SAAS,CAAC0D,MAAV,EAAN;UACA,MAAI,CAAClD,cAAL,GAAsB,IAAtB;UACA3N,OAAO,CAACC,GAAR,CAAY,6CAAZ;QACD,CAJD,MAIO;UACL,IAAI,OAAOmO,iBAAP,KAA6B,WAAjC,EAA8C;YAC5CA,iBAAiB,CAACpF,IAAlB;cAAA,yJAAuB,WAAOsF,YAAP,EAA4B;gBACjD,MAAMA,YAAY,CAACuC,MAAb,EAAN;gBACA,MAAI,CAAClD,cAAL,GAAsB,IAAtB;gBACA3N,OAAO,CAACC,GAAR,CAAY,0CAAZ;cACD,CAJD;;cAAA;gBAAA;cAAA;YAAA;UAKD;QACF;MACF,CAdD,CAcE,OAAOiN,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,kCAAd,EAAkDuN,CAAlD;MACD;IAjBuB;EAkBzB;EAED;;;;;EAGM4D,WAAW;IAAA;;IAAA;MACf,IAAI,MAAI,CAACpD,QAAT,EAAmB,OAAO,MAAI,CAACA,QAAZ;;MAEnB,IAAI;QACF,IAAI,MAAI,CAACb,QAAT,EAAmB;UACjB,MAAMS,YAAY,SAASH,SAAS,CAACI,IAAV,CAAeC,gBAAf,CAAgCC,UAAhC,EAA3B;UACA,MAAI,CAACC,QAAL,GAAgBJ,YAAhB;QACD,CAHD,MAGO,IAAI,OAAOc,iBAAP,KAA6B,WAAjC,EAA8C;UACnD,OAAO,IAAI4B,OAAJ,CAAaC,OAAD,IAAY;YAC7B7B,iBAAiB,CAACpF,IAAlB;cAAA,yJAAuB,WAAOsF,YAAP,EAA4B;gBACjD,MAAMS,EAAE,SAAST,YAAY,CAACf,IAAb,CAAkBuB,gBAAlB,CAAmCC,EAApD;gBACA,MAAI,CAACrB,QAAL,GAAgBqB,EAAE,IAAI,IAAtB;gBACAkB,OAAO,CAAC,MAAI,CAACvC,QAAN,CAAP;cACD,CAJD;;cAAA;gBAAA;cAAA;YAAA;UAKD,CANM,CAAP;QAOD;;QACD,OAAO,MAAI,CAACA,QAAZ;MACD,CAdD,CAcE,OAAOR,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,0BAAd,EAA0CuN,CAA1C;QACA,OAAO,IAAP;MACD;IApBc;EAqBhB,CA5Z0B,CA8Z3B;EACA;EACA;;;EAEQ6D,UAAU;IAChB,OAAO,IAAIhF,6DAAJ,GACJhG,GADI,CACA,QADA,EACU,kBADV,EAEJA,GAFI,CAEA,cAFA,EAEgB,kBAFhB,CAAP;EAGD;EAED;;;;;;EAIMiL,0BAA0B;IAAA;;IAAA;MAC9BhR,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAD8B,CAG9B;;MACA,IAAI,CAAC,MAAI,CAAC4M,QAAV,EAAoB;QAClB,MAAM,MAAI,CAACoE,oCAAL,EAAN;MACD,CAN6B,CAQ9B;;;MACA,MAAM,MAAI,CAACC,gBAAL,CAAsB,oBAAtB,EAA4C;QAChDpO,QAAQ,EAAE,MAAI,CAAC+J,QAAL,GAAgB,sBAAhB,GAAyC,KADH;QAEhDsE,SAAS,EAAE,IAAIC,IAAJ,GAAWC,WAAX,EAFqC;QAGhDxR,OAAO,EAAE;MAHuC,CAA5C,CAAN,CAT8B,CAe9B;;MACAyR,UAAU,4JAAC,aAAW;QACpB,MAAM,MAAI,CAACC,cAAL,CAAoB,kBAApB,EAAwC;UAC5C1I,MAAM,EAAE,GADoC;UAE5C2I,UAAU,EAAE,YAFgC;UAG5C3R,OAAO,EAAE,mCAHmC;UAI5C4R,OAAO,EAAE;QAJmC,CAAxC,CAAN;MAMD,CAPS,GAOP,IAPO,CAAV;IAhB8B;EAwB/B;EAED;;;;;EAGcR,oCAAoC;IAAA;MAChD,IAAI,OAAOS,MAAP,KAAkB,WAAlB,IAAiC,EAAE,kBAAkBA,MAApB,CAArC,EAAkE;QAChE1R,OAAO,CAACC,GAAR,CAAY,qCAAZ;QACA,OAAO,KAAP;MACD;;MAED,IAAI0R,YAAY,CAAC3D,UAAb,KAA4B,SAAhC,EAA2C;QACzC,OAAO,IAAP;MACD;;MAED,IAAI2D,YAAY,CAAC3D,UAAb,KAA4B,QAAhC,EAA0C;QACxC,MAAMA,UAAU,SAAS2D,YAAY,CAACvN,iBAAb,EAAzB;QACA,OAAO4J,UAAU,KAAK,SAAtB;MACD;;MAED,OAAO,KAAP;IAfgD;EAgBjD;EAED;;;;;EAGQ4D,uBAAuB,CAACtO,KAAD,EAAgBuO,IAAhB,EAA8BC,IAA9B,EAAuD;IACpF,IAAI,OAAOJ,MAAP,KAAkB,WAAlB,IAAiC,EAAE,kBAAkBA,MAApB,CAArC,EAAkE;MAChE1R,OAAO,CAACC,GAAR,CAAY,qCAAZ;MACA;IACD;;IAED,IAAI0R,YAAY,CAAC3D,UAAb,KAA4B,SAAhC,EAA2C;MACzC,MAAMxK,IAAI,GAAGsO,IAAI,KAAK,SAAT,GACT,uDADS,CACgD;MADhD,EAET,uDAFJ,CADyC,CAGoB;;MAE7D,MAAM5C,YAAY,GAAG,IAAIyC,YAAJ,CAAiBrO,KAAjB,EAAwB;QAC3CuO,IAAI,EAAEA,IADqC;QAE3CrO,IAAI,EAAEA,IAFqC;QAG3CuO,KAAK,EAAEvO,IAHoC;QAI3CwO,GAAG,EAAE,qBAAqBZ,IAAI,CAACa,GAAL,EAAU,EAJO;QAK3CC,kBAAkB,EAAE,IALuB;QAM3CC,MAAM,EAAE;MANmC,CAAxB,CAArB;;MASAjD,YAAY,CAACkD,OAAb,GAAuB,MAAK;QAC1BV,MAAM,CAACW,KAAP;QACAnD,YAAY,CAACoD,KAAb;MACD,CAHD,CAdyC,CAmBzC;;;MACAhB,UAAU,CAAC,MAAMpC,YAAY,CAACoD,KAAb,EAAP,EAA6B,KAA7B,CAAV;IACD,CArBD,MAqBO;MACLtS,OAAO,CAACC,GAAR,CAAY,6CAAZ;IACD;EACF;EAED;;;;;EAGciR,gBAAgB,CAACrR,OAAD,EAAkB4R,OAAlB,EAA+B;IAAA;;IAAA;MAC3DzR,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CJ,OAA5C,EAAqD4R,OAArD;;MAEA,IAAI,MAAI,CAACc,eAAT,EAA0B;QACxB;QACA,IAAI,CAAC,MAAI,CAAC1F,QAAV,EAAoB;UAClB,MAAI,CAAC+E,uBAAL,CACE,6BADF,EAEE/R,OAFF,EAGE,SAHF;QAKD,CARuB,CAUxB;;;QACA,MAAI,CAACkD,MAAL,CAAYiM,GAAZ,4JAAgB,aAAW;UACzB,IAAI;YACF,MAAMwD,KAAK,SAAS,MAAI,CAAChG,SAAL,CAAe/N,MAAf,CAAsB;cACxCoB,OAAO,EAAE,KAAKA,OAAO,EADmB;cAExC4S,QAAQ,EAAE,IAF8B;cAGxCjI,QAAQ,EAAE,KAH8B;cAIxC/G,KAAK,EAAE,SAJiC;cAKxCzB,OAAO,EAAE,CACP;gBACEwO,IAAI,EAAE,SADR;gBAEEE,OAAO,EAAE,MAAK;kBACZ,MAAI,CAACgC,iBAAL,CAAuB,2BAAvB,EAAoD7S,OAApD,EAA6D4R,OAA7D;gBACD;cAJH,CADO,EAOP;gBACEjB,IAAI,EAAE,IADR;gBAEEC,IAAI,EAAE;cAFR,CAPO;YAL+B,CAAtB,CAApB;YAkBA,MAAM+B,KAAK,CAAC3Q,OAAN,EAAN;UACD,CApBD,CAoBE,OAAOqL,CAAP,EAAU;YACVlN,OAAO,CAACL,KAAR,CAAc,8BAAd,EAA8CuN,CAA9C,EADU,CAEV;;YACAnL,KAAK,CAAC,KAAKlC,OAAO,gBAAgB8S,IAAI,CAACC,SAAL,CAAenB,OAAf,EAAwB,IAAxB,EAA8B,CAA9B,CAAgC,EAA7D,CAAL;UACD;QACF,CA1BD;MA2BD;IAzC0D;EA0C5D;EAED;;;;;EAGcF,cAAc,CAAC1R,OAAD,EAAkBF,KAAlB,EAA4B;IAAA;;IAAA;MACtD,MAAMkT,YAAY,GAAG,OAAI,CAACC,kBAAL,CAAwBnT,KAAxB,CAArB;;MACAK,OAAO,CAACL,KAAR,CAAc,4BAAd,EAA4CE,OAA5C,EAAqDgT,YAArD;;MAEA,IAAI,OAAI,CAACN,eAAT,EAA0B;QACxB;QACA,IAAI,CAAC,OAAI,CAAC1F,QAAV,EAAoB;UAClB,MAAMkG,YAAY,GAAG,OAAOF,YAAP,KAAwB,QAAxB,GAChBA,YAAY,CAAChT,OAAb,IAAwBgT,YAAY,CAACrB,UAArC,IAAmDmB,IAAI,CAACC,SAAL,CAAeC,YAAf,EAA6BG,SAA7B,CAAuC,CAAvC,EAA0C,GAA1C,CADnC,GAEjBrS,MAAM,CAACkS,YAAD,CAAN,CAAqBG,SAArB,CAA+B,CAA/B,EAAkC,GAAlC,CAFJ;;UAIA,OAAI,CAACpB,uBAAL,CACE,2BADF,EAEE,GAAG/R,OAAO,KAAKkT,YAAY,EAF7B,EAGE,OAHF;QAKD,CAZuB,CAcxB;;;QACA,OAAI,CAAChQ,MAAL,CAAYiM,GAAZ,4JAAgB,aAAW;UACzB,IAAI;YACF,MAAMwD,KAAK,SAAS,OAAI,CAAChG,SAAL,CAAe/N,MAAf,CAAsB;cACxCoB,OAAO,EAAE,KAAKA,OAAO,EADmB;cAExC4S,QAAQ,EAAE,IAF8B;cAGxCjI,QAAQ,EAAE,KAH8B;cAIxC/G,KAAK,EAAE,QAJiC;cAKxCzB,OAAO,EAAE,CACP;gBACEwO,IAAI,EAAE,YADR;gBAEEE,OAAO,EAAE,MAAK;kBACZ,OAAI,CAACgC,iBAAL,CAAuB,yBAAvB,EAAkD7S,OAAlD,EAA2DgT,YAA3D;gBACD;cAJH,CADO,EAOP;gBACErC,IAAI,EAAE,IADR;gBAEEC,IAAI,EAAE;cAFR,CAPO;YAL+B,CAAtB,CAApB;YAkBA,MAAM+B,KAAK,CAAC3Q,OAAN,EAAN;UACD,CApBD,CAoBE,OAAOqL,CAAP,EAAU;YACVlN,OAAO,CAACL,KAAR,CAAc,4BAAd,EAA4CuN,CAA5C,EADU,CAEV;;YACAnL,KAAK,CAAC,KAAKlC,OAAO,cAAc8S,IAAI,CAACC,SAAL,CAAeC,YAAf,EAA6B,IAA7B,EAAmC,CAAnC,CAAqC,EAAhE,CAAL;UACD;QACF,CA1BD;MA2BD;IA9CqD;EA+CvD;EAED;;;;;EAGcH,iBAAiB,CAAC5Q,MAAD,EAAiBjC,OAAjB,EAAkC4R,OAAlC,EAA8C;IAAA;;IAAA;MAC3E,MAAMwB,aAAa,GAAG,OAAOxB,OAAP,KAAmB,QAAnB,GAClBA,OADkB,GAElBkB,IAAI,CAACC,SAAL,CAAenB,OAAf,EAAwB,IAAxB,EAA8B,CAA9B,CAFJ,CAD2E,CAK3E;;MACA,OAAI,CAAC1O,MAAL,CAAYiM,GAAZ,4JAAgB,aAAW;QACzB,IAAI;UACF,MAAMjN,KAAK,SAAS,OAAI,CAACwK,SAAL,CAAe9N,MAAf,CAAsB;YACxCqD,MAAM,EAAEA,MADgC;YAExCoR,SAAS,EAAErT,OAF6B;YAGxCA,OAAO,EAAE,oHAAoHoT,aAAa,QAHlG;YAIxCjR,OAAO,EAAE,CACP;cACEwO,IAAI,EAAE,iBADR;cAEEE,OAAO,EAAE,MAAK;gBACZ1Q,OAAO,CAACC,GAAR,CAAY,mCAAZ;gBACAD,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB6B,MAAvB;gBACA9B,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,OAAxB;gBACAG,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBwR,OAAxB;gBACAzR,OAAO,CAACC,GAAR,CAAY,mCAAZ;cACD;YARH,CADO,EAWP;cACEuQ,IAAI,EAAE,IADR;cAEEC,IAAI,EAAE;YAFR,CAXO,CAJ+B;YAoBxC0C,QAAQ,EAAE;UApB8B,CAAtB,CAApB;UAsBA,MAAMpR,KAAK,CAACF,OAAN,EAAN;QACD,CAxBD,CAwBE,OAAOqL,CAAP,EAAU;UACVlN,OAAO,CAACL,KAAR,CAAc,+BAAd,EAA+CuN,CAA/C,EADU,CAEV;;UACAnL,KAAK,CAAC,GAAGD,MAAM,KAAKjC,OAAO,OAAOoT,aAAa,EAA1C,CAAL;QACD;MACF,CA9BD;IAN2E;EAqC5E;EAED;;;;;EAGQH,kBAAkB,CAACnT,KAAD,EAAW;IACnC,IAAIA,KAAK,YAAYqM,mEAArB,EAAwC;MACtC,OAAO;QACLnD,MAAM,EAAElJ,KAAK,CAACkJ,MADT;QAEL2I,UAAU,EAAE7R,KAAK,CAAC6R,UAFb;QAGLjO,GAAG,EAAE5D,KAAK,CAAC4D,GAHN;QAIL1D,OAAO,EAAEF,KAAK,CAACE,OAJV;QAKLF,KAAK,EAAEA,KAAK,CAACA,KALR;QAMLyT,OAAO,EAAEzT,KAAK,CAACyT,OAAN,EAAeC,IAAf,IAAuBC,MAAvB,CAA8B,CAACC,GAAD,EAAW3N,GAAX,KAA0B;UAC/D2N,GAAG,CAAC3N,GAAD,CAAH,GAAWjG,KAAK,CAACyT,OAAN,CAAczN,GAAd,CAAkBC,GAAlB,CAAX;UACA,OAAO2N,GAAP;QACD,CAHQ,EAGN,EAHM;MANJ,CAAP;IAWD;;IAED,IAAI5T,KAAK,YAAYe,KAArB,EAA4B;MAC1B,OAAO;QACL8S,IAAI,EAAE7T,KAAK,CAAC6T,IADP;QAEL3T,OAAO,EAAEF,KAAK,CAACE,OAFV;QAGL4T,KAAK,EAAE9T,KAAK,CAAC8T;MAHR,CAAP;IAKD;;IAED,OAAO9T,KAAP;EACD;EAED;;;;;;EAIA+T,eAAe,CAACC,OAAD,EAAiC;IAC9C3T,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsD0T,OAAtD;IAEA,OAAO,KAAKpN,IAAL,CAAUqN,IAAV,CACL,GAAG,KAAKC,UAAU,YADb,EAELF,OAFK,EAGL;MAAEP,OAAO,EAAE,KAAKrC,UAAL;IAAX,CAHK,EAIL+C,IAJK,CAKL5H,mDAAG,CAAE6H,QAAD,IAAa;MACf,KAAK7C,gBAAL,CAAsB,iCAAtB,EAAyD;QACvDyC,OAAO,EAAEA,OAD8C;QAEvDI,QAAQ,EAAEA;MAF6C,CAAzD;IAID,CALE,CALE,EAWL9H,0DAAU,CAAEtM,KAAD,IAAU;MACnB,KAAK4R,cAAL,CAAoB,2CAApB,EAAiE5R,KAAjE;MACA,OAAOwM,wCAAE,CAAC;QAAEzM,OAAO,EAAE,KAAX;QAAkBC,KAAK,EAAE,KAAKmT,kBAAL,CAAwBnT,KAAxB;MAAzB,CAAD,CAAT;IACD,CAHS,CAXL,CAAP;EAgBD;EAED;;;;;;EAIAqU,aAAa,CAACL,OAAD,EAA6B;IACxC3T,OAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoD0T,OAApD;IAEA,OAAO,KAAKpN,IAAL,CAAUqN,IAAV,CACL,GAAG,KAAKC,UAAU,uBADb,EAELF,OAFK,EAGL;MAAEP,OAAO,EAAE,KAAKrC,UAAL;IAAX,CAHK,EAIL+C,IAJK,CAKL5H,mDAAG,CAAE6H,QAAD,IAAa;MACf,KAAK7C,gBAAL,CAAsB,+BAAtB,EAAuD;QACrDyC,OAAO,EAAEA,OAD4C;QAErDI,QAAQ,EAAEA;MAF2C,CAAvD;IAID,CALE,CALE,EAWL9H,0DAAU,CAAEtM,KAAD,IAAU;MACnB,KAAK4R,cAAL,CAAoB,yCAApB,EAA+D5R,KAA/D;MACA,OAAOwM,wCAAE,CAAC;QAAEzM,OAAO,EAAE,KAAX;QAAkBC,KAAK,EAAE,KAAKmT,kBAAL,CAAwBnT,KAAxB;MAAzB,CAAD,CAAT;IACD,CAHS,CAXL,CAAP;EAgBD;EAED;;;;;;EAIAsU,oBAAoB,CAACN,OAAD,EAAiC;IACnD3T,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6C0T,OAA7C;IAEA,OAAO,KAAKpN,IAAL,CAAUqN,IAAV,CACL,GAAG,KAAKC,UAAU,yBADb,EAELF,OAFK,EAGL;MAAEP,OAAO,EAAE,KAAKrC,UAAL;IAAX,CAHK,EAIL+C,IAJK,CAKL5H,mDAAG,CAAE6H,QAAD,IAAa;MACf,KAAK7C,gBAAL,CAAsB,2BAA2ByC,OAAO,CAACrE,gBAAgB,GAAzE,EAA8E;QAC5EqE,OAAO,EAAEA,OADmE;QAE5EI,QAAQ,EAAEA;MAFkE,CAA9E;IAID,CALE,CALE,EAWL9H,0DAAU,CAAEtM,KAAD,IAAU;MACnB,KAAK4R,cAAL,CAAoB,qCAAqCoC,OAAO,CAACrE,gBAAgB,GAAjF,EAAsF3P,KAAtF;MACA,OAAOwM,wCAAE,CAAC;QAAEzM,OAAO,EAAE,KAAX;QAAkBC,KAAK,EAAE,KAAKmT,kBAAL,CAAwBnT,KAAxB;MAAzB,CAAD,CAAT;IACD,CAHS,CAXL,CAAP;EAgBD;EAED;;;;;;EAIAuU,SAAS,CAACP,OAAD,EAAsC;IAC7C3T,OAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoD0T,OAApD;IAEA,OAAO,KAAKpN,IAAL,CAAUqN,IAAV,CACL,GAAG,KAAKC,UAAU,mBADb,EAELF,OAFK,EAGL;MAAEP,OAAO,EAAE,KAAKrC,UAAL;IAAX,CAHK,EAIL+C,IAJK,CAKL5H,mDAAG,CAAE6H,QAAD,IAAa;MACf,KAAK7C,gBAAL,CAAsB,qCAAtB,EAA6D;QAC3DyC,OAAO,EAAEA,OADkD;QAE3DI,QAAQ,EAAEA;MAFiD,CAA7D;IAID,CALE,CALE,EAWL9H,0DAAU,CAAEtM,KAAD,IAAU;MACnB,KAAK4R,cAAL,CAAoB,kCAApB,EAAwD5R,KAAxD;MACA,OAAOwM,wCAAE,CAAC;QAAEzM,OAAO,EAAE,KAAX;QAAkBC,KAAK,EAAE,KAAKmT,kBAAL,CAAwBnT,KAAxB;MAAzB,CAAD,CAAT;IACD,CAHS,CAXL,CAAP;EAgBD,CA1wB0B,CA4wB3B;EACA;EACA;;;EAEAwU,gBAAgB,CAAC5D,GAAD,EAAcjN,KAAd,EAA6BgB,OAAY,IAAzC,EAA+C8P,WAA/C,EAAgE;IAC9EpU,OAAO,CAACC,GAAR,CAAY,4CAAZ,EAA0D;MAAEqD,KAAF;MAASiN,GAAT;MAAcjM,IAAd;MAAoB8P;IAApB,CAA1D;IAEA,IAAIvC,IAAI,GAAQ;MACdwC,MAAM,EAAEjO,qFADM;MAEdoN,IAAI,EAAE,cAFQ;MAGdc,cAAc,EAAE,MAHF;MAIdC,QAAQ,EAAE;QAAEC,EAAE,EAAElR;MAAN,CAJI;MAKdmR,QAAQ,EAAE;QAAED,EAAE,EAAEjE;MAAN,CALI;MAMdmE,kBAAkB,EAAEtO,kGANN;MAOduO,UAAU,EAAE,wBAPE;MAQdC,UAAU,EAAE,8BARE;MASdC,SAAS,EAAE,WATG;MAUdvQ,IAAI,EAAEA;IAVQ,CAAhB;;IAaA,IAAI8P,WAAJ,EAAiB;MACf;MACAvC,IAAI,GAAG,EACL,GAAGA,IADE;QAELiD,eAAe,EAAE;UACfV,WAAW,EAAEW,KAAK,CAACC,OAAN,CAAcZ,WAAd,IAA6BA,WAA7B,GAA2C,CAACA,WAAD;QADzC;MAFZ,CAAP;IAMD,CARD,MAQO;MACLvC,IAAI,GAAG,EACL,GAAGA,IADE;QAELoD,iBAAiB,EAAE,CAAC,sBAAD,EAAyB,qBAAzB;MAFd,CAAP;IAID;;IAED,MAAM7B,OAAO,GAAG,IAAIrH,6DAAJ,GACbhG,GADa,CACT,QADS,EACC,kBADD,EAEbA,GAFa,CAET,cAFS,EAEO,kBAFP,EAGbA,GAHa,CAGT,eAHS,EAGQ,SAASK,0FAAgC,EAHjD,CAAhB;IAKA,OAAO,KAAKG,IAAL,CAAUqN,IAAV,CACL,4CADK,EAEL/B,IAFK,EAGL;MAAEuB,OAAO,EAAEA;IAAX,CAHK,EAILU,IAJK,CAKL5H,mDAAG,CAAE6H,QAAD,IAAa;MACf,KAAK7C,gBAAL,CAAsB,qCAAtB,EAA6D;QAC3D5N,KAAK,EAAEA,KADoD;QAE3DzD,OAAO,EAAE0Q,GAFkD;QAG3D6D,WAAW,EAAEA,WAH8C;QAI3DL,QAAQ,EAAEA;MAJiD,CAA7D;IAMD,CAPE,CALE,EAaL9H,0DAAU,CAAEtM,KAAD,IAAU;MACnB,KAAK4R,cAAL,CAAoB,+CAApB,EAAqE5R,KAArE;MACA,OAAOwM,wCAAE,CAAC;QAAEzM,OAAO,EAAE,KAAX;QAAkBC,KAAK,EAAE,KAAKmT,kBAAL,CAAwBnT,KAAxB;MAAzB,CAAD,CAAT;IACD,CAHS,CAbL,CAAP;EAkBD,CAt0B0B,CAw0B3B;EACA;EACA;;EAEA;;;;;EAGAwV,cAAc,CAACC,OAAD,EAAiB;IAC7B,KAAK7C,eAAL,GAAuB6C,OAAvB;IACApV,OAAO,CAACC,GAAR,CAAY,kCAAkCmV,OAAO,GAAG,SAAH,GAAe,UAAU,EAA9E;EACD;EAED;;;;;EAGAC,sBAAsB;IACpB,OAAO,KAAKtI,aAAZ;EACD;EAED;;;;;EAGAD,gBAAgB;IACd,OAAO,KAAKD,QAAZ;EACD;EAED;;;;;EAGMyI,mBAAmB;IAAA;;IAAA;MACvB,IAAI;QACF,IAAI,OAAI,CAACzI,QAAT,EAAmB;UACjB,aAAaM,SAAS,CAACU,aAAV,CAAwBM,kBAAxB,EAAb;QACD,CAFD,MAEO,IAAI,OAAOC,iBAAP,KAA6B,WAAjC,EAA8C;UACnD,OAAO,IAAI4B,OAAJ,CAAaC,OAAD,IAAY;YAC7B7B,iBAAiB,CAACpF,IAAlB;cAAA,yJAAuB,WAAOsF,YAAP,EAA4B;gBACjD,MAAMN,UAAU,SAASM,YAAY,CAACT,aAAb,CAA2BG,UAApD;gBACAiC,OAAO,CAACjC,UAAD,CAAP;cACD,CAHD;;cAAA;gBAAA;cAAA;YAAA;UAID,CALM,CAAP;QAMD;;QACD,OAAO,KAAP;MACD,CAZD,CAYE,OAAOd,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,kCAAd,EAAkDuN,CAAlD;QACA,OAAO,KAAP;MACD;IAhBsB;EAiBxB;;AAt3B0B;;;mBAAhBZ,kBAAgBpK,sDAAAA,CAAAA,4DAAAA,GAAAA,sDAAAA,CAAAA,4DAAAA,GAAAA,sDAAAA,CAAAA,4DAAAA,GAAAA,sDAAAA,CAAAA,oDAAAA,GAAAA,sDAAAA,CAAAA,iDAAAA;AAAA;;;SAAhBoK;EAAgBiJ,SAAhBjJ,gBAAgB;EAAAkJ,YAFf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9Dd;AAEA;;;;;;;;;;;;;;;IC0DMtT,qEAAAA;IACEA,4DAAAA;IAAWA,oDAAAA;;IAA4BA,0DAAAA;IACvCA,uDAAAA;IACFA,mEAAAA;;;;IAFaA,uDAAAA;IAAAA,+DAAAA,CAAAA,yDAAAA;;;;;;IAGbA,uDAAAA;;;;;;;;;;;;;;;;;;;;;;;;ADlDA,MAAO0T,YAAP,CAAmB;EAkBvB1Y,YACSoJ,SADT,EAEShB,OAFT,EAGSkH,SAHT,EAIUvJ,IAJV,EAKUE,MALV,EAMUH,MANV,EAOU6S,GAPV,EAOmC;EACzBzS,SARV,EASU0S,QATV,EASwB;IARf;IACA;IACA;IACC;IACA;IACA;IACA;IACA;IACA;IArBV,iBAAY,KAAZ;IAIA,cAAS;MACPvL,MAAM,EAAE,CADD;MAEPwL,gBAAgB,EAAE;IAFX,CAAT;EAkBI;;EAEJ/X,QAAQ;IACNgC,OAAO,CAACC,GAAR,CAAY,KAAK+V,KAAjB;IACA,KAAK1Q,OAAL,CAAa2Q,UAAb,GAFM,CAEsB;;IAC5B,KAAKC,cAAL,CAAoB,EAApB,EAHM,CAGoB;EAC3B;;EAEDjY,eAAe;IACb;IACA,IAAI,KAAKkY,UAAT,EAAqB;MACnB,KAAKC,MAAL,CAAY,KAAKD,UAAjB;MACA,KAAKN,GAAL,CAASQ,aAAT,GAFmB,CAEQ;IAC5B;EACF;;EAEDC,WAAW;IACTC,aAAa,CAAC,KAAKC,iBAAN,CAAb,CADS,CAC+B;EACzC;;EAEDC,WAAW,CAAC7X,KAAD,EAAM;IACf,KAAK8X,GAAL,GAAW9X,KAAX;IACAoB,OAAO,CAACC,GAAR,CAAY,KAAKyW,GAAjB;EACD;;EAEDzU,UAAU;IACR,KAAKqE,SAAL,CAAe7G,OAAf;EACD;;EAEKkX,MAAM;IAAA;;IAAA;MACV,IAAI;QACF,KAAI,CAACrR,OAAL,CAAasR,UAAb,OAA8B,KAAI,CAACxT,SAAL,CAAeuC,GAAf,CAAmB,eAAnB,EAAoCvF,SAApC,EAA9B;;QACA,MAAM2T,QAAQ,SAAS,KAAI,CAAC9Q,IAAL,CAAU4T,qBAAV,CAAgC,KAAI,CAAC5P,WAAL,GAAmB,KAAI,CAAC+O,KAAxD,CAAvB;QACAhW,OAAO,CAACC,GAAR,CAAY8T,QAAZ;QACA,KAAI,CAAC+C,kBAAL,GAA0B/C,QAA1B,CAJE,CAImC;;QACrC,KAAI,CAACzO,OAAL,CAAa2Q,UAAb;;QACA,KAAI,CAACc,SAAL,OAAqB,KAAI,CAAC3T,SAAL,CAAeuC,GAAf,CAAmB,YAAnB,EAAiCvF,SAAjC,EAArB;;QACA,KAAI,CAAC8V,cAAL,CAAoB,EAApB,EAPE,CAOwB;;MAC3B,CARD,CAQE,OAAOhJ,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,mBAAd,EAAmCuN,CAAnC;;QACA,KAAI,CAAC5H,OAAL,CAAa2Q,UAAb;;QAEA,IAAIrW,YAAY,SAAS,KAAI,CAACwD,SAAL,CAAeuC,GAAf,CAAmB,eAAnB,EAAoCvF,SAApC,EAAzB,CAJU,CAMV;;QACA,IAAI8M,CAAC,CAAC8J,IAAF,KAAW,wBAAf,EAAyC;UACvCpX,YAAY,SAAS,KAAI,CAACwD,SAAL,CAAeuC,GAAf,CAAmB,aAAnB,EAAkCvF,SAAlC,EAArB;QACD,CAFD,MAEO,IAAI8M,CAAC,CAAC8J,IAAF,KAAW,6BAAf,EAA8C;UACnDpX,YAAY,SAAS,KAAI,CAACwD,SAAL,CAAeuC,GAAf,CAAmB,eAAnB,EAAoCvF,SAApC,EAArB;QACD;;QAED,KAAI,CAAC2W,SAAL,CAAenX,YAAf;MACD;IAvBS;EAwBX;;EAEKqX,SAAS;IAAA;;IAAA;MACb,IAAI;QACF,MAAI,CAACC,QAAL,GAAgB,IAAhB;;QACA,MAAI,CAAC5R,OAAL,CAAasR,UAAb,CAAwB,EAAxB;;QAEA,IAAI7C,QAAJ;;QACA,IAAI,MAAI,CAAC+C,kBAAL,IAA2B,MAAI,CAACA,kBAAL,CAAwBK,cAAvD,EAAuE;UACrE;UACA,MAAMC,UAAU,GAAG1B,4EAAA,CAA6B,MAAI,CAACoB,kBAAL,CAAwBK,cAArD,EAAqE,MAAI,CAACT,GAA1E,CAAnB,CAFqE,CAGrE;;UACA3C,QAAQ,SAAS4B,wEAAoB,CAAC,MAAI,CAACG,QAAN,EAAgBsB,UAAhB,CAArC;QACD,CALD,MAKO;UACL;UACArD,QAAQ,SAAS,MAAI,CAAC+C,kBAAL,CAAwBO,OAAxB,CAAgC,MAAI,CAACX,GAArC,CAAjB;QACD,CAbC,CAeF;;;QACA,MAAM,IAAI1G,OAAJ,CAAYC,OAAO,IAAIqB,UAAU,CAACrB,OAAD,EAAU,IAAV,CAAjC,CAAN;QAEA,MAAI,CAACiH,QAAL,GAAgB,KAAhB;;QACA,MAAI,CAAC5R,OAAL,CAAa2Q,UAAb;;QACA,MAAI,CAAC3P,SAAL,CAAe7G,OAAf,CAAuB;UAAEJ,IAAI,EAAE0U,QAAQ,CAAC1U;QAAjB,CAAvB;MAED,CAtBD,CAsBE,OAAO6N,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,yBAAd,EAAyCuN,CAAzC;;QACA,MAAI,CAACoK,aAAL;;QACA,MAAI,CAAChS,OAAL,CAAa2Q,UAAb;;QACA,MAAI,CAACiB,QAAL,GAAgB,KAAhB;QAEA,IAAItX,YAAY,SAAS,MAAI,CAACwD,SAAL,CAAeuC,GAAf,CAAmB,aAAnB,EAAkCvF,SAAlC,EAAzB,CANU,CAQV;;QACA,IAAI8M,CAAC,CAAC8J,IAAF,KAAW,gCAAf,EAAiD;UAC/CpX,YAAY,SAAS,MAAI,CAACwD,SAAL,CAAeuC,GAAf,CAAmB,aAAnB,EAAkCvF,SAAlC,EAArB;QACD,CAFD,MAEO,IAAI8M,CAAC,CAAC8J,IAAF,KAAW,mBAAf,EAAoC;UACzCpX,YAAY,SAAS,MAAI,CAACwD,SAAL,CAAeuC,GAAf,CAAmB,YAAnB,EAAiCvF,SAAjC,EAArB;QACD,CAFM,MAEA,IAAI8M,CAAC,CAAC8J,IAAF,KAAW,6BAAf,EAA8C;UACnDpX,YAAY,SAAS,MAAI,CAACwD,SAAL,CAAeuC,GAAf,CAAmB,eAAnB,EAAoCvF,SAApC,EAArB;QACD,CAFM,MAEA,IAAI8M,CAAC,CAAC8J,IAAF,KAAW,wBAAf,EAAyC;UAC9CpX,YAAY,SAAS,MAAI,CAACwD,SAAL,CAAeuC,GAAf,CAAmB,aAAnB,EAAkCvF,SAAlC,EAArB;QACD;;QAED,MAAI,CAAC2W,SAAL,CAAenX,YAAf;MACD,CA1CD,SA0CU;QACR;QACA,MAAI,CAAC0F,OAAL,CAAa2Q,UAAb;;QACA,MAAI,CAACiB,QAAL,GAAgB,KAAhB;MACD;IA/CY;EAgDd;;EAEKH,SAAS,CAAClX,OAAD,EAAgB;IAAA;;IAAA;MAC7B,MAAM2S,KAAK,SAAS,MAAI,CAAChG,SAAL,CAAe/N,MAAf,CAAsB;QACxCoB,OAAO,EAAEA,OAD+B;QAExC4S,QAAQ,EAAE,IAF8B;QAGxCjI,QAAQ,EAAE;MAH8B,CAAtB,CAApB;MAKAgI,KAAK,CAAC3Q,OAAN;IAN6B;EAO9B;;EAEDqU,cAAc,CAACqB,OAAD,EAAgB;IAC5B,KAAKC,SAAL,GAAiBD,OAAjB;IACAhB,aAAa,CAAC,KAAKC,iBAAN,CAAb,CAF4B,CAEY;;IACxC,KAAKA,iBAAL,GAAyBiB,WAAW,CAAC,MAAK;MACxC,KAAKD,SAAL;;MACA,IAAI,KAAKA,SAAL,IAAkB,CAAtB,EAAyB;QACvBjB,aAAa,CAAC,KAAKC,iBAAN,CAAb;MACD;IACF,CALmC,EAKjC,IALiC,CAApC;EAMD;;EAEDc,aAAa;IACX,KAAKI,QAAL,CAAcC,QAAd,CAAuB,EAAvB,EADW,CACkB;;IAC7B,KAAKjB,GAAL,GAAW,EAAX,CAFW,CAEK;EACjB;;EAEDN,MAAM,CAACM,GAAD,EAAY;IAChB,KAAKA,GAAL,GAAWA,GAAX;IACA,KAAKgB,QAAL,CAAcC,QAAd,CAAuBjB,GAAvB,EAFgB,CAEc;EAC/B;;AAjKsB;;;mBAAZd,cAAY1T,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,qEAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,+DAAAA,GAAAA,+DAAAA,CAAAA,mDAAAA,GAAAA,+DAAAA,CAAAA,mEAAAA,GAAAA,+DAAAA,CAAAA,4DAAAA,GAAAA,+DAAAA,CAAAA,iEAAAA,GAAAA,+DAAAA,CAAAA,oDAAAA;AAAA;;;QAAZ0T;EAAYzT;EAAAC;IAAA;;;;;;;;;;;;;;;;;;;;;MCdzBF,4DAAAA,qBAAuD,CAAvD,EAAuD,aAAvD,EAAuD,CAAvD,EAAuD,aAAvD,EAAuD,CAAvD,EAAuD,CAAvD,EAAuD,YAAvD,EAAuD,CAAvD;MAGkCA,wDAAAA;QAAA,OAASG,gBAAT;MAAqB,CAArB;MAC1BH,uDAAAA;MACFA,0DAAAA;MAEFA,4DAAAA;MAAWA,oDAAAA;;MAA8BA,0DAAAA;MAI7CA,4DAAAA,sBAAmC,CAAnC,EAAmC,UAAnC,EAAmC,CAAnC,EAAmC,EAAnC,EAAmC,iBAAnC,EAAmC,EAAnC,EAAmC,WAAnC,EAAmC,CAAnC,EAAmC,EAAnC,EAAmC,IAAnC;MAGoCA,oDAAAA;;MAAsCA,0DAAAA;MAGtEA,4DAAAA,oBAA0C,EAA1C,EAA0C,WAA1C,EAA0C,EAA1C,EAA0C,KAA1C,EAA0C,CAA1C,EAA0C,EAA1C,EAA0C,cAA1C,EAA0C,CAA1C,EAA0C,EAA1C;MAIQA,wDAAAA;QAAA,OAAiBG,uBAAjB;MAAoC,CAApC;MAcFH,0DAAAA;MAKNA,4DAAAA,oBAA0C,EAA1C,EAA0C,WAA1C,EAA0C,EAA1C,EAA0C,KAA1C,EAA0C,CAA1C,EAA0C,EAA1C,EAA0C,MAA1C,EAA0C,EAA1C;MAG8BA,oDAAAA;;MAAqDA,0DAAAA;MAKnFA,4DAAAA;MAOEA,wDAAAA;QAAA,OAASG,YAAT;MAAiB,CAAjB;MAEAH,oDAAAA;;MACFA,0DAAAA;MACAA,4DAAAA;MAAuHA,wDAAAA;QAAA,OAASG,eAAT;MAAoB,CAApB;MACrHH,wDAAAA;MAIAA,wDAAAA;MACFA,0DAAAA;;;;MAjE8BA,wDAAAA;MAOnBA,uDAAAA;MAAAA,+DAAAA,CAAAA,yDAAAA;MAOqBA,uDAAAA;MAAAA,+DAAAA,CAAAA,yDAAAA;MAQxBA,uDAAAA;MAAAA,wDAAAA,WAAAA,6DAAAA,UAAAA,6DAAAA;MAqBsBA,uDAAAA;MAAAA,gEAAAA,yBAAAA,yDAAAA;MAa5BA,uDAAAA;MAAAA,wDAAAA;MACAA,uDAAAA;MAAAA,gEAAAA,MAAAA,yDAAAA;MAE+DA,uDAAAA;MAAAA,wDAAAA;MAChDA,uDAAAA;MAAAA,wDAAAA;MAIIA,uDAAAA;MAAAA,wDAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DzB;AAWA;AAEA;;;AAKM,MAAOoW,WAAP,CAAkB;EAMtBpb,YAAoB+F,IAApB,EAA8B;IAAV;IAFZ,8BAAyB,KAAzB;IAGN,KAAKsV,KAAL,GAAa,IAAIF,4CAAJ,CAA6BG,UAAD,IAAe;MACtD,KAAKvV,IAAL,CAAU0B,kBAAV,CAA6B6T,UAA7B;IACD,CAFY,CAAb;EAGD,CAVqB,CAYtB;;;EACAC,SAAS;IACP,IAAI;MACF;MACA,IAAI,KAAKC,WAAT,EAAsB;QACpB,KAAKA,WAAL,CAAiBC,KAAjB;QACA,KAAKD,WAAL,GAAmB,IAAnB;QACA,KAAKE,sBAAL,GAA8B,KAA9B;MACD,CANC,CAQF;;;MACA,MAAMC,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAlB;;MACA,IAAI,CAACF,SAAL,EAAgB;QACd7Y,OAAO,CAACL,KAAR,CAAc,+BAAd;QACA;MACD,CAbC,CAeF;;;MACAkZ,SAAS,CAACG,SAAV,GAAsB,EAAtB;MAEA,KAAKN,WAAL,GAAmB,IAAIP,4DAAJ,CAAsB,gBAAtB,EAAwC;QACzDc,IAAI,EAAE,WADmD;QAEzDC,QAAQ,EAAGnF,QAAD,IAAa;UACrB/T,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC8T,QAAnC;QACD,CAJwD;QAKzD,oBAAoB,MAAK;UACvB/T,OAAO,CAACC,GAAR,CAAY,sCAAZ;UACA,KAAK2Y,sBAAL,GAA8B,KAA9B;UACA,KAAKH,SAAL;QACD;MATwD,CAAxC,EAUhB,KAAKxV,IAVW,CAAnB;MAYA,KAAKyV,WAAL,CAAiBS,MAAjB,GAA0B3U,IAA1B,CAA+B,MAAK;QAClC,KAAKoU,sBAAL,GAA8B,IAA9B;QACA5Y,OAAO,CAACC,GAAR,CAAY,oCAAZ;MACD,CAHD,EAGGmZ,KAHH,CAGUzZ,KAAD,IAAU;QACjBK,OAAO,CAACL,KAAR,CAAc,yBAAd,EAAyCA,KAAzC;QACA,KAAKiZ,sBAAL,GAA8B,KAA9B;MACD,CAND;IAOD,CArCD,CAqCE,OAAOjZ,KAAP,EAAc;MACdK,OAAO,CAACL,KAAR,CAAc,iCAAd,EAAiDA,KAAjD;MACA,KAAKiZ,sBAAL,GAA8B,KAA9B;IACD;EACF;;EAEK/B,qBAAqB,CAACwC,WAAD,EAAoB;IAAA;;IAAA;MAC7C,IAAI;QACF;QACA,IAAI,CAAC,KAAI,CAACX,WAAN,IAAqB,CAAC,KAAI,CAACE,sBAA/B,EAAuD;UACrD5Y,OAAO,CAACC,GAAR,CAAY,mDAAZ;;UACA,KAAI,CAACwY,SAAL,GAFqD,CAGrD;;;UACA,MAAM,IAAIzI,OAAJ,CAAYC,OAAO,IAAIqB,UAAU,CAACrB,OAAD,EAAU,IAAV,CAAjC,CAAN;QACD;;QAED,IAAI,CAAC,KAAI,CAACyI,WAAV,EAAuB;UACrB,MAAM/Y,KAAK,GAAQ,IAAIe,KAAJ,CAAU,2BAAV,CAAnB;UACAf,KAAK,CAACqX,IAAN,GAAa,2BAAb;UACAhX,OAAO,CAACL,KAAR,CAAc,mCAAd;UACA,MAAMA,KAAN;QACD;;QAEDK,OAAO,CAACC,GAAR,CAAY,6CAAZ,EAA2DoZ,WAA3D;QACArZ,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyC,KAAI,CAAC2Y,sBAA9C;QACA5Y,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BqZ,SAAS,CAACC,SAAtC;QAEA,MAAMzC,kBAAkB,SAASD,yEAAqB,CAAC,KAAI,CAAC5T,IAAN,EAAYoW,WAAZ,EAAyB,KAAI,CAACX,WAA9B,CAAtD;QACA,KAAI,CAAC5B,kBAAL,GAA0BA,kBAA1B;QACA9W,OAAO,CAACC,GAAR,CAAY,mCAAZ;QACA,OAAO6W,kBAAP;MACD,CAxBD,CAwBE,OAAO5J,CAAP,EAAU;QACV;QACAlN,OAAO,CAACL,KAAR,CAAc,yCAAd;QACAK,OAAO,CAACL,KAAR,CAAc,iCAAd;QACAK,OAAO,CAACL,KAAR,CAAc,yCAAd;QACAK,OAAO,CAACL,KAAR,CAAc,kBAAd,EAAkC0Z,WAAlC;QACArZ,OAAO,CAACL,KAAR,CAAc,gBAAd,EAAgCuN,CAAC,CAAC8J,IAAF,IAAU,SAA1C;QACAhX,OAAO,CAACL,KAAR,CAAc,mBAAd,EAAmCuN,CAAC,CAACrN,OAAF,IAAa,YAAhD;QACAG,OAAO,CAACL,KAAR,CAAc,uBAAd,EAAuCgT,IAAI,CAACC,SAAL,CAAe1F,CAAf,EAAkBsM,MAAM,CAACC,mBAAP,CAA2BvM,CAA3B,CAAlB,EAAiD,CAAjD,CAAvC;QACAlN,OAAO,CAACL,KAAR,CAAc,gBAAd,EAAgC2Z,SAAS,CAACC,SAA1C;QACAvZ,OAAO,CAACL,KAAR,CAAc,sBAAd,EAAsC,KAAI,CAACiZ,sBAA3C;QACA5Y,OAAO,CAACL,KAAR,CAAc,cAAd,EAA8B,IAAIyR,IAAJ,GAAWC,WAAX,EAA9B,EAXU,CAaV;;QACA,IAAInE,CAAC,CAAC8J,IAAF,KAAW,6BAAf,EAA8C;UAC5ChX,OAAO,CAACL,KAAR,CAAc,EAAd;UACAK,OAAO,CAACL,KAAR,CAAc,2CAAd;UACAK,OAAO,CAACL,KAAR,CAAc,sCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,mDAAd;UACAK,OAAO,CAACL,KAAR,CAAc,EAAd;UACAK,OAAO,CAACL,KAAR,CAAc,0BAAd;UACAK,OAAO,CAACL,KAAR,CAAc,8CAAd;UACAK,OAAO,CAACL,KAAR,CAAc,gDAAd;UACAK,OAAO,CAACL,KAAR,CAAc,sCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,qCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,8CAAd;UACAK,OAAO,CAACL,KAAR,CAAc,EAAd;UACAK,OAAO,CAACL,KAAR,CAAc,6BAAd;UACAK,OAAO,CAACL,KAAR,CAAc,wCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,EAAd;UACAK,OAAO,CAACL,KAAR,CAAc,sBAAd;UACAK,OAAO,CAACL,KAAR,CAAc,4EAAd;UACAK,OAAO,CAACL,KAAR,CAAc,sCAAd;QACD,CAnBD,MAmBO,IAAIuN,CAAC,CAAC8J,IAAF,KAAW,qBAAX,IAAoC9J,CAAC,CAAC8J,IAAF,KAAW,wBAAnD,EAA6E;UAClFhX,OAAO,CAACL,KAAR,CAAc,EAAd;UACAK,OAAO,CAACL,KAAR,CAAc,2BAAd;UACAK,OAAO,CAACL,KAAR,CAAc,sCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,kBAAd;UACAK,OAAO,CAACL,KAAR,CAAc,gDAAd;UACAK,OAAO,CAACL,KAAR,CAAc,uCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,4CAAd;UACAK,OAAO,CAACL,KAAR,CAAc,sCAAd;QACD,CATM,MASA,IAAIuN,CAAC,CAAC8J,IAAF,KAAW,2BAAf,EAA4C;UACjDhX,OAAO,CAACL,KAAR,CAAc,EAAd;UACAK,OAAO,CAACL,KAAR,CAAc,kCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,sCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,kBAAd;UACAK,OAAO,CAACL,KAAR,CAAc,yCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,gCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,mCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,sCAAd;QACD,CATM,MASA,IAAIuN,CAAC,CAAC8J,IAAF,KAAW,6BAAf,EAA8C;UACnDhX,OAAO,CAACL,KAAR,CAAc,EAAd;UACAK,OAAO,CAACL,KAAR,CAAc,2BAAd;UACAK,OAAO,CAACL,KAAR,CAAc,sCAAd;UACAK,OAAO,CAACL,KAAR,CAAc,6BAAd;UACAK,OAAO,CAACL,KAAR,CAAc,sCAAd;QACD;;QAEDK,OAAO,CAACL,KAAR,CAAc,yCAAd,EA3DU,CA6DV;;QACA,KAAI,CAACiZ,sBAAL,GAA8B,KAA9B;QACA,MAAM1L,CAAN;MACD;IAzF4C;EA0F9C;;EAEDwM,cAAc;IACZ,IAAI,KAAKhB,WAAT,EAAsB;MACpB,IAAI;QACF,KAAKA,WAAL,CAAiBC,KAAjB;MACD,CAFD,CAEE,OAAOhZ,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,2BAAd,EAA2CA,KAA3C;MACD;;MACD,KAAK+Y,WAAL,GAAmB,IAAnB;MACA,KAAKE,sBAAL,GAA8B,KAA9B;IACD;EACF;;EAEc,IAAXe,WAAW;IACb,OAAO,KAAK1W,IAAL,CAAU0W,WAAjB;EACD;;EAEKC,gBAAgB;IAAA;MACpB,MAAMhc,QAAQ,GAAG,IAAIwa,6DAAJ,EAAjB;MACA,MAAMnV,IAAI,GAAG6U,2DAAO,EAApB;MACA,OAAOD,mEAAe,CAAC5U,IAAD,EAAOrF,QAAP,CAAtB;IAHoB;EAIrB;;EAEKic,iBAAiB,CAACxa,IAAD,EAAW;IAAA;;IAAA;MAChC,MAAMzB,QAAQ,GAAG,IAAIwa,6DAAJ,EAAjB;;MACA,IAAI;QACF,MAAMhJ,MAAM,SAASyI,mEAAe,CAAC,MAAI,CAAC5U,IAAN,EAAYrF,QAAZ,CAApC;QACA,MAAMwZ,UAAU,GAAGgB,kFAAA,CAAwChJ,MAAxC,CAAnB;;QACA,IAAIgI,UAAJ,EAAgB;UACd,MAAMW,sEAAkB,CAAC1Y,IAAD,EAAO+X,UAAP,CAAxB;QACD;MACF,CAND,CAME,OAAOzX,KAAP,EAAc;QACd,IAAIA,KAAK,CAACqX,IAAN,KAAe,gCAAnB,EAAqD;UACnDhX,OAAO,CAACL,KAAR,CAAc,+BAAd,EAA+CA,KAA/C;;UAEA,IAAIA,KAAK,CAACoa,UAAN,IAAoBpa,KAAK,CAACoa,UAAN,CAAiB3a,KAAzC,EAAgD;YAC9C,MAAM4a,qBAAqB,SAAS/B,8EAA0B,CAAC,MAAI,CAAChV,IAAN,EAAYtD,KAAK,CAACoa,UAAN,CAAiB3a,KAA7B,CAA9D;;YACA,IAAI4a,qBAAqB,CAACnZ,QAAtB,CAA+BuX,yEAA/B,CAAJ,EAAoE;cAClE,MAAMJ,0DAAM,CAAC,MAAI,CAAC/U,IAAL,CAAU0W,WAAX,EAAwBvB,yEAAxB,CAAZ;cACA,MAAMhJ,MAAM,SAASyI,mEAAe,CAAC,MAAI,CAAC5U,IAAN,EAAYrF,QAAZ,CAApC;cACA,MAAMwZ,UAAU,GAAGgB,kFAAA,CAAwChJ,MAAxC,CAAnB;;cACA,IAAIgI,UAAJ,EAAgB;gBACd,MAAMW,sEAAkB,CAAC1Y,IAAD,EAAO+X,UAAP,CAAxB;cACD;YACF;UACF,CAVD,MAUO;YACLpX,OAAO,CAACL,KAAR,CAAc,kCAAd,EAAkDA,KAAlD;UACD;QACF,CAhBD,MAgBO;UACL,MAAMA,KAAN;QACD;MACF;IA5B+B;EA6BjC;;EAEKsX,SAAS,CAACP,GAAD,EAAY;IAAA;;IAAA;MACzB,IAAI;QACF,IAAI,CAAC,MAAI,CAACgC,WAAV,EAAuB,MAAI,CAACD,SAAL;QACvB,MAAMrJ,MAAM,SAAS,MAAI,CAAC0H,kBAAL,CAAwBO,OAAxB,CAAgCX,GAAhC,CAArB;QACA1W,OAAO,CAACC,GAAR,CAAYmP,MAAZ;QACA,MAAM/P,IAAI,GAAG+P,MAAM,EAAE/P,IAArB;QACAW,OAAO,CAACC,GAAR,CAAYZ,IAAZ;MACD,CAND,CAME,OAAO6N,CAAP,EAAU;QACV,MAAMA,CAAC,EAAErN,OAAT;MACD;IATwB;EAU1B;;EAEDgR,MAAM;IACJ,OAAO+G,2DAAO,CAAC,KAAK3U,IAAN,CAAd;EACD;;EAEKiV,0BAA0B,CAAC9Y,KAAD,EAAgB8a,QAAhB,EAAgC;IAAA;;IAAA;MAC9D,IAAI;QACF,MAAMC,cAAc,SAASjC,8EAA0B,CAAC,MAAI,CAACjV,IAAN,EAAY7D,KAAZ,EAAmB8a,QAAnB,CAAvD;QACA,OAAOC,cAAP;MACD,CAHD,CAGE,OAAOxa,KAAP,EAAc;QACd,MAAMA,KAAN;MACD;IAN6D;EAO/D;;AAjOqB;;;mBAAX2Y,aAAWpW,sDAAAA,CAAAA,oDAAAA;AAAA;;;SAAXoW;EAAW/C,SAAX+C,WAAW;EAAA9C,YAFV;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdd;AACA;AAOA;AACA;;;;;;;AAWM,MAAOkG,aAAP,CAAoB;EAoBxBxe,YACU+F,IADV,EAES0Y,SAFT,EAGUC,OAHV,EAIUrV,IAJV,EAKUsV,WALV,EAKkC;IAAA;;IAJxB;IACD;IACC;IACA;IACA;IATF,sBAAiB,IAAIxP,iDAAJ,CAA+B,EAA/B,CAAjB;IACR,gBAAW,KAAKyP,cAAL,CAAoBpP,YAApB,EAAX;IACO,uBAAiD,EAAjD;IASL,KAAKzJ,IAAL,CAAU0B,kBAAV;MAAA,wJAA6B,WAAOtF,IAAP,EAAc;QACzC,IAAIA,IAAJ,EAAS;UACP,KAAI,CAACA,IAAL,GAAYA,IAAZ;UAEA,KAAI,CAAC0c,gBAAL,GAAwB3B,mEAAU,CAAC,KAAI,CAACuB,SAAN,EAAiB,SAAjB,CAAlC;;UAEA,KAAI,CAACpV,IAAL,CAAUZ,GAAV,CAAc,wBAAd,EAAwC5B,SAAxC,CAAkD;YAChDkK,IAAI,EAAGjH,GAAD,IAAa;cACjBhH,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2C+G,GAA3C;cACA,KAAI,CAACC,WAAL,GAAmBD,GAAG,CAACgV,YAAJ,IAAoB,IAAvC;YACD,CAJ+C;YAKhDrc,KAAK,EAAGA,KAAD,IAAU;cACfK,OAAO,CAACqO,IAAR,CAAa,0CAAb,EAAyD1O,KAAzD;cACA,KAAI,CAACsH,WAAL,GAAmB,IAAnB,CAFe,CAEU;YAC1B;UAR+C,CAAlD,EALO,CAgBP;;;UACAqK,UAAU,4JAAC,aAAW;YACpB,IAAI;cACF,MAAM,KAAI,CAAC2K,eAAL,EAAN;YACD,CAFD,CAEE,OAAOtc,KAAP,EAAc;cACdK,OAAO,CAACL,KAAR,CAAc,8BAAd,EAA8CA,KAA9C,EADc,CAEd;;cACA,KAAI,CAACuc,OAAL,GAAe;gBACbC,QAAQ,EAAE,KAAI,CAAC9c,IAAL,CAAUwF,GADP;gBAEbuX,UAAU,EAAE,KAAI,CAAC/c,IAAL,CAAUgd,WAAV,IAAyB,SAFxB;gBAGbC,WAAW,EAAE,KAAI,CAACjd,IAAL,CAAUga,WAAV,IAAyB,SAHzB;gBAIbkD,WAAW,EAAE,KAAI,CAACld,IAAL,CAAUD,KAAV,IAAmB,SAJnB;gBAKbod,YAAY,EAAE,CALD;gBAMbC,SAAS,EAAE,IAAIrL,IAAJ,GAAWC,WAAX,EANE;gBAObqL,OAAO,EAAE;cAPI,CAAf;cASA1c,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmD,KAAI,CAACic,OAAxD;YACD;UACF,CAjBS,GAiBP,IAjBO,CAAV,CAjBO,CAkCG;QAGb;MAEF,CAxCC;;MAAA;QAAA;MAAA;IAAA;EA0CD;;EAlEDS,QAAQ,CAACrY,IAAD,EAAU;IAChB,MAAM,IAAI5D,KAAJ,CAAU,yBAAV,CAAN;EACD;;EAkEakc,0BAA0B;IAAA;;IAAA;MACtC,IAAI;QACF5c,OAAO,CAACC,GAAR,CAAY,oCAAZ,EADE,CAEF;;QACA,MAAM4c,OAAO,SAAS3B,+DAAM,CAACZ,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,QAAjB,EAA2B,cAA3B,CAAJ,CAA5B;QACA3b,OAAO,CAACC,GAAR,CAAY,wCAAZ;QACA,OAAO,IAAP;MACD,CAND,CAME,OAAON,KAAP,EAAc;QACdK,OAAO,CAACqO,IAAR,CAAa,wCAAb,EAAuD1O,KAAvD,EADc,CAEd;;QACA,OAAO,KAAP;MACD;IAXqC;EAYvC,CAnFuB,CAqFxB;;;EACcmd,yBAAyB,CAAIC,SAAJ,EAAiCC,aAAjC,EAAsD;IAAA;MAC3F,MAAMC,UAAU,GAAG,CAAnB;MACA,IAAIC,SAAJ;;MAEA,KAAK,IAAIC,OAAO,GAAG,CAAnB,EAAsBA,OAAO,IAAIF,UAAjC,EAA6CE,OAAO,EAApD,EAAwD;QACtD,IAAI;UACFnd,OAAO,CAACC,GAAR,CAAY,GAAG+c,aAAa,cAAcG,OAAO,EAAjD;UACA,MAAM/N,MAAM,SAAS2N,SAAS,EAA9B;UACA/c,OAAO,CAACC,GAAR,CAAY,GAAG+c,aAAa,yBAAyBG,OAAO,EAA5D;UACA,OAAO/N,MAAP;QACD,CALD,CAKE,OAAOzP,KAAP,EAAc;UACdud,SAAS,GAAGvd,KAAZ;UACAK,OAAO,CAACqO,IAAR,CAAa,GAAG2O,aAAa,wBAAwBG,OAAO,GAA5D,EAAiExd,KAAjE,EAFc,CAId;;UACA,IAAIA,KAAK,CAACqX,IAAN,KAAe,mBAAf,IAAsCrX,KAAK,CAACqX,IAAN,KAAe,WAAzD,EAAsE;YACpE,MAAMrX,KAAN;UACD,CAPa,CASd;;;UACA,IAAIwd,OAAO,GAAGF,UAAd,EAA0B;YACxB,MAAMG,KAAK,GAAGC,IAAI,CAACC,GAAL,CAAS,OAAOD,IAAI,CAACE,GAAL,CAAS,CAAT,EAAYJ,OAAO,GAAG,CAAtB,CAAhB,EAA0C,IAA1C,CAAd;YACAnd,OAAO,CAACC,GAAR,CAAY,WAAWmd,KAAK,oBAA5B;YACA,MAAM,IAAIpN,OAAJ,CAAYC,OAAO,IAAIqB,UAAU,CAACrB,OAAD,EAAUmN,KAAV,CAAjC,CAAN;UACD;QACF;MACF;;MAED,MAAMF,SAAN;IA5B2F;EA6B5F;;EAGKjB,eAAe;IAAA;;IAAA;MACnB,IAAI;QACFjc,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyC,MAAI,CAACZ,IAAL,CAAUwF,GAAnD;QAEA,MAAM2Y,MAAM,GAAGlD,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,QAAjB,EAA2B,MAAI,CAACtc,IAAL,CAAUwF,GAArC,CAAlB,CAHE,CAKF;;QACA,MAAM4Y,UAAU,SAAS,MAAI,CAACX,yBAAL,CACvB,MAAM5B,+DAAM,CAACsC,MAAD,CADW,EAEvB,mBAFuB,CAAzB;;QAKA,IAAIC,UAAU,IAAIA,UAAU,CAACC,MAAX,EAAlB,EAAuC;UACrC,MAAI,CAACxB,OAAL,GAAeuB,UAAU,CAACnZ,IAAX,EAAf;UACAtE,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C,MAAI,CAACic,OAAjD;QACD,CAHD,MAGO;UACLlc,OAAO,CAACC,GAAR,CAAY,kDAAZ,EADK,CAEL;;UACA,MAAM0d,cAAc,GAAG;YACrBxB,QAAQ,EAAE,MAAI,CAAC9c,IAAL,CAAUwF,GADC;YAErBuX,UAAU,EAAE,MAAI,CAAC/c,IAAL,CAAUgd,WAAV,IAAyB,SAFhB;YAGrBC,WAAW,EAAE,MAAI,CAACjd,IAAL,CAAUga,WAAV,IAAyB,SAHjB;YAIrBkD,WAAW,EAAE,MAAI,CAACld,IAAL,CAAUD,KAAV,IAAmB,SAJX;YAKrBod,YAAY,EAAE,CALO;YAMrBC,SAAS,EAAE,IAAIrL,IAAJ,GAAWC,WAAX;UANU,CAAvB,CAHK,CAYL;;UACA,MAAM,MAAI,CAACyL,yBAAL,CACJ,MAAMnC,+DAAM,CAAC6C,MAAD,EAASG,cAAT,EAAyB;YAAEC,KAAK,EAAE;UAAT,CAAzB,CADR,EAEJ,wBAFI,CAAN;UAKA,MAAI,CAAC1B,OAAL,GAAeyB,cAAf;UACA3d,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwC,MAAI,CAACic,OAA7C;QACD;MACF,CAnCD,CAmCE,OAAOvc,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,2BAAd,EAA2CA,KAA3C,EADc,CAGd;;QACA,IAAIA,KAAK,CAACqX,IAAN,KAAe,aAAf,IAAgCrX,KAAK,CAACqX,IAAN,KAAe,mBAAnD,EAAwE;UACtE;UACAhX,OAAO,CAACC,GAAR,CAAY,0DAAZ;UACA,MAAI,CAACic,OAAL,GAAe;YACbC,QAAQ,EAAE,MAAI,CAAC9c,IAAL,CAAUwF,GADP;YAEbuX,UAAU,EAAE,MAAI,CAAC/c,IAAL,CAAUgd,WAAV,IAAyB,SAFxB;YAGbC,WAAW,EAAE,MAAI,CAACjd,IAAL,CAAUga,WAAV,IAAyB,SAHzB;YAIbkD,WAAW,EAAE,MAAI,CAACld,IAAL,CAAUD,KAAV,IAAmB,SAJnB;YAKbod,YAAY,EAAE,CALD;YAMbC,SAAS,EAAE,IAAIrL,IAAJ,GAAWC,WAAX,EANE;YAObqL,OAAO,EAAE;UAPI,CAAf;UASA,OAZsE,CAY9D;QACT,CAbD,MAaO,IAAI/c,KAAK,CAACqX,IAAN,KAAe,mBAAnB,EAAwC;UAC7C,MAAM,IAAItW,KAAJ,CAAU,8DAAV,CAAN;QACD,CAFM,MAEA;UACL,MAAM,IAAIA,KAAJ,CAAU,2BAA2Bf,KAAK,CAACE,OAAO,EAAlD,CAAN;QACD;MACF;IA1DkB;EA2DpB;;EAGDge,QAAQ;IACN,MAAMC,UAAU,GAAG1D,mEAAU,CAAC,KAAKuB,SAAN,EAAiB,UAAU,KAAK1Y,IAAL,CAAU0W,WAAV,CAAsB9U,GAAG,QAApD,CAA7B;IACA,OAAOwV,uEAAc,CAACyD,UAAD,CAArB;EACD;;EAKKC,WAAW,CAAClZ,GAAD,EAAY;IAAA;;IAAA;MAC3B,MAAMiZ,UAAU,GAAGxD,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,WAAW9W,GAAG,EAA/B,CAAtB;MACA,MAAMmZ,OAAO,SAAS9C,+DAAM,CAAC4C,UAAD,CAA5B;;MACA,IAAIE,OAAO,CAACN,MAAR,EAAJ,EAAsB;QACpB,OAAO,QAAP;MACD;;MACD,OAAO,IAAP;IAN2B;EAO5B;;EAEKO,iBAAiB,CAACpZ,GAAD,EAAY;IAAA;;IAAA;MACjC,IAAI;QACF7E,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+C4E,GAA/C;QACA,MAAMqZ,WAAW,GAAG5D,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,UAAU9W,GAAG,EAA9B,CAAvB;QACA,MAAMsZ,QAAQ,SAASjD,+DAAM,CAACgD,WAAD,CAA7B;;QAEA,IAAI,CAACC,QAAQ,CAACT,MAAT,EAAL,EAAwB;UACtB1d,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsD4E,GAAtD;UACA,OAAO,KAAP;QACD;;QAED,MAAMP,IAAI,GAAG6Z,QAAQ,CAAC7Z,IAAT,EAAb,CAVE,CAWF;;QACA,MAAM8Z,iBAAiB,GAAG,CAAC,EAAE9Z,IAAI,EAAE8X,UAAN,IAAoB9X,IAAI,EAAEiY,WAA5B,CAA3B;QACAvc,OAAO,CAACC,GAAR,CAAY,0CAAZ,EAAwDme,iBAAxD,EAA2E,OAA3E,EAAoF;UAClFhC,UAAU,EAAE9X,IAAI,EAAE8X,UADgE;UAElFG,WAAW,EAAEjY,IAAI,EAAEiY,WAF+D;UAGlFJ,QAAQ,EAAE7X,IAAI,EAAE6X;QAHkE,CAApF;QAMA,OAAOiC,iBAAP;MACD,CApBD,CAoBE,OAAOze,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,+BAAd,EAA+CA,KAA/C;QACA,OAAO,KAAP;MACD;IAxBgC;EAyBlC;;EAGK0e,2BAA2B,CAACC,cAAD,EAAe;IAAA;;IAAA;MAC9C;MACA,IAAI,CAACA,cAAD,IAAmB,CAACA,cAAc,CAACC,QAAnC,IAA+C,CAACD,cAAc,CAACE,MAA/D,IAAyE,CAACF,cAAc,CAACG,OAA7F,EAAsG;QACpGze,OAAO,CAACL,KAAR,CAAc,0BAAd,EAA0C2e,cAA1C;QACA,MAAM,IAAI5d,KAAJ,CAAU,yBAAV,CAAN;MACD,CAL6C,CAO9C;;;MACA,IAAI,CAAC,MAAI,CAACwb,OAAV,EAAmB;QACjB,IAAI;UACF,MAAM,MAAI,CAACD,eAAL,EAAN;;UACA,IAAI,CAAC,MAAI,CAACC,OAAV,EAAmB;YACjBlc,OAAO,CAACL,KAAR,CAAc,6BAAd;YACA,MAAM,IAAIe,KAAJ,CAAU,yBAAV,CAAN;UACD;QACF,CAND,CAME,OAAOge,YAAP,EAAqB;UACrB1e,OAAO,CAACL,KAAR,CAAc,wBAAd,EAAwC+e,YAAxC;UACA,MAAM,IAAIhe,KAAJ,CAAU,kCAAkCge,YAAY,CAAC7e,OAAO,EAAhE,CAAN;QACD;MACF;;MAED,IAAI;QACF;QACA,IAAI,CAAC,MAAI,CAACR,IAAN,IAAc,CAAC,MAAI,CAACA,IAAL,CAAUwF,GAA7B,EAAkC;UAChC,MAAM,IAAInE,KAAJ,CAAU,wBAAV,CAAN;QACD,CAJC,CAMF;;;QACA,MAAMie,YAAY,GAAGrE,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,SAAjB,EAA4B2C,cAAc,CAACC,QAA3C,CAAxB;QACA,MAAMK,aAAa,SAAS1D,+DAAM,CAACyD,YAAD,CAAlC;;QAEA,IAAI,CAACC,aAAa,CAAClB,MAAd,EAAL,EAA6B;UAC3B1d,OAAO,CAACL,KAAR,CAAc,wBAAd,EAAwC2e,cAAc,CAACC,QAAvD;UACA,MAAM,IAAI7d,KAAJ,CAAU,uBAAV,CAAN;QACD;;QAED,MAAMme,UAAU,GAAGD,aAAa,CAACta,IAAd,EAAnB,CAfE,CAiBF;;QACA,IAAI,CAACua,UAAU,CAACC,SAAhB,EAA2B;UACzBD,UAAU,CAACC,SAAX,GAAuBF,aAAa,CAAC7P,EAArC;QACD,CApBC,CAsBF;;;QACA,IAAI,CAAC8P,UAAU,CAACE,WAAhB,EAA6B;UAC3B/e,OAAO,CAACL,KAAR,CAAc,4CAAd,EAA4Dkf,UAA5D;UACA,MAAM,IAAIne,KAAJ,CAAU,qBAAV,CAAN;QACD,CA1BC,CA4BF;;;QACA,MAAMse,UAAU,GAAG1E,4DAAG,CAACF,mEAAU,CAAC,MAAI,CAACuB,SAAN,EAAiB,SAAjB,CAAX,CAAtB,CA7BE,CA+BF;;QACA,MAAMsD,GAAG,GAAG;UACVC,OAAO,EAAEZ,cAAc,CAACE,MAAf,CAAsBxW,GADrB;UAEVmX,OAAO,EAAEb,cAAc,CAACE,MAAf,CAAsBvW,GAFrB;UAGVkU,QAAQ,EAAE,MAAI,CAAC9c,IAAL,CAAUwF,GAHV;UAIVuX,UAAU,EAAE,MAAI,CAAC/c,IAAL,CAAUgd,WAAV,IAAyB,cAJ3B;UAKVC,WAAW,EAAE,MAAI,CAACjd,IAAL,CAAUga,WAAV,IAAyB,EAL5B;UAMV+F,YAAY,EAAE,MAAI,CAAC/f,IAAL,CAAUggB,QAAV,IAAsB,EAN1B;UAOV7C,YAAY,EAAE,MAAI,CAACN,OAAL,CAAaM,YAAb,IAA6B,CAPjC;UAQV8C,OAAO,EAAEhB,cAAc,CAACG,OAAf,CAAuBzW,GARtB;UASVuX,OAAO,EAAEjB,cAAc,CAACG,OAAf,CAAuBxW,GATtB;UAUVuX,cAAc,EAAElB,cAAc,CAAChX,eAAf,IAAkC,kBAVxC;UAWVmY,iBAAiB,EAAEnB,cAAc,CAACoB,kBAAf,IAAqC,qBAX9C;UAYVnD,WAAW,EAAE,MAAI,CAACld,IAAL,CAAUD,KAAV,IAAmB,EAZtB;UAaVugB,SAAS,EAAE,EAbD;UAcVC,MAAM,EAAE,KAdE;UAeVC,KAAK,EAAEvB,cAAc,CAACuB,KAAf,IAAwB,CAfrB;UAgBVC,IAAI,EAAExB,cAAc,CAACwB,IAAf,IAAuB,IAhBnB;UAiBVjX,MAAM,EAAE,SAjBE;UAkBVkX,aAAa,EAAE;YACbjB,SAAS,EAAED,UAAU,CAACC,SADT;YAEbC,WAAW,EAAEF,UAAU,CAACE,WAFX;YAGbiB,YAAY,EAAEnB,UAAU,CAACmB,YAAX,IAA2B,EAH5B;YAIbC,aAAa,EAAEpB,UAAU,CAACoB,aAAX,IAA4B,EAJ9B;YAKbC,aAAa,EAAErB,UAAU,CAACqB,aAAX,IAA4B,CAL9B;YAMbC,UAAU,EAAEtB,UAAU,CAACsB,UAAX,IAAyB,EANxB;YAObC,cAAc,EAAEvB,UAAU,CAACuB,cAAX,IAA6B,EAPhC;YAQbC,YAAY,EAAExB,UAAU,CAACwB,YAAX,IAA2B;UAR5B,CAlBL;UA4BVC,SAAS,EAAEtB,UAAU,CAACjQ,EA5BZ;UA6BVwP,QAAQ,EAAED,cAAc,CAACC,QA7Bf;UA8BV9B,SAAS,EAAEzB,wEAAe,EA9BhB;UA+BV;UACAuF,kBAAkB,EAAEjC,cAAc,CAACiC,kBAAf,IAAqC,KAhC/C;UAiCVC,YAAY,EAAElC,cAAc,CAACkC,YAAf,IAA+B,KAjCnC;UAkCVC,YAAY,EAAEnC,cAAc,CAACmC,YAAf,IAA+B,IAlCnC;UAmCVC,aAAa,EAAEpC,cAAc,CAACoC,aAAf,IAAgCpC,cAAc,CAACuB,KAA/C,IAAwD,CAnC7D;UAoCVc,eAAe,EAAErC,cAAc,CAACqC,eAAf,IAAkCrC,cAAc,CAACuB,KAAjD,IAA0D,CApCjE;UAqCVe,eAAe,EAAEtC,cAAc,CAACsC,eAAf,IAAkC;QArCzC,CAAZ;QAwCA5gB,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgD;UAC9CqgB,SAAS,EAAEtB,UAAU,CAACjQ,EADwB;UAE9CwP,QAAQ,EAAED,cAAc,CAACC,QAFqB;UAG9CsC,OAAO,EAAE,MAAI,CAACxhB,IAAL,CAAUwF,GAH2B;UAI9C0b,kBAAkB,EAAEtB,GAAG,CAACsB;QAJsB,CAAhD,EAxEE,CA+EF;;QACA,MAAMO,KAAK,GAAG1F,mEAAU,CAAC,MAAI,CAACO,SAAN,CAAxB;;QAEA,IAAI;UACF;UACAmF,KAAK,CAACC,MAAN,CAAapC,YAAb,EAA2B;YACzBqC,WAAW,EAAE,KADY;YAEzBC,gBAAgB,EAAEjC,UAAU,CAACjQ;UAFJ,CAA3B,EAFE,CAOF;;UACA+R,KAAK,CAAC/a,GAAN,CAAUiZ,UAAV,EAAsBC,GAAtB,EARE,CAUF;;UACA,MAAMiC,WAAW,GAAG9G,mEAAU,CAAC4E,UAAD,EAAa,UAAb,CAA9B;UACA,MAAMmC,cAAc,GAAG;YACrB5Q,GAAG,EAAE,wBADgB;YAErB6Q,IAAI,EAAE,QAFe;YAGrB3E,SAAS,EAAEzB,wEAAe,EAHL;YAIrBqG,KAAK,EAAE,KAJc;YAKrBC,QAAQ,EAAE;UALW,CAAvB,CAZE,CAoBF;;UACA,MAAMC,aAAa,GAAGjH,4DAAG,CAAC4G,WAAD,CAAzB;UACAJ,KAAK,CAAC/a,GAAN,CAAUwb,aAAV,EAAyBJ,cAAzB,EAtBE,CAwBF;;UACA,MAAML,KAAK,CAACU,MAAN,EAAN;UAEAxhB,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkD+e,UAAU,CAACjQ,EAA7D;UACA,OAAOiQ,UAAU,CAACjQ,EAAlB;QACD,CA7BD,CA6BE,OAAO0S,UAAP,EAAmB;UACnBzhB,OAAO,CAACL,KAAR,CAAc,4BAAd,EAA4C8hB,UAA5C,EADmB,CAEnB;;UACA,IAAI;YACF,MAAM5G,kEAAS,CAAC8D,YAAD,EAAe;cAAEqC,WAAW,EAAE,IAAf;cAAqBC,gBAAgB,EAAE;YAAvC,CAAf,CAAf;UACD,CAFD,CAEE,OAAOS,aAAP,EAAsB;YACtB1hB,OAAO,CAACL,KAAR,CAAc,mCAAd,EAAmD+hB,aAAnD;UACD;;UACD,MAAM,IAAIhhB,KAAJ,CAAU,kCAAkC+gB,UAAU,CAAC5hB,OAAO,EAA9D,CAAN;QACD;MACF,CAzHD,CAyHE,OAAOF,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,uCAAd,EAAuDA,KAAvD,EADc,CAEd;;QACA,IAAIA,KAAK,CAACE,OAAV,EAAmB;UACjB,MAAMF,KAAN,CADiB,CACJ;QACd,CAFD,MAEO;UACL,MAAM,IAAIe,KAAJ,CAAU,2BAA2Bf,KAAK,EAA1C,CAAN;QACD;MACF;IAtJ6C;EAuJ/C;;EAKKgiB,yBAAyB,CAACC,EAAD,EAAG;IAAA;;IAAA;MAChC,MAAM9D,UAAU,GAAGxD,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,SAAjB,EAA4BiG,EAA5B,CAAtB;MACA,MAAM/G,kEAAS,CAACiD,UAAD,EAAa;QAAC8B,MAAM,EAAE;MAAT,CAAb,CAAf;IAFgC;EAGjC,CAhYuB,CAkY1B;;;EACQiC,qBAAqB,CAACD,EAAD,EAAG;IAAA;;IAAA;MAC5B,MAAM7G,kEAAS,CAACT,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,SAAjB,EAA4BiG,EAA5B,CAAJ,CAAf;IAD4B;EAE7B;;EAEKE,UAAU,CAACF,EAAD,EAAG;IAAA;;IAAA;MACjB,MAAM9D,UAAU,GAAGxD,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,SAAjB,EAA4BiG,EAA5B,CAAtB;MACA,MAAM/G,kEAAS,CAACiD,UAAD,EAAa;QAACjV,MAAM,EAAE;MAAT,CAAb,CAAf;IAFiB;EAGlB,CA1YuB,CA4YxB;;;EACMkZ,mBAAmB,CAACC,MAAD,EAAO;IAAA;;IAAA;MAC9B,IAAG;QACH,MAAM/C,GAAG,GAAY;UACnBgD,OAAO,EAAED,MAAM,CAACC,OADG;UAEnBC,UAAU,EAAEF,MAAM,CAACE,UAFA;UAGnBC,UAAU,EAAEH,MAAM,CAACG,UAHA;UAInBrD,SAAS,EAAEkD,MAAM,CAAClD,SAJC;UAKnBC,WAAW,EAAEiD,MAAM,CAACjD,WALD;UAMnBoB,UAAU,EAAE6B,MAAM,CAAC7B,UANA;UAOnBF,aAAa,EAAE+B,MAAM,CAAC/B,aAPH;UAQnBC,aAAa,EAAE8B,MAAM,CAAC9B,aARH;UASnBkC,QAAQ,EAAE,CATS;UAUnB3P,QAAQ,EAAE,CAVS;UAWnB4P,KAAK,EAAEL,MAAM,CAACK,KAXK;UAYnBC,KAAK,EAAE,KAZY;UAanBC,IAAI,EAAEP,MAAM,CAACO,IAbM;UAcnBC,SAAS,EAAER,MAAM,CAACQ,SAdC;UAenB5C,MAAM,EAAEoC,MAAM,CAACpC,MAfI;UAgBnBQ,cAAc,EAAE4B,MAAM,CAAC5B,cAhBJ;UAiBnBC,YAAY,EAAE2B,MAAM,CAAC3B,YAjBF;UAkBnBoC,IAAI,EAAE,EAlBa;UAmBnBzB,WAAW,EAAEgB,MAAM,CAAChB;QAnBD,CAArB;QAqBA,MAAMnG,kEAAS,CAACP,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,SAAjB,EAA6BqG,MAAM,CAAClD,SAApC,CAAJ,EAAoD,EAAE,GAAGG;QAAL,CAApD,CAAf;MACD,CAvBC,CAuBD,OAAM/R,CAAN,EAAQ;QACP,MAAM,IAAIxM,KAAJ,CAAUwM,CAAV,CAAN;MAED;;MAEClN,OAAO,CAACC,GAAR,CAAY,MAAZ;IA7B8B;EA8B/B;;EAEKyiB,gBAAgB,CAACN,QAAD,EAAiB;IAAA;MACrC,IAAI;QACF;QACA,MAAMO,YAAY,GAAGP,QAAQ,GAAG,IAAhC,CAFE,CAIF;;QACA,MAAMQ,SAAS,GAAG,GAAlB,CALE,CAKqB;;QACvB,IAAIC,cAAc,GAAGF,YAAY,GAAGC,SAApC,CANE,CAQF;;QACA,MAAME,WAAW,GAAG,CAApB,CATE,CASqB;;QACvB,IAAID,cAAc,GAAGC,WAArB,EAAkC;UAChCD,cAAc,GAAGC,WAAjB;QACD,CAZC,CAcF;;;QACA,OAAOzF,IAAI,CAAC0F,KAAL,CAAWF,cAAc,GAAG,GAA5B,IAAmC,GAA1C;MACD,CAhBD,CAgBE,OAAOljB,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,mCAAd,EAAmDA,KAAnD;QACA,MAAMA,KAAN;MACD;IApBoC;EAqBtC,CAlcuB,CAocxB;;;EACMqjB,kBAAkB,CAACZ,QAAD,EAAmB3P,QAAnB,EAAmC;IAAA;MACzD,IAAI;QACF;QACA,IAAIwQ,iBAAiB,GAAGxQ,QAAxB,CAFE,CAIF;;QACA,IAAIA,QAAQ,GAAG,IAAf,EAAqB;UACnBwQ,iBAAiB,GAAG5F,IAAI,CAAC0F,KAAL,CAAWtQ,QAAQ,GAAG,KAAtB,CAApB,CADmB,CAC+B;QACnD,CAPC,CASF;;;QACA,MAAMmQ,SAAS,GAAG,GAAlB,CAVE,CAU2B;;QAC7B,MAAMM,aAAa,GAAG,GAAtB,CAXE,CAW2B;;QAC7B,MAAMJ,WAAW,GAAG,GAApB,CAZE,CAY2B;QAE7B;;QACA,MAAMK,cAAc,GAAGf,QAAQ,GAAGQ,SAAlC;QACA,MAAMQ,UAAU,GAAGH,iBAAiB,GAAGC,aAAvC,CAhBE,CAkBF;;QACA,IAAIG,SAAS,GAAGF,cAAc,GAAGC,UAAjC,CAnBE,CAqBF;;QACA,IAAIhB,QAAQ,GAAG,CAAX,IAAgBiB,SAAS,GAAGP,WAAhC,EAA6C;UAC3CO,SAAS,GAAGP,WAAZ;QACD,CAxBC,CA0BF;;;QACA,OAAOzF,IAAI,CAAC0F,KAAL,CAAWM,SAAS,GAAG,GAAvB,IAA8B,GAArC;MACD,CA5BD,CA4BE,OAAO1jB,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,+BAAd,EAA+CA,KAA/C;QACA,MAAMA,KAAN;MACD;IAhCwD;EAiC1D;;EAED2jB,iBAAiB,CAAC/E,QAAD,EAAiB;IAChC,OAAO,IAAIvO,OAAJ,CAAY,CAACC,OAAD,EAAUsT,MAAV,KAAoB;MACrC,MAAM5E,YAAY,GAAGrE,4DAAG,CAAC,KAAKqB,SAAN,EAAiB,SAAjB,EAA4B4C,QAA5B,CAAxB;MACAzD,mEAAU,CAAC6D,YAAD,EAAgBrE,GAAD,IAAQ;QAC/B,MAAMhW,IAAI,GAAGgW,GAAG,CAAChW,IAAJ,EAAb;;QACA,IAAIA,IAAI,IAAIA,IAAI,CAAC4d,UAAjB,EAA6B;UAC3B,MAAMsB,cAAc,GAAG;YACrBxb,GAAG,EAAE1D,IAAI,CAAC4d,UADW;YAErBja,GAAG,EAAE3D,IAAI,CAAC6d;UAFW,CAAvB;UAIAlS,OAAO,CAACuT,cAAD,CAAP;QACD,CAND,MAMO;UACLvT,OAAO,CAAC,IAAD,CAAP;QACD;MACF,CAXS,EAWNtQ,KAAD,IAAU;QACX4jB,MAAM,CAAC5jB,KAAD,CAAN;MACD,CAbS,CAAV;IAcD,CAhBM,CAAP;EAiBD;;EAEK8jB,cAAc,CAACC,KAAD,EAAoC;IAAA;;IAAA;MACtD,IAAI;QACF,MAAM5F,UAAU,GAAGxD,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,UAAU,MAAI,CAAC1Y,IAAL,CAAU0W,WAAV,CAAsB9U,GAAG,EAApD,CAAtB,CADE,CAGF;;QACA,MAAM8V,+DAAM,CAACmD,UAAD,EAAa;UACvBmE,OAAO,EAAEzG,kEAAkB,CAAC,CAACkI,KAAK,CAAC1b,GAAP,EAAY0b,KAAK,CAACzb,GAAlB,CAAD,CADJ;UAEvBiX,OAAO,EAAEwE,KAAK,CAAC1b,GAFQ;UAGvBmX,OAAO,EAAEuE,KAAK,CAACzb;QAHQ,CAAb,EAIT;UAAE2V,KAAK,EAAE;QAAT,CAJS,CAAZ,CAJE,CAQoB;QAEtB;;QACA,MAAM/C,kEAAS,CAACiD,UAAD,EAAa;UAC1BmE,OAAO,EAAEzG,kEAAkB,CAAC,CAACkI,KAAK,CAAC1b,GAAP,EAAY0b,KAAK,CAACzb,GAAlB,CAAD,CADD;UAE1BiX,OAAO,EAAEwE,KAAK,CAAC1b,GAFW;UAG1BmX,OAAO,EAAEuE,KAAK,CAACzb;QAHW,CAAb,CAAf;QAMA,OAAO,IAAP;MACD,CAlBD,CAkBE,OAAOiF,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,gCAAd,EAAgDuN,CAAhD;QACA,OAAO,KAAP;MACD;IAtBqD;EAuBvD;;EAGKyW,aAAa,CAAC3B,MAAD,EAAS1B,SAAT,EAAkB;IAAA;;IAAA;MACnC,IAAI;QACF;QACA,MAAMO,OAAO,GAAG,OAAI,CAACxhB,IAAL,EAAWwF,GAAX,IAAkB,EAAlC,CAFE,CAIF;;QACA,MAAM+e,WAAW,GAAG;UAClBrF,QAAQ,EAAEyD,MAAM,CAAClD,SAAP,IAAoB,EADZ;UAElB+B,OAAO,EAAEA,OAFS;UAGlBnR,MAAM,EAAE4Q,SAAS,IAAI,EAHH;UAIlBnP,SAAS,EAAE6J,wEAAe,EAJR;UAKlBiH,OAAO,EAAED,MAAM,CAACC,OAAP,IAAkB,EALT;UAMlBC,UAAU,EAAEF,MAAM,CAACE,UAAP,IAAqB,CANf;UAOlBC,UAAU,EAAEH,MAAM,CAACG,UAAP,IAAqB,CAPf;UAQlBjD,OAAO,EAAE8C,MAAM,CAAC9C,OAAP,IAAkB,CART;UASlBC,OAAO,EAAE6C,MAAM,CAAC7C,OAAP,IAAkB,CATT;UAUlBG,OAAO,EAAE0C,MAAM,CAAC1C,OAAP,IAAkB,CAVT;UAWlBC,OAAO,EAAEyC,MAAM,CAACzC,OAAP,IAAkB,CAXT;UAYlBC,cAAc,EAAEwC,MAAM,CAACxC,cAAP,IAAyB,EAZvB;UAalBC,iBAAiB,EAAEuC,MAAM,CAACvC,iBAAP,IAA4B,EAb7B;UAclBV,WAAW,EAAEiD,MAAM,CAACjD,WAAP,IAAsB,EAdjB;UAelBoB,UAAU,EAAE6B,MAAM,CAAC7B,UAAP,IAAqB,EAff;UAgBlBF,aAAa,EAAE+B,MAAM,CAAC/B,aAAP,IAAwB,EAhBrB;UAiBlBC,aAAa,EAAE8B,MAAM,CAAC9B,aAAP,IAAwB,CAjBrB;UAkBlBkC,QAAQ,EAAEJ,MAAM,CAACI,QAAP,IAAmB,CAlBX;UAmBlB3P,QAAQ,EAAEuP,MAAM,CAACvP,QAAP,IAAmB,CAnBX;UAoBlBkQ,YAAY,EAAEX,MAAM,CAACW,YAAP,IAAuB,CApBnB;UAqBlBN,KAAK,EAAEL,MAAM,CAACK,KAAP,IAAgB,CArBL;UAsBlBC,KAAK,EAAE,IAtBW;UAuBlBC,IAAI,EAAEP,MAAM,CAACO,IAAP,IAAe,KAvBH;UAwBlBC,SAAS,EAAER,MAAM,CAACQ,SAAP,IAAoB,KAxBb;UAyBlB5C,MAAM,EAAEoC,MAAM,CAACpC,MAAP,IAAiB,KAzBP;UA0BlBQ,cAAc,EAAE4B,MAAM,CAAC5B,cAAP,IAAyB,EA1BvB;UA2BlBC,YAAY,EAAE2B,MAAM,CAAC3B,YAAP,IAAuB,EA3BnB;UA4BlBR,KAAK,EAAEmC,MAAM,CAACnC,KAAP,IAAgB,CA5BL;UA6BlBmB,WAAW,EAAEgB,MAAM,CAAChB,WAAP,IAAsB;QA7BjB,CAApB,CALE,CAqCF;;QACAxH,MAAM,CAACnG,IAAP,CAAYuQ,WAAZ,EAAyB9a,OAAzB,CAAiClD,GAAG,IAAG;UACrC,IAAIge,WAAW,CAAChe,GAAD,CAAX,KAAqBie,SAAzB,EAAoC;YAClCD,WAAW,CAAChe,GAAD,CAAX,GAAmB,IAAnB,CADkC,CACT;UAC1B;QACF,CAJD;QAMA5F,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgD2jB,WAAhD;QAEA,MAAME,UAAU,GAAGxJ,4DAAG,CAACF,mEAAU,CAAC,OAAI,CAACuB,SAAN,EAAiB,aAAjB,CAAX,CAAtB;QACA,MAAMhB,+DAAM,CAACmJ,UAAD,EAAaF,WAAb,CAAZ;QAEA5jB,OAAO,CAACC,GAAR,CAAY,kDAAZ,EAAgE2jB,WAAW,CAACxB,QAA5E;QACA,OAAO,IAAP;MACD,CAnDD,CAmDE,OAAOziB,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,8BAAd,EAA8CA,KAA9C;QACA,MAAMA,KAAN;MACD;IAvDkC;EAwDpC;;EAGKokB,eAAe,CAACtB,IAAD,EAAO1T,EAAP,EAAS;IAAA;;IAAA;MAC5B,IAAI;QACF,MAAM+O,UAAU,GAAGxD,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,SAAjB,EAA6B5M,EAA7B,CAAtB;QACA,MAAM8L,kEAAS,CAACiD,UAAD,EAAa;UAC1B6B,SAAS,EAAE8C;QADe,CAAb,CAAf;QAGA,OAAO,IAAP;MACD,CAND,CAME,OAAOvV,CAAP,EAAU;QACX;QACClN,OAAO,CAACC,GAAR,CAAYiN,CAAZ;QACA,OAAO,IAAP;MACD;IAX2B;EAY7B;;EAGK8W,aAAa,CAACjc,KAAD,EAAW;IAAA;;IAAA;MAC5B/H,OAAO,CAACC,GAAR,CAAY,OAAI,CAACgD,IAAL,CAAU0W,WAAV,CAAsB9U,GAAlC;MACA7E,OAAO,CAACC,GAAR,CAAY8H,KAAK,CAACmB,IAAlB;;MACA,IAAI;QACF,MAAM4U,UAAU,GAAGxD,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,QAAjB,EAA2B,GAAG,OAAI,CAAC1Y,IAAL,CAAU0W,WAAV,CAAsB9U,GAAG,gBAAgBkD,KAAK,CAACmB,IAAI,EAAjF,CAAtB;QACA,MAAMyR,+DAAM,CAACmD,UAAD,EAAa;UAAE/V;QAAF,CAAb,CAAZ;QACA,OAAO,IAAP;MACD,CAJD,CAIE,OAAOmF,CAAP,EAAU;QACVlN,OAAO,CAACC,GAAR,CAAYiN,CAAZ;QACA,OAAO,IAAP;MACD;IAV2B;EAW7B;;EAGD+W,iBAAiB,CAACC,IAAD,EAAeC,IAAf,EAA6BC,IAA7B,EAA2CC,IAA3C,EAAuD;IACtE,MAAMC,CAAC,GAAG,IAAV,CADsE,CACtD;;IAChB,MAAMC,IAAI,GAAG,CAACH,IAAI,GAAGF,IAAR,IAAgB7G,IAAI,CAACmH,EAArB,GAA0B,GAAvC;IACA,MAAMC,IAAI,GAAG,CAACJ,IAAI,GAAGF,IAAR,IAAgB9G,IAAI,CAACmH,EAArB,GAA0B,GAAvC;IACA,MAAME,CAAC,GACL,MAAMrH,IAAI,CAACsH,GAAL,CAASJ,IAAT,IAAiB,CAAvB,GACAlH,IAAI,CAACsH,GAAL,CAAST,IAAI,GAAG7G,IAAI,CAACmH,EAAZ,GAAiB,GAA1B,IAAiCnH,IAAI,CAACsH,GAAL,CAASP,IAAI,GAAG/G,IAAI,CAACmH,EAAZ,GAAiB,GAA1B,CAAjC,IACC,IAAInH,IAAI,CAACsH,GAAL,CAASF,IAAT,CADL,IACuB,CAHzB;IAIA,OAAOH,CAAC,GAAG,CAAJ,GAAQjH,IAAI,CAACuH,IAAL,CAAUvH,IAAI,CAACwH,IAAL,CAAUH,CAAV,CAAV,CAAf;EACD;;EAEKI,kBAAkB,CAACC,MAAD,EAA2BC,SAA3B,EAA4C;IAAA;;IAAA;MAClE,IAAI;QACFhlB,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB8kB,MAAvB;QACA/kB,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC+kB,SAAjC;QAEA,MAAMC,MAAM,GAAGxJ,kEAAkB,CAACsJ,MAAD,EAASC,SAAT,CAAjC;QACA,MAAME,QAAQ,GAAyBD,MAAM,CAACE,GAAP,CAAW,CAACC,CAAD,EAAIC,KAAJ,KAAa;UAC7D,MAAMC,CAAC,GAAG/d,8DAAK,CAAC,OAAI,CAACwU,gBAAN,EAAwBrB,gEAAO,CAAC,SAAD,CAA/B,EAA4CE,gEAAO,CAACwK,CAAC,CAAC,CAAD,CAAF,CAAnD,EAA2D5K,8DAAK,CAAC4K,CAAC,CAAC,CAAD,CAAF,CAAhE,CAAf;UACA,OAAO,IAAIpV,OAAJ,CAAuB,CAACC,OAAD,EAAUsT,MAAV,KAAoB;YAChD,MAAMgC,WAAW,GAAGzK,mEAAU,CAACwK,CAAD,EAAKE,QAAD,IAAa;cAC7C,MAAMC,OAAO,GAAGD,QAAQ,CAACE,IAAT,CAAcP,GAAd,CAAmB7K,GAAD,IAAQ;gBACxC,MAAMhW,IAAI,GAAGgW,GAAG,CAAChW,IAAJ,EAAb,CADwC,CAExC;;gBACA,IAAI,CAACA,IAAI,CAACwa,SAAV,EAAqB;kBACnBxa,IAAI,CAACwa,SAAL,GAAiBxE,GAAG,CAACvL,EAArB;gBACD;;gBACD/O,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CqE,IAA1C;gBACA,OAAOA,IAAP;cACD,CARe,CAAhB;cASAtE,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCmlB,CAAxC,EAA2CK,OAA3C;cACAxV,OAAO,CAACwV,OAAD,CAAP;cACAF,WAAW,GAZkC,CAY9B;;cACf,OAAO,OAAI,CAACI,eAAL,CAAqBN,KAArB,CAAP;YACD,CAd6B,EAc1B1lB,KAAD,IAAU;cACXK,OAAO,CAACL,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;cACA4jB,MAAM,CAAC5jB,KAAD,CAAN;cACA4lB,WAAW,GAHA,CAGI;;cACf,OAAO,OAAI,CAACI,eAAL,CAAqBN,KAArB,CAAP;YACD,CAnB6B,CAA9B,CADgD,CAsBhD;;YACA,OAAI,CAACM,eAAL,CAAqBN,KAArB,IAA8BE,WAA9B;UACD,CAxBM,CAAP;QAyBD,CA3BsC,CAAvC;QA4BA,MAAMtb,OAAO,SAAS+F,OAAO,CAAC4V,GAAR,CAAYV,QAAZ,CAAtB;QACA,MAAMW,UAAU,GAAG5b,OAAO,CAACqJ,MAAR,CAAe,CAACC,GAAD,EAAMuS,IAAN,KAAevS,GAAG,CAACwS,MAAJ,CAAWD,IAAX,CAA9B,EAAgD,EAAhD,CAAnB;QACA9lB,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyC4lB,UAAzC;QAEA,MAAMG,eAAe,GAAGH,UAAU,CAACI,MAAX,CAAmBC,MAAD,IAAW;UACnD,IAAI,CAACA,MAAD,IAAW,CAACA,MAAM,CAAChE,UAAnB,IAAiC,CAACgE,MAAM,CAAC/D,UAA7C,EAAyD;YACvDniB,OAAO,CAACL,KAAR,CAAc,UAAUumB,MAAM,EAAEpH,SAAR,IAAqB,SAAS,2BAAtD,EAAmFoH,MAAnF;YACA,OAAO,KAAP;UACD;;UAED,MAAMvD,YAAY,GAAG,OAAI,CAACsB,iBAAL,CAAuBc,MAAM,CAAC,CAAD,CAA7B,EAAkCA,MAAM,CAAC,CAAD,CAAxC,EAA6CmB,MAAM,CAAChE,UAApD,EAAgEgE,MAAM,CAAC/D,UAAvE,CAArB;;UACA,MAAMgE,WAAW,GAAGxD,YAAY,GAAG,IAAnC;UACA3iB,OAAO,CAACC,GAAR,CAAY,UAAUimB,MAAM,CAACpH,SAAS,YAAtC,EAAoDqH,WAApD;;UAEA,IAAIA,WAAW,IAAInB,SAAnB,EAA8B;YAC5BkB,MAAM,CAACzT,QAAP,GAAkB0T,WAAW,IAAI,KAAK,GAAT,CAA7B,CAD4B,CACgB;;YAC5C,OAAO,IAAP;UACD,CAHD,MAGO;YACL,OAAO,KAAP;UACD;QACF,CAhBuB,CAAxB;QAkBAnmB,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+C+lB,eAA/C;QACA,OAAOA,eAAP;MACD,CAzDD,CAyDE,OAAO9Y,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,8BAAd,EAA8CuN,CAA9C;QACA,MAAM,IAAIxM,KAAJ,CAAUwM,CAAV,CAAN;MACD;IA7DiE;EA8DnE;;EAMAkZ,YAAY,CAACC,GAAD,EAAI;IAEhB,IAAIC,OAAO,GAAGjJ,IAAI,CAACkJ,KAAL,CAAWF,GAAG,GAAG,EAAjB,CAAd;IACA,OAAOC,OAAP;EACA;;EAEEE,SAAS;IACR,OAAOnM,uEAAc,CAAC,KAAK0B,gBAAN,EAAwB;MAC3C0K,OAAO,EAAE;IADkC,CAAxB,CAArB;EAGA;;EAGF1F,MAAM,CAAC2F,OAAD,EAAiB;IACrB,MAAMC,wBAAwB,GAAGrM,4DAAG,CAClC,KAAKqB,SAD6B,EAElC,WAAW+K,OAAO,CAAC5H,SAAS,EAFM,CAApC;IAIA,OAAOjE,kEAAS,CAAC8L,wBAAD,EAA2B,EAAE,GAAGD;IAAL,CAA3B,CAAhB;EACD;;EAGKE,WAAW,CAACC,UAAD,EAAoBhiB,GAApB,EAA+B;IAAA;;IAAA;MAC9C,MAAMiiB,UAAU,GAAGxL,0DAAG,CAAC,OAAI,CAACM,OAAN,EAAe,WAAW/W,GAAG,EAA7B,CAAtB;;MACA,IAAI;QACF;QACA,MAAM0W,mEAAY,CAACuL,UAAD,EAAaD,UAAU,CAACE,YAAxB,EAAsC,QAAtC,CAAlB,CAFE,CAGF;;QACA,MAAMC,QAAQ,SAAS3L,qEAAc,CAACyL,UAAD,CAArC,CAJE,CAKF;;QACA,MAAMhJ,UAAU,GAAGxD,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,UAAU9W,GAAG,EAA9B,CAAtB,CANE,CAQF;;QACA,MAAMoiB,WAAW,SAAS/L,+DAAM,CAAC4C,UAAD,CAAhC;;QACA,IAAImJ,WAAW,CAACvJ,MAAZ,EAAJ,EAA0B;UACxB;UACA,MAAM7C,kEAAS,CAACiD,UAAD,EAAa;YAAEuB,QAAQ,EAAE2H;UAAZ,CAAb,CAAf;QACD,CAHD,MAGO;UACL;UACA,MAAMrM,+DAAM,CAACmD,UAAD,EAAa;YAAEuB,QAAQ,EAAE2H;UAAZ,CAAb,EAAqC;YAAEpJ,KAAK,EAAE;UAAT,CAArC,CAAZ;QACD;;QACD,OAAOoJ,QAAP;MACD,CAlBD,CAkBE,OAAO9Z,CAAP,EAAU;QACVlN,OAAO,CAACL,KAAR,CAAc,wBAAd,EAAwCuN,CAAxC;QACA,OAAO,IAAP;MACD;IAvB6C;EAwB/C;;EAIGga,UAAU,CAAC1T,IAAD,EAAOpU,KAAP,EAAc+nB,GAAd,EAAmBnR,KAAnB,EAA0BnR,GAA1B,EAA6B;IAAA;;IAAA;MAC3C,IAAI;QACF,MAAMoa,GAAG,GAAU;UACjBC,OAAO,EAAE,CADQ;UAEjBC,OAAO,EAAE,CAFQ;UAGjBhD,QAAQ,EAAEtX,GAHO;UAIjBuX,UAAU,EAAE5I,IAJK;UAKjB8I,WAAW,EAAEtG,KALI;UAMjBoJ,YAAY,EAAE+H,GANG;UAOjB3K,YAAY,EAAE,CAPG;UAQjB8C,OAAO,EAAE,CARQ;UASjBC,OAAO,EAAE,CATQ;UAUjBC,cAAc,EAAE,EAVC;UAWjBC,iBAAiB,EAAE,EAXF;UAYjBlD,WAAW,EAAEnd,KAZI;UAajBugB,SAAS,EAAE,CAbM;UAcjBC,MAAM,EAAE,KAdS;UAejBC,KAAK,EAAE,CAfU;UAgBjBC,IAAI,EAAE;QAhBW,CAAnB;QAkBA,MAAMnF,+DAAM,CAACL,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,QAAjB,EAA4B9W,GAA5B,CAAJ,EAAsC,EAAE,GAAGoa;QAAL,CAAtC,CAAZ;QACA,OAAO,IAAP;MACD,CArBD,CAqBE,OAAO/R,CAAP,EAAU;QACV,OAAO,IAAP;MACD;IAxB0C;EAyB5C;;EAGAka,UAAU;IACT;IACA,MAAMhc,MAAM,GAAE,KAAKnI,IAAL,CAAU0W,WAAV,EAAuB9U,GAArC;;IACA,IAAGuG,MAAH,EAAU;MACR,MAAMmW,aAAa,GAAGnH,mEAAU,CAAC,KAAKuB,SAAN,EAAiB,YAAYvQ,MAAM,WAAnC,CAAhC;MACA,MAAMic,cAAc,GAAG9f,8DAAK,CAACga,aAAD,EAAgB7G,gEAAO,CAAC,WAAD,EAAc,KAAd,CAAvB,CAA5B;MACA,OAAOL,uEAAc,CAACgN,cAAD,EAAgB;QAACZ,OAAO,EAAE;MAAV,CAAhB,CAArB;IAED,CALD,MAKK;MACH,OAAO,IAAP;IACD,CAVQ,CAYT;;EACD;;EAEDvb,cAAc,CAACoV,SAAD,EAAkB;IAC9B,MAAMY,WAAW,GAAG9G,mEAAU,CAAC,KAAKuB,SAAN,EAAiB,WAAW2E,SAAS,WAArC,CAA9B;IACA,OAAOjG,uEAAc,CAAC6G,WAAD,CAArB;EACD;;EAEKxV,qBAAqB,CAAC6E,GAAD,EAAc+P,SAAd,EAA+B;IAAA;;IAAA;MACxD,MAAMY,WAAW,GAAG9G,mEAAU,CAAC,OAAI,CAACuB,SAAN,EAAiB,WAAW2E,SAAS,WAArC,CAA9B;MACA,OAAOrF,+DAAM,CAACiG,WAAD,EAAc;QACzB3Q,GAAG,EAAEA,GADoB;QAEzB6Q,IAAI,EAAE,OAAI,CAAC/hB,IAAL,CAAUwF,GAFS;QAGzB4X,SAAS,EAAEzB,wEAAe,EAHD;QAIzBqG,KAAK,EAAE,IAJkB;QAKzBC,QAAQ,EAAE,OAAI,CAACjiB,IAAL,CAAUgd;MALK,CAAd,CAAb;IAFwD;EASzD;;EAGKzQ,oBAAoB,CAAC0U,SAAD,EAAkB;IAAA;;IAAA;MAC1C,aAAazF,kEAAS,CAACP,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,WAAW2E,SAAS,EAArC,CAAJ,EACtB;QACE9M,IAAI,EAAE,OAAI,CAACnU,IAAL,CAAUgd,WADlB;QAEEtN,EAAE,EAAE,OAAI,CAAC1P,IAAL,CAAUwF,GAFhB;QAGEmR,KAAK,EAAE,OAAI,CAAC3W,IAAL,CAAUga,WAHnB;QAIEja,KAAK,EAAE,OAAI,CAACC,IAAL,CAAUD,KAJnB;QAKEkoB,GAAG,EAAE;MALP,CADsB,CAAtB;IAD0C;EAS3C;;EAGDC,cAAc;IACZ,MAAMzJ,UAAU,GAAG1D,mEAAU,CAAC,KAAKuB,SAAN,EAAiB,UAAU,KAAK1Y,IAAL,CAAU0W,WAAV,CAAsB9U,GAAG,cAApD,CAA7B;IACA,OAAOwV,uEAAc,CAACyD,UAAD,CAArB;EACD;;EAED0J,WAAW;IACT,MAAM1J,UAAU,GAAG1D,mEAAU,CAAC,KAAKuB,SAAN,EAAiB,OAAjB,CAA7B;IAEA,OAAOtB,uEAAc,CAACyD,UAAD,CAArB;EACD;;EAGD2J,UAAU;IACR,MAAM3J,UAAU,GAAG1D,mEAAU,CAAC,KAAKuB,SAAN,EAAiB,SAAjB,CAA7B;IACA,OAAOtB,uEAAc,CAACyD,UAAD,CAArB;EACD;;EAEG4J,cAAc,CAACnX,GAAD,EAAI;IAAA;;IAAA;MACtB,IAAI;QACF,MAAMnF,MAAM,GAAG,OAAI,CAACnI,IAAL,CAAU0W,WAAV,EAAuB9U,GAAtC;QACA,MAAM8iB,QAAQ,GAAG,OAAI,CAAC1kB,IAAL,CAAU0W,WAAV,EAAuB0C,WAAvB,IAAsC,WAAvD;;QAEA,IAAI,CAACjR,MAAL,EAAa;UACX,MAAM,IAAI1K,KAAJ,CAAU,4BAAV,CAAN;QACD;;QAED,aAAaua,+DAAM,CAACb,mEAAU,CAAC,OAAI,CAACuB,SAAN,EAAiB,YAAYvQ,MAAM,WAAnC,CAAX,EAA4D;UAC7EmF,GAAG,EAAEA,GADwE;UAE7E6Q,IAAI,EAAEhW,MAFuE;UAG7EqR,SAAS,EAAEzB,wEAAe,EAHmD;UAI7EqG,KAAK,EAAE,IAJsE;UAK7EC,QAAQ,EAAEqG;QALmE,CAA5D,CAAnB;MAOD,CAfD,CAeE,OAAOhoB,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,4BAAd,EAA4CA,KAA5C;QACA,MAAMA,KAAN;MACD;IAnBqB;EAoBvB;;EAEKioB,iBAAiB;IAAA;;IAAA;MACrB,MAAMvoB,IAAI,GAAG,OAAI,CAAC4D,IAAL,CAAU0W,WAAvB;;MACA,IAAI,CAACta,IAAL,EAAW;QACT,MAAM,IAAIqB,KAAJ,CAAU,4BAAV,CAAN;MACD;;MAED,aAAaia,+DAAM,CAACL,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,YAAYtc,IAAI,CAACwF,GAAG,EAArC,CAAJ,EAA8C;QAC/D2O,IAAI,EAAEnU,IAAI,CAACgd,WAAL,IAAoB,WADqC;QAE/DtN,EAAE,EAAE1P,IAAI,CAACwF,GAFsD;QAG/DmR,KAAK,EAAE3W,IAAI,CAACga,WAAL,IAAoB,EAHoC;QAI/Dja,KAAK,EAAEC,IAAI,CAACD,KAAL,IAAc,EAJ0C;QAK/DkoB,GAAG,EAAE;MAL0D,CAA9C,CAAnB;IANqB;EAatB;;EAEKO,uBAAuB,CAACjG,EAAD,EAAG;IAAA;;IAAA;MAC9B,IAAI;QACF,MAAM9D,UAAU,GAAGxD,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,SAAjB,EAA4BiG,EAA5B,CAAtB;QACA,MAAM/G,kEAAS,CAACiD,UAAD,EAAa;UAC1BkD,WAAW,EAAE;QADa,CAAb,CAAf;QAGA,OAAO,IAAP;MACD,CAND,CAME,OAAO9T,CAAP,EAAU;QACV;QACAlN,OAAO,CAACC,GAAR,CAAYiN,CAAZ;QACA,OAAO,IAAP;MACD;IAX6B;EAY/B;;EAEKzL,qBAAqB,CAACrC,KAAD,EAAgBkC,KAAhB,EAA6B;IAAA;;IAAA;MACtDtB,OAAO,CAACC,GAAR,CAAY,0CAAZ,EAAwDb,KAAxD,EAA+D,YAA/D,EAA6EkC,KAA7E;MAEA,MAAMwmB,kBAAkB,GAAG1N,mEAAU,CAAC,OAAI,CAACuB,SAAN,EAAiB,UAAU,OAAI,CAACtc,IAAL,CAAUwF,GAAG,QAAxC,CAArC;MACA7E,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC6nB,kBAAnC;MAEA,MAAMC,SAAS,GAAGxgB,8DAAK,CAACugB,kBAAD,EAAqB3M,8DAAK,CAAC,OAAD,EAAU,IAAV,EAAgB7Z,KAAhB,CAA1B,CAAvB;MACA,MAAM0mB,QAAQ,SAASvN,gEAAO,CAACsN,SAAD,CAA9B;MAEA/nB,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+C+nB,QAAQ,CAAC/O,IAAxD;MACA+O,QAAQ,CAAClf,OAAT,CAAiBwR,GAAG,IAAG;QACrBta,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2Bqa,GAAG,CAAChW,IAAJ,EAA3B;MACD,CAFD;MAIA,OAAO,CAAC0jB,QAAQ,CAACC,KAAjB;IAdsD;EAevD;;EAIKvmB,QAAQ,CAACL,WAAD,EAAuF;IAAA;;IAAA;MACnGrB,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCoB,WAAzC;MAEA,MAAMymB,kBAAkB,GAAG1N,mEAAU,CAAC,OAAI,CAACuB,SAAN,EAAiB,UAAU,OAAI,CAACtc,IAAL,CAAUwF,GAAG,QAAxC,CAArC;MACA,MAAMqjB,UAAU,GAAG5N,4DAAG,CAACwN,kBAAD,EAAqBzmB,WAAW,CAACvD,MAAjC,CAAtB;MAEA,MAAM6c,+DAAM,CAACuN,UAAD,EAAa7mB,WAAb,CAAZ;MACArB,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCoB,WAAxC;IAPmG;EAQpG;;EAGK8mB,2BAA2B,CAACpqB,QAAD,EAAiB;IAAA;;IAAA;MAChD,MAAMqqB,qBAAqB,GAAGhO,mEAAU,CAAC,OAAI,CAACuB,SAAN,EAAiB,mBAAjB,CAAxC;MACA,MAAM0M,aAAa,GAAG9gB,8DAAK,CAAC6gB,qBAAD,EAAwBjN,8DAAK,CAAC,UAAD,EAAa,IAAb,EAAmBpd,QAAnB,CAA7B,CAA3B;MACA,MAAMuqB,YAAY,SAAS7N,gEAAO,CAAC4N,aAAD,CAAlC;MAEA,OAAO,CAACC,YAAY,CAACL,KAArB;IALgD;EAMjD;;EAEKM,oBAAoB,CAACxqB,QAAD,EAAiB;IAAA;;IAAA;MACzC,MAAMyqB,cAAc,GAAGlO,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,qBAAqB5d,QAAQ,EAA9C,CAA1B;MACA,MAAM4c,+DAAM,CAAC6N,cAAD,EAAiB;QAAEzqB;MAAF,CAAjB,CAAZ;IAFyC;EAG1C;;EAEK0qB,2BAA2B,CAACC,aAAD,EAAmB;IAAA;;IAAA;MAClD,MAAMC,aAAa,GAAGrO,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,UAAU,OAAI,CAACtc,IAAL,CAAUwF,GAAG,uBAAxC,CAAzB;MACA,MAAM8V,+DAAM,CAACgO,aAAD,EAAgB;QAC1BD,aAAa,EAAEA,aADW;QAE1BE,WAAW,EAAE,IAAIxX,IAAJ;MAFa,CAAhB,CAAZ;IAFkD;EAMnD;;EAGKyX,sBAAsB;IAAA;;IAAA;MAC1B,MAAMC,iBAAiB,GAAG1O,mEAAU,CAAC,OAAI,CAACuB,SAAN,EAAiB,UAAU,OAAI,CAACtc,IAAL,CAAUwF,GAAG,QAAxC,CAApC;MACA,MAAM2gB,QAAQ,SAAS/K,gEAAO,CAACqO,iBAAD,CAA9B;MACA,MAAMC,OAAO,GAAWvD,QAAQ,CAACE,IAAT,CAAcP,GAAd,CAAkB7K,GAAG,KAAK;QAChDvL,EAAE,EAAEuL,GAAG,CAACvL,EADwC;QAEhD,GAAGuL,GAAG,CAAChW,IAAJ;MAF6C,CAAL,CAArB,CAAxB;MAIA,OAAOykB,OAAP;IAP0B;EAQ3B;;EAEKC,wBAAwB,CAACC,QAAD,EAAiB;IAAA;;IAAA;MAC7C,MAAMC,mBAAmB,GAAG5O,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,UAAU,OAAI,CAACtc,IAAL,CAAUwF,GAAG,UAAUokB,QAAQ,EAA1D,CAA/B;MACA,MAAMlO,kEAAS,CAACmO,mBAAD,CAAf;IAF6C;EAG9C;;EAEKC,aAAa,CAAC/pB,KAAD,EAAgBtB,MAAhB,EAA8B;IAAA;;IAAA;MAC/C,MAAMggB,UAAU,GAAGxD,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,UAAUvc,KAAK,EAAhC,CAAtB;MACA,MAAMub,+DAAM,CAACmD,UAAD,EAAa;QAAEsL,YAAY,EAAEtrB;MAAhB,CAAb,EAAuC;QAAE8f,KAAK,EAAE;MAAT,CAAvC,CAAZ;IAF+C;EAGhD;;EAEDyL,aAAa,CAACjqB,KAAD,EAAc;IACzB,MAAM0e,UAAU,GAAGxD,4DAAG,CAAC,KAAKqB,SAAN,EAAiB,UAAUvc,KAAK,EAAhC,CAAtB;IACA,OAAOmb,gEAAO,CAACuD,UAAD,CAAd;EACD,CAt8ByB,CAw8B1B;;;EACMwL,aAAa,CAAClqB,KAAD,EAAgBtB,MAAhB,EAAgCwD,KAAhC,EAA6C;IAAA;;IAAA;MAC9D,MAAMwc,UAAU,GAAGxD,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,UAAUvc,KAAK,EAAhC,CAAtB;MACA,MAAM4e,OAAO,SAAS9C,+DAAM,CAAC4C,UAAD,CAA5B;MACA,MAAMyL,QAAQ,GAAGvL,OAAO,CAAC1Z,IAAR,EAAjB;MAEA,IAAIklB,KAAK,GAAGD,QAAQ,EAAEC,KAAV,IAAmB,EAA/B;MACAA,KAAK,CAACxgB,IAAN,CAAW;QAAElL,MAAF;QAAUwD;MAAV,CAAX;MAEA,MAAMqZ,+DAAM,CAACmD,UAAD,EAAa;QAAE0L;MAAF,CAAb,EAAwB;QAAE5L,KAAK,EAAE;MAAT,CAAxB,CAAZ;IAR8D;EAS/D;;EAEK6L,YAAY,CAACC,UAAD,EAMjB;IAAA;;IAAA;MACC,IAAI;QACF,MAAMC,SAAS,GAAGrP,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,WAAW+N,UAAU,CAACpJ,SAAS,EAAhD,CAArB;QACA,MAAM3F,+DAAM,CAACgP,SAAD,EAAYD,UAAZ,CAAZ;QACA1pB,OAAO,CAACC,GAAR,CAAY,+BAAZ;MACD,CAJD,CAIE,OAAON,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;QACA,MAAMA,KAAN;MACD;IARF;EASA;;EAEKiqB,cAAc;IAAA;;IAAA;MAClB,MAAMvqB,IAAI,GAAG,OAAI,CAAC4D,IAAL,CAAU0W,WAAvB;MACA,IAAI,CAACta,IAAL,EAAW,MAAM,IAAIqB,KAAJ,CAAU,uBAAV,CAAN;;MAEX,IAAI;QACF,MAAMod,UAAU,GAAGxD,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,QAAjB,EAA2Btc,IAAI,CAACwF,GAAhC,CAAtB;QACA,MAAMmZ,OAAO,SAAS9C,+DAAM,CAAC4C,UAAD,CAA5B;;QAEA,IAAIE,OAAO,CAACN,MAAR,EAAJ,EAAsB;UACpB,OAAOM,OAAO,CAAC1Z,IAAR,EAAP;QACD,CAFD,MAEO;UACL;UACA,MAAMqZ,cAAc,GAAG;YACrBxB,QAAQ,EAAE9c,IAAI,CAACwF,GADM;YAErBuX,UAAU,EAAE/c,IAAI,CAACgd,WAAL,IAAoB,SAFX;YAGrBC,WAAW,EAAEjd,IAAI,CAACga,WAAL,IAAoB,EAHZ;YAIrBkD,WAAW,EAAEld,IAAI,CAACD,KAAL,IAAc,EAJN;YAKrBggB,YAAY,EAAE/f,IAAI,CAACggB,QAAL,IAAiB,EALV;YAMrB7C,YAAY,EAAE,CANO;YAOrB0C,OAAO,EAAE,CAPY;YAQrBC,OAAO,EAAE,CARY;YASrBG,OAAO,EAAE,CATY;YAUrBC,OAAO,EAAE,CAVY;YAWrBC,cAAc,EAAE,EAXK;YAYrBC,iBAAiB,EAAE,EAZE;YAarBE,SAAS,EAAE,CAbU;YAcrBC,MAAM,EAAE,KAda;YAerBC,KAAK,EAAE,CAfc;YAgBrBC,IAAI,EAAE,IAhBe;YAiBrBrD,SAAS,EAAE,IAAIrL,IAAJ,GAAWC,WAAX;UAjBU,CAAvB;UAoBA,MAAMsJ,+DAAM,CAACmD,UAAD,EAAaH,cAAb,CAAZ;UACA,OAAOA,cAAP;QACD;MACF,CA/BD,CA+BE,OAAOhe,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;QACA,MAAM,IAAIe,KAAJ,CAAU,+BAA+Bf,KAAK,CAACE,OAAO,EAAtD,CAAN;MACD;IAtCiB;EAuCnB;;EAEKgqB,iBAAiB,CAACC,WAAD,EAAiB;IAAA;;IAAA;MACtC,MAAMzqB,IAAI,GAAG,OAAI,CAAC4D,IAAL,CAAU0W,WAAvB;MACA,IAAI,CAACta,IAAL,EAAW,MAAM,IAAIqB,KAAJ,CAAU,uBAAV,CAAN;MAEX,MAAMod,UAAU,GAAGxD,4DAAG,CAAC,OAAI,CAACqB,SAAN,EAAiB,QAAjB,EAA2Btc,IAAI,CAACwF,GAAhC,CAAtB;MACA,MAAM8V,+DAAM,CAACmD,UAAD,EAAagM,WAAb,EAA0B;QAAElM,KAAK,EAAE;MAAT,CAA1B,CAAZ;MACA,OAAOkM,WAAP;IANsC;EAOvC,CArhCyB,CAuhC1B;;;EACMC,eAAe,CAACC,QAAD,EAAc;IAAA;;IAAA;MACjC,IAAI;QACF,MAAM5e,MAAM,GAAG,OAAI,CAACnI,IAAL,CAAU0W,WAAV,EAAuB9U,GAAtC;QACA,IAAI,CAACuG,MAAL,EAAa,MAAM,IAAI1K,KAAJ,CAAU,kBAAV,CAAN,CAFX,CAIF;;QACA,MAAMkjB,WAAW,GAAG;UAClBqG,MAAM,EAAED,QAAQ,CAACC,MAAT,IAAmB,EADT;UAElBpJ,OAAO,EAAEzV,MAFS;UAGlBmT,QAAQ,EAAEyL,QAAQ,CAACzL,QAAT,IAAqB,EAHb;UAIlB2L,UAAU,EAAEF,QAAQ,CAACE,UAAT,IAAuBF,QAAQ,CAACjL,WAAhC,IAA+C,gBAJzC;UAKlBoL,WAAW,EAAEH,QAAQ,CAACG,WAAT,IAAwBH,QAAQ,CAAC/J,aAAjC,IAAkD,EAL7C;UAMlBmK,SAAS,EAAEJ,QAAQ,CAACI,SAAT,IAAsBJ,QAAQ,CAAC7J,UAA/B,IAA6C,EANtC;UAOlBkK,WAAW,EAAEL,QAAQ,CAACK,WAAT,IAAwBL,QAAQ,CAAC3J,YAAjC,IAAiD,EAP5C;UAQlBiK,YAAY,EAAEN,QAAQ,CAACM,YAAT,IAAyBN,QAAQ,CAAC9J,aAAlC,IAAmD,CAR/C;UASlBqK,MAAM,EAAEP,QAAQ,CAACO,MAAT,IAAmBP,QAAQ,CAACxK,cAA5B,IAA8C,gBATpC;UAUlBgL,WAAW,EAAER,QAAQ,CAACQ,WAAT,IAAwBR,QAAQ,CAACvK,iBAAjC,IAAsD,qBAVjD;UAWlBP,OAAO,EAAE8K,QAAQ,CAAC9K,OAAT,IAAoB,CAXX;UAYlBC,OAAO,EAAE6K,QAAQ,CAAC7K,OAAT,IAAoB,CAZX;UAalBG,OAAO,EAAE0K,QAAQ,CAAC1K,OAAT,IAAoB,CAbX;UAclBC,OAAO,EAAEyK,QAAQ,CAACzK,OAAT,IAAoB,CAdX;UAelBC,cAAc,EAAEwK,QAAQ,CAACxK,cAAT,IAA2BwK,QAAQ,CAACO,MAApC,IAA8C,gBAf5C;UAgBlB9K,iBAAiB,EAAEuK,QAAQ,CAACvK,iBAAT,IAA8BuK,QAAQ,CAACQ,WAAvC,IAAsD,qBAhBvD;UAiBlBzL,WAAW,EAAEiL,QAAQ,CAACjL,WAAT,IAAwBiL,QAAQ,CAACE,UAAjC,IAA+C,gBAjB1C;UAkBlB/J,UAAU,EAAE6J,QAAQ,CAAC7J,UAAT,IAAuB6J,QAAQ,CAACI,SAAhC,IAA6C,EAlBvC;UAmBlBnK,aAAa,EAAE+J,QAAQ,CAAC/J,aAAT,IAA0B+J,QAAQ,CAACG,WAAnC,IAAkD,EAnB/C;UAoBlB9J,YAAY,EAAE2J,QAAQ,CAAC3J,YAAT,IAAyB2J,QAAQ,CAACK,WAAlC,IAAiD,EApB7C;UAqBlBnK,aAAa,EAAE8J,QAAQ,CAAC9J,aAAT,IAA0B8J,QAAQ,CAACM,YAAnC,IAAmDN,QAAQ,CAACS,MAA5D,IAAsE,CArBnE;UAsBlB5K,KAAK,EAAE,OAAOmK,QAAQ,CAACnK,KAAhB,KAA0B,QAA1B,GAAqCmK,QAAQ,CAACnK,KAA9C,GAAsD6K,UAAU,CAACV,QAAQ,CAACnK,KAAT,IAAkB,GAAnB,CAtBrD;UAuBlBuC,QAAQ,EAAE,OAAO4H,QAAQ,CAAC5H,QAAhB,KAA6B,QAA7B,GAAwC4H,QAAQ,CAAC5H,QAAjD,GAA4D,CAvBpD;UAwBlB3P,QAAQ,EAAEuX,QAAQ,CAACvX,QAAT,IAAqB,EAxBb;UAyBlBgY,MAAM,EAAET,QAAQ,CAACS,MAAT,IAAmBT,QAAQ,CAAC9J,aAA5B,IAA6C8J,QAAQ,CAACM,YAAtD,IAAsE,CAzB5D;UA0BlBK,SAAS,EAAEX,QAAQ,CAACW,SAAT,IAAsB,IA1Bf;UA2BlBC,WAAW,EAAEZ,QAAQ,CAACY,WAAT,IAAwB,IAAIxZ,IAAJ,EA3BnB;UA4BlBD,SAAS,EAAE6J,wEAAe;QA5BR,CAApB,CALE,CAoCF;;QACAhb,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8C2jB,WAA9C,EArCE,CAuCF;;QACA,MAAMiH,qBAAqB,GAAGzQ,mEAAU,CAAC,OAAI,CAACuB,SAAN,EAAiB,SAASvQ,MAAM,cAAhC,CAAxC;QACA,MAAM6P,+DAAM,CAAC4P,qBAAD,EAAwBjH,WAAxB,CAAZ,CAzCE,CA2CF;;QACA,MAAMkH,uBAAuB,GAAG1Q,mEAAU,CAAC,OAAI,CAACuB,SAAN,EAAiB,aAAjB,CAA1C;QACA,MAAMV,+DAAM,CAAC6P,uBAAD,EAA0BlH,WAA1B,CAAZ;QAEA5jB,OAAO,CAACC,GAAR,CAAY,iCAAZ;QACA,OAAO,IAAP;MACD,CAjDD,CAiDE,OAAON,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,4BAAd,EAA4CA,KAA5C,EADc,CAEd;;QACA,OAAO,KAAP;MACD;IAtDgC;EAuDlC,CA/kCyB,CAilC1B;;;EACAorB,cAAc;IACZ,MAAM3f,MAAM,GAAG,KAAKnI,IAAL,CAAU0W,WAAV,EAAuB9U,GAAtC;IACA,IAAI,CAACuG,MAAL,EAAa,OAAO,EAAP;IAEb,MAAM4f,iBAAiB,GAAG5Q,mEAAU,CAAC,KAAKuB,SAAN,EAAiB,SAASvQ,MAAM,cAAhC,CAApC;IACA,MAAM6f,YAAY,GAAG1jB,8DAAK,CAACyjB,iBAAD,EAAoBtQ,gEAAO,CAAC,WAAD,EAAc,MAAd,CAA3B,CAA1B;IAEA,OAAOL,uEAAc,CAAC4Q,YAAD,CAArB;EACD;;AA1lCyB;;;mBAAbvP,eAAaxZ,sDAAAA,CAAAA,oDAAAA,GAAAA,sDAAAA,CAAAA,8DAAAA,GAAAA,sDAAAA,CAAAA,0DAAAA,GAAAA,sDAAAA,CAAAA,4DAAAA,GAAAA,sDAAAA,CAAAA,sDAAAA;AAAA;;;SAAbwZ;EAAanG,SAAbmG,aAAa;EAAAlG,YAFZ;;;;;;;;;;;;;;;;;;;;;;ACfR,MAAO0V,cAAP,CAAqB;EAIzBhuB,YACUiuB,WADV,EAEU3e,SAFV,EAGUD,SAHV,EAGoC;IAF1B;IACA;IACA;IANF,cAAuC,IAAvC;IACR,iBAAY,KAAZ;EAMI;;EAEEqK,UAAU,CAAC/W,OAAD,EAAgB;IAAA;;IAAA;MAC9B;MACA,MAAM,KAAI,CAACoW,UAAL,EAAN;MAEA,KAAI,CAACmV,SAAL,GAAiB,IAAjB;MACA,KAAI,CAACC,MAAL,SAAoB,KAAI,CAACF,WAAL,CAAiB1sB,MAAjB,CAAwB;QAC1CoB,OAAO,EAAEA,OADiC;QAE1CyrB,OAAO,EAAE;MAFiC,CAAxB,CAApB;MAIA,MAAM,KAAI,CAACD,MAAL,CAAYxpB,OAAZ,EAAN;MACA,OAAO,KAAI,CAACwpB,MAAZ;IAV8B;EAW/B;;EAEKpV,UAAU;IAAA;;IAAA;MACd,MAAI,CAACmV,SAAL,GAAiB,KAAjB;;MAEA,IAAI;QACF,IAAI,MAAI,CAACC,MAAT,EAAiB;UACf,MAAM,MAAI,CAACA,MAAL,CAAY5rB,OAAZ,EAAN;UACA,MAAI,CAAC4rB,MAAL,GAAc,IAAd;QACD,CAJC,CAMF;;;QACA,MAAME,SAAS,SAAS,MAAI,CAACJ,WAAL,CAAiBK,MAAjB,EAAxB;;QACA,IAAID,SAAJ,EAAe;UACb,MAAMA,SAAS,CAAC9rB,OAAV,EAAN;QACD;MACF,CAXD,CAWE,OAAOgsB,GAAP,EAAY;QACZzrB,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCwrB,GAAxC;MACD;IAhBa;EAiBf;;EAEK1U,SAAS,KAAyC;IAAA;;IAAA,+JAAxClX,OAAwC,EAAvB4S,WAAmB,IAAI;MACtD,MAAMD,KAAK,SAAS,MAAI,CAAChG,SAAL,CAAe/N,MAAf,CAAsB;QACxCoB,OAAO,EAAEA,OAD+B;QAExC4S,QAAQ,EAAEA,QAF8B;QAGxCjI,QAAQ,EAAE;MAH8B,CAAtB,CAApB;MAKA,MAAMgI,KAAK,CAAC3Q,OAAN,EAAN;IANsD;EAOvD;;EAEK/B,SAAS,CAACgC,MAAD,EAAiBjC,OAAjB,EAAgC;IAAA;;IAAA;MAC7C,MAAMkC,KAAK,SAAS,MAAI,CAACwK,SAAL,CAAe9N,MAAf,CAAsB;QACxCqD,MAAM,EAAEA,MADgC;QAExCjC,OAAO,EAAEA,OAF+B;QAGxCmC,OAAO,EAAE,CAAC,IAAD;MAH+B,CAAtB,CAApB;MAKA,MAAMD,KAAK,CAACF,OAAN,EAAN;IAN6C;EAO9C;;EAEK6pB,gBAAgB,CAAC5pB,MAAD,EAAiBjC,OAAjB,EAAgC;IAAA;;IAAA;MACpD,OAAO,IAAImQ,OAAJ;QAAA,wJAAY,WAAOC,OAAP,EAAkB;UACnC,MAAMlO,KAAK,SAAS,MAAI,CAACwK,SAAL,CAAe9N,MAAf,CAAsB;YACxCqD,MADwC;YAExCjC,OAFwC;YAGxCmC,OAAO,EAAE,CACP;cACEwO,IAAI,EAAE,QADR;cAEEC,IAAI,EAAE,QAFR;cAGEC,OAAO,EAAE,MAAMT,OAAO,CAAC,KAAD;YAHxB,CADO,EAMP;cACEO,IAAI,EAAE,WADR;cAEEE,OAAO,EAAE,MAAMT,OAAO,CAAC,IAAD;YAFxB,CANO;UAH+B,CAAtB,CAApB;UAgBA,MAAMlO,KAAK,CAACF,OAAN,EAAN;QACD,CAlBM;;QAAA;UAAA;QAAA;MAAA,IAAP;IADoD;EAoBrD;;AAhFwB;;;mBAAdqpB,gBAAchpB,sDAAAA,CAAAA,6DAAAA,GAAAA,sDAAAA,CAAAA,2DAAAA,GAAAA,sDAAAA,CAAAA,2DAAAA;AAAA;;;SAAdgpB;EAAc3V,SAAd2V,cAAc;EAAA1V,YAFb;;;;;;;;;;;;;;;;;;;ACF6C;;;AAMpD,MAAM,cAAc;IAKzB,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAJpC,wEAAwE;QACxE,sEAAsE;QAC9D,cAAS,GAAG,MAAM,CAAC,+EAAqB,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;IAE7C,CAAC;IAExC,iBAAiB,CAAC,KAAa;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAA4B,GAAG,IAAI,CAAC,SAAS,eAAe,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC;IAChG,CAAC;IAED,iBAAiB,CAAC,KAAa,EAAE,eAAuB;QACtD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAA8B,GAAG,IAAI,CAAC,SAAS,sBAAsB,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,CAAC,CAAC;IAC1H,CAAC;IAED,qBAAqB,CAAC,eAAuB;QAC3C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAM,GAAG,IAAI,CAAC,SAAS,0BAA0B,EAAE,EAAE,eAAe,EAAE,CAAC,CAAC;IAC/F,CAAC;IAED,qBAAqB,CAAC,KAAa,EAAE,KAAa;QAChD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAsB,GAAG,IAAI,CAAC,SAAS,oBAAoB,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;IACtG,CAAC;IAED,aAAa,CAAC,MAAc,EAAE,QAAgB,EAAE,eAAuB,EAAE,UAAkB;QACzF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAyB,GAAG,IAAI,CAAC,SAAS,aAAa,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAE,UAAU,EAAE,CAAC,CAAC;IACnI,CAAC;IAED,wBAAwB,CAAC,KAAa,EAAE,MAAc,EAAE,MAAc;QACpE,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;IAC3E,CAAC;IAED,kDAAkD;IAClD,kBAAkB,CAAC,WASlB;QACC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,uBAAuB,EAAE,WAAW,CAAC,CAAC;IAC/E,CAAC;IAED,+CAA+C;IAC/C,mBAAmB,CAAC,WAMnB;QACC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,wBAAwB,EAAE,WAAW,CAAC,CAAC;IAChF,CAAC;;4EAtDU,cAAc;+GAAd,cAAc,WAAd,cAAc,mBAFb,MAAM;;;;;;;;;;;;;;;;;;;ACL4E;AAC7C;;;AAOnD,MAAM,gBAAgB,GAAgB;IACpC,QAAQ,EAAE,KAAK;IACf,cAAc,EAAE,GAAG;CACpB,CAAC;AAKK,MAAM,eAAe;IAoB1B,YAAoB,SAAoB;QAApB,cAAS,GAAT,SAAS,CAAW;QAnBhC,oBAAe,GAAG,IAAI,iDAAe,CAAc,gBAAgB,CAAC,CAAC;QACrE,gBAAW,GAAwB,IAAI,CAAC;QAEhD,4CAA4C;QAC5C,cAAS,GAA4B,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;QAgBvE,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAfD,sCAAsC;IACtC,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,QAAQ,CAAC;IAC7C,CAAC;IAED,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,cAAc,CAAC;IACnD,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;IACpC,CAAC;IAMD;;OAEG;IACK,oBAAoB;QAC1B,IAAI;YACF,MAAM,WAAW,GAAG,4DAAG,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,EAAE,SAAS,CAAsB,CAAC;YAEpF,IAAI,CAAC,WAAW,GAAG,mEAAU,CAC3B,WAAW,EACX,CAAC,WAAW,EAAE,EAAE;gBACd,IAAI,WAAW,CAAC,MAAM,EAAE,EAAE;oBACxB,MAAM,IAAI,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC;oBAChC,MAAM,QAAQ,GAAgB;wBAC5B,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,gBAAgB,CAAC,QAAQ;wBACvD,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,gBAAgB,CAAC,cAAc;qBAC1E,CAAC;oBACF,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,QAAQ,CAAC,CAAC;oBAC3C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACrC;qBAAM;oBACL,uCAAuC;oBACvC,OAAO,CAAC,GAAG,CAAC,6CAA6C,CAAC,CAAC;oBAC3D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;iBAC7C;YACH,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;gBACR,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;gBACrD,6CAA6C;YAC/C,CAAC,CACF,CAAC;SACH;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,CAAC,KAAK,CAAC,uCAAuC,EAAE,KAAK,CAAC,CAAC;SAC/D;IACH,CAAC;IAED;;;;;OAKG;IACH,WAAW,CAAC,KAAsB,EAAE,WAAmB,CAAC;QACtD,MAAM,QAAQ,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QACvE,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE;YACnB,OAAO,GAAG,IAAI,CAAC,cAAc,MAAM,CAAC;SACrC;QACD,OAAO,GAAG,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC;IAC/D,CAAC;IAED;;;;;;OAMG;IACH,gBAAgB,CAAC,GAAW,EAAE,GAAW,EAAE,WAAmB,CAAC;QAC7D,OAAO,GAAG,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC;IAC3G,CAAC;IAED,WAAW;QACT,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;IACH,CAAC;;8EAvFU,eAAe;gHAAf,eAAe,WAAf,eAAe,mBAFd,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;ACbpB;;;;;;;;;;;ICuCUtT,4DAAAA,eAA6D,CAA7D,EAA6D,UAA7D,EAA6D,EAA7D;IAEIA,uDAAAA;IACAA,4DAAAA;IAAWA,oDAAAA;IAAWA,0DAAAA;;;;;;IAStBA,4DAAAA;IACEA,oDAAAA;IACFA,0DAAAA;;;;;IADEA,uDAAAA;IAAAA,gEAAAA;;;;;;IAEFA,4DAAAA,eAA6D,CAA7D,EAA6D,MAA7D,EAA6D,EAA7D,EAA6D,CAA7D,EAA6D,KAA7D;IACoCA,oDAAAA;IAAgFA,0DAAAA;IAClHA,4DAAAA;IAA0BA,oDAAAA;IAAkFA,0DAAAA;;;;;IAD1EA,uDAAAA;IAAAA,gEAAAA;IACRA,uDAAAA;IAAAA,gEAAAA;;;;;;IAM9BA,4DAAAA;IACEA,uDAAAA;IACAA,4DAAAA;IACEA,oDAAAA;IACFA,0DAAAA;IACAA,4DAAAA;IAAwBA,oDAAAA;IAAuCA,0DAAAA;;;;;IAF7DA,uDAAAA;IAAAA,gEAAAA;IAEsBA,uDAAAA;IAAAA,gEAAAA;;;;;;;;IA4B1BA,4DAAAA;IAGEA,wDAAAA;MAAA;MAAA;MAAA;MAAA,OAASA,yDAAAA,wBAAT;IAAqB,CAArB;IAEFA,0DAAAA;;;;;;IADEA,yDAAAA;IAFAA,wDAAAA;;;;;;IAoBFA,uDAAAA;;;;;;IACAA,4DAAAA;IAA4BA,oDAAAA;IAAaA,0DAAAA;;;;;;;;AD7G/C,MAAOypB,oBAAP,CAA2B;EAa/BzuB,YACUoJ,SADV,EAEUqV,SAFV,EAGUpe,aAHV,EAIUquB,eAJV,EAKSC,eALT,EAKyC;IAJ/B;IACA;IACA;IACA;IACD;IAbT,gBAAgB,EAAhB;IACA,cAAiB,CAAjB;IACA,eAAkB,EAAlB;IACA,oBAAwB,KAAxB,CAUyC,CARzC;;IACA,iBAAqB,KAArB;EAQK;;EAEL7tB,QAAQ;IACN;IACA,IAAI,KAAKgsB,QAAT,EAAmB;MACjB,KAAK8B,QAAL,GAAgB,KAAK9B,QAArB,CADiB,CAEjB;;MACA,IAAI,CAAC,KAAKC,MAAN,IAAgB,KAAKD,QAAL,CAAcC,MAAlC,EAA0C;QACxC,KAAKA,MAAL,GAAc,KAAKD,QAAL,CAAcC,MAA5B;MACD,CALgB,CAMjB;;;MACA,IAAI,CAAC,KAAK1L,QAAN,IAAkB,KAAKyL,QAAL,CAAczL,QAApC,EAA8C;QAC5C,KAAKA,QAAL,GAAgB,KAAKyL,QAAL,CAAczL,QAA9B;MACD,CATgB,CAUjB;;;MACA,KAAKwN,cAAL;IACD,CAZD,MAYO;MACL,KAAKC,YAAL;IACD,CAhBK,CAkBN;;;IACA1a,UAAU,CAAC,MAAK;MACd,KAAK2a,SAAL,GAAiB,IAAjB;IACD,CAFS,EAEP,GAFO,CAAV;EAGD;;EAEKD,YAAY;IAAA;;IAAA;MAChB,IAAI,CAAC,KAAI,CAAC/B,MAAV,EAAkB;QAChBjqB,OAAO,CAACL,KAAR,CAAc,qBAAd;QACA;MACD;;MAED,IAAI;QACF,MAAMusB,OAAO,SAAShR,+DAAM,CAACZ,4DAAG,CAAC,KAAI,CAACqB,SAAN,EAAiB,SAAjB,EAA4B,KAAI,CAACsO,MAAjC,CAAJ,CAA5B;;QAEA,IAAIiC,OAAO,CAACxO,MAAR,EAAJ,EAAsB;UACpB,KAAI,CAACoO,QAAL,GAAgBI,OAAO,CAAC5nB,IAAR,EAAhB,CADoB,CAGpB;;UACA,IAAI,KAAI,CAACwnB,QAAL,CAAc1J,QAAlB,EAA4B;YAC1B,KAAI,CAAC0J,QAAL,CAAcnJ,YAAd,GAA6B,CAAC,KAAI,CAACmJ,QAAL,CAAc1J,QAAd,GAAyB,IAA1B,EAAgC+J,OAAhC,CAAwC,CAAxC,CAA7B;UACD,CANmB,CAQpB;;;UACA,IAAI,KAAI,CAACL,QAAL,CAAcrZ,QAAd,IAA0B,OAAO,KAAI,CAACqZ,QAAL,CAAcrZ,QAArB,KAAkC,QAAhE,EAA0E;YACxE,KAAI,CAACqZ,QAAL,CAAcM,iBAAd,GAAkC,KAAI,CAACC,cAAL,CAAoB,KAAI,CAACP,QAAL,CAAcrZ,QAAlC,CAAlC;UACD,CAFD,MAEO;YACL,KAAI,CAACqZ,QAAL,CAAcM,iBAAd,GAAkC,KAAI,CAACN,QAAL,CAAcrZ,QAAhD;UACD,CAbmB,CAepB;;;UACA,IAAI,KAAI,CAACqZ,QAAL,CAAcjM,KAAlB,EAAyB;YACvB,KAAI,CAACiM,QAAL,CAAcQ,cAAd,GAA+B,KAAI,CAACC,WAAL,CAAiB,KAAI,CAACT,QAAL,CAAcjM,KAA/B,CAA/B;UACD;QACF,CAnBD,MAmBO;UACL7f,OAAO,CAACL,KAAR,CAAc,gBAAd;QACD;MACF,CAzBD,CAyBE,OAAOA,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;MACD;IAjCe;EAkCjB;;EAEDosB,cAAc;IACZ;IACA,IAAI,KAAKD,QAAL,CAAc1J,QAAlB,EAA4B;MAC1B,KAAK0J,QAAL,CAAcnJ,YAAd,GAA6B,CAAC,KAAKmJ,QAAL,CAAc1J,QAAd,GAAyB,IAA1B,EAAgC+J,OAAhC,CAAwC,CAAxC,CAA7B;IACD,CAJW,CAMZ;;;IACA,IAAI,KAAKL,QAAL,CAAcrZ,QAAd,IAA0B,OAAO,KAAKqZ,QAAL,CAAcrZ,QAArB,KAAkC,QAAhE,EAA0E;MACxE,KAAKqZ,QAAL,CAAcM,iBAAd,GAAkC,KAAKC,cAAL,CAAoB,KAAKP,QAAL,CAAcrZ,QAAlC,CAAlC;IACD,CAFD,MAEO;MACL,KAAKqZ,QAAL,CAAcM,iBAAd,GAAkC,KAAKN,QAAL,CAAcrZ,QAAhD;IACD,CAXW,CAaZ;;;IACA,IAAI,KAAKqZ,QAAL,CAAcjM,KAAlB,EAAyB;MACvB,KAAKiM,QAAL,CAAcQ,cAAd,GAA+B,KAAKC,WAAL,CAAiB,KAAKT,QAAL,CAAcjM,KAA/B,CAA/B;IACD;EACF;;EAEDwM,cAAc,CAACG,iBAAD,EAA0B;IACtC,MAAMlG,OAAO,GAAGjJ,IAAI,CAACkJ,KAAL,CAAWiG,iBAAiB,GAAG,EAA/B,CAAhB;IACA,MAAMC,KAAK,GAAGpP,IAAI,CAACkJ,KAAL,CAAWD,OAAO,GAAG,EAArB,CAAd;;IAEA,IAAImG,KAAK,GAAG,CAAZ,EAAe;MACb,MAAMC,gBAAgB,GAAGpG,OAAO,GAAG,EAAnC;MACA,OAAO,GAAGmG,KAAK,KAAKC,gBAAgB,GAApC;IACD,CAHD,MAGO;MACL,OAAO,GAAGpG,OAAO,MAAjB;IACD;EACF;;EAEDiG,WAAW,CAAC1M,KAAD,EAAc;IACvB,OAAOA,KAAK,CAACsM,OAAN,CAAc,CAAd,CAAP;EACD;;EAEDQ,SAAS,CAAClC,MAAD,EAAe;IACtB,KAAKA,MAAL,GAAcA,MAAd;EACD;;EAEKhB,YAAY;IAAA;;IAAA;MAChB,IAAI,MAAI,CAACgB,MAAL,KAAgB,CAApB,EAAuB;QACrB,MAAMjY,KAAK,SAAS,MAAI,CAACoZ,eAAL,CAAqBntB,MAArB,CAA4B;UAC9CoB,OAAO,EAAE,0CADqC;UAE9C4S,QAAQ,EAAE,IAFoC;UAG9CjI,QAAQ,EAAE,QAHoC;UAI9C/G,KAAK,EAAE;QAJuC,CAA5B,CAApB;QAMA,MAAM+O,KAAK,CAAC3Q,OAAN,EAAN;QACA;MACD;;MAED,MAAI,CAAC+qB,YAAL,GAAoB,IAApB;;MAEA,IAAI;QACF;QACA,IAAI,CAAC,MAAI,CAAC3C,MAAV,EAAkB;UAChBjqB,OAAO,CAACL,KAAR,CAAc,4CAAd;UACA,MAAM,IAAIe,KAAJ,CAAU,iBAAV,CAAN;QACD,CALC,CAOF;;;QACA,MAAMma,kEAAS,CAACP,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,SAAjB,EAA4B,MAAI,CAACsO,MAAjC,CAAJ,EAA8C;UAC3D4C,WAAW,EAAE,MAAI,CAACpC,MADyC;UAE3DqC,aAAa,EAAE,MAAI,CAACC,OAFuC;UAG3DC,OAAO,EAAE,IAAI5b,IAAJ,GAAWC,WAAX;QAHkD,CAA9C,CAAf,CARE,CAcF;;QACA,IAAI,MAAI,CAACkN,QAAT,EAAmB;UACjB,MAAM,MAAI,CAAC0O,kBAAL,CAAwB,MAAI,CAAC1O,QAA7B,EAAuC,MAAI,CAACkM,MAA5C,CAAN;QACD;;QAED,MAAMjY,KAAK,SAAS,MAAI,CAACoZ,eAAL,CAAqBntB,MAArB,CAA4B;UAC9CoB,OAAO,EAAE,8BADqC;UAE9C4S,QAAQ,EAAE,IAFoC;UAG9CjI,QAAQ,EAAE,QAHoC;UAI9C/G,KAAK,EAAE;QAJuC,CAA5B,CAApB;QAMA,MAAM+O,KAAK,CAAC3Q,OAAN,EAAN,CAzBE,CA2BF;;QACAyP,UAAU,CAAC,MAAK;UACd,MAAI,CAAC7R,OAAL;QACD,CAFS,EAEP,IAFO,CAAV;MAGD,CA/BD,CA+BE,OAAOE,KAAP,EAAc;QACdK,OAAO,CAACL,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;QACA,MAAM6S,KAAK,SAAS,MAAI,CAACoZ,eAAL,CAAqBntB,MAArB,CAA4B;UAC9CoB,OAAO,EAAE,4CADqC;UAE9C4S,QAAQ,EAAE,IAFoC;UAG9CjI,QAAQ,EAAE,QAHoC;UAI9C/G,KAAK,EAAE;QAJuC,CAA5B,CAApB;QAMA,MAAM+O,KAAK,CAAC3Q,OAAN,EAAN;MACD,CAxCD,SAwCU;QACR,MAAI,CAAC+qB,YAAL,GAAoB,KAApB;MACD;IAxDe;EAyDjB;;EAEKK,kBAAkB,CAAC1O,QAAD,EAAmB2O,SAAnB,EAAoC;IAAA;;IAAA;MAC1D,MAAMC,SAAS,GAAG7S,4DAAG,CAAC,MAAI,CAACqB,SAAN,EAAiB,SAAjB,EAA4B4C,QAA5B,CAArB;MACA,MAAM6O,SAAS,SAASlS,+DAAM,CAACiS,SAAD,CAA9B;;MAEA,IAAIC,SAAS,CAAC1P,MAAV,EAAJ,EAAwB;QACtB,MAAMmB,UAAU,GAAGuO,SAAS,CAAC9oB,IAAV,EAAnB;QACA,MAAM+oB,aAAa,GAAGxO,UAAU,CAAC4L,MAAX,IAAqB,CAA3C;QACA,MAAM6C,WAAW,GAAGzO,UAAU,CAACyO,WAAX,IAA0B,CAA9C,CAHsB,CAKtB;;QACA,MAAMC,YAAY,GAAG,CAAEF,aAAa,GAAGC,WAAjB,GAAgCJ,SAAjC,KAA+CI,WAAW,GAAG,CAA7D,CAArB;QAEA,MAAMzS,kEAAS,CAACsS,SAAD,EAAY;UACzB1C,MAAM,EAAE8C,YADiB;UAEzBD,WAAW,EAAEA,WAAW,GAAG;QAFF,CAAZ,CAAf;MAID;IAhByD;EAiB3D;;EAED7tB,OAAO;IACL;IACA,IAAI,KAAKqsB,QAAL,IAAiB,CAAC,KAAKA,QAAL,CAAc0B,YAApC,EAAkD;MAChD;MACA,KAAK1B,QAAL,CAAc0B,YAAd,GAA6B,IAA7B,CAFgD,CAIhD;;MACA,MAAMC,aAAa,GAAG;QACpBxD,MAAM,EAAE,KAAKA,MAAL,IAAe,KAAK6B,QAAL,CAAc7B,MAA7B,IAAuC,EAD3B;QAEpBpJ,OAAO,EAAE,KAAKtjB,aAAL,CAAmB8B,IAAnB,EAAyBwF,GAAzB,IAAgC,EAFrB;QAGpB0Z,QAAQ,EAAE,KAAKA,QAAL,IAAiB,KAAKuN,QAAL,CAAcvN,QAA/B,IAA2C,EAHjC;QAIpB2L,UAAU,EAAE,KAAK4B,QAAL,CAAc5B,UAAd,IAA4B,KAAK4B,QAAL,CAAc/M,WAA1C,IAAyD,gBAJjD;QAKpBoL,WAAW,EAAE,KAAK2B,QAAL,CAAc3B,WAAd,IAA6B,KAAK2B,QAAL,CAAc7L,aAA3C,IAA4D,EALrD;QAMpBmK,SAAS,EAAE,KAAK0B,QAAL,CAAc1B,SAAd,IAA2B,KAAK0B,QAAL,CAAc3L,UAAzC,IAAuD,EAN9C;QAOpBkK,WAAW,EAAE,KAAKyB,QAAL,CAAczB,WAAd,IAA6B,KAAKyB,QAAL,CAAczL,YAA3C,IAA2D,EAPpD;QAQpBiK,YAAY,EAAE,KAAKG,MAAL,IAAe,KAAKqB,QAAL,CAAcrB,MAA7B,IAAuC,KAAKqB,QAAL,CAAcxB,YAArD,IAAqE,KAAKwB,QAAL,CAAc5L,aAAnF,IAAoG,CAR9F;QASpBqK,MAAM,EAAE,KAAKuB,QAAL,CAAcvB,MAAd,IAAwB,KAAKuB,QAAL,CAActM,cAAtC,IAAwD,gBAT5C;QAUpBgL,WAAW,EAAE,KAAKsB,QAAL,CAActB,WAAd,IAA6B,KAAKsB,QAAL,CAAcrM,iBAA3C,IAAgE,qBAVzD;QAWpBP,OAAO,EAAE,KAAK4M,QAAL,CAAc5M,OAAd,IAAyB,CAXd;QAYpBC,OAAO,EAAE,KAAK2M,QAAL,CAAc3M,OAAd,IAAyB,CAZd;QAapBG,OAAO,EAAE,KAAKwM,QAAL,CAAcxM,OAAd,IAAyB,CAbd;QAcpBC,OAAO,EAAE,KAAKuM,QAAL,CAAcvM,OAAd,IAAyB,CAdd;QAepBC,cAAc,EAAE,KAAKsM,QAAL,CAActM,cAAd,IAAgC,KAAKsM,QAAL,CAAcvB,MAA9C,IAAwD,gBAfpD;QAgBpB9K,iBAAiB,EAAE,KAAKqM,QAAL,CAAcrM,iBAAd,IAAmC,KAAKqM,QAAL,CAActB,WAAjD,IAAgE,qBAhB/D;QAiBpBzL,WAAW,EAAE,KAAK+M,QAAL,CAAc/M,WAAd,IAA6B,KAAK+M,QAAL,CAAc5B,UAA3C,IAAyD,gBAjBlD;QAkBpB/J,UAAU,EAAE,KAAK2L,QAAL,CAAc3L,UAAd,IAA4B,KAAK2L,QAAL,CAAc1B,SAA1C,IAAuD,EAlB/C;QAmBpBnK,aAAa,EAAE,KAAK6L,QAAL,CAAc7L,aAAd,IAA+B,KAAK6L,QAAL,CAAc3B,WAA7C,IAA4D,EAnBvD;QAoBpB9J,YAAY,EAAE,KAAKyL,QAAL,CAAczL,YAAd,IAA8B,KAAKyL,QAAL,CAAczB,WAA5C,IAA2D,EApBrD;QAqBpBnK,aAAa,EAAE,KAAKuK,MAAL,IAAe,KAAKqB,QAAL,CAAc5L,aAA7B,IAA8C,KAAK4L,QAAL,CAAcxB,YAA5D,IAA4E,CArBvE;QAsBpBzK,KAAK,EAAE,KAAKiM,QAAL,CAAcjM,KAAd,IAAuB,CAtBV;QAuBpBuC,QAAQ,EAAE,KAAK0J,QAAL,CAAc1J,QAAd,IAA0B,CAvBhB;QAwBpB3P,QAAQ,EAAE,KAAKqZ,QAAL,CAAcrZ,QAAd,IAA0B,EAxBhB;QAyBpBgY,MAAM,EAAE,KAAKA,MAAL,IAAe,KAAKqB,QAAL,CAAcrB,MAA7B,IAAuC,CAzB3B;QA0BpBqC,aAAa,EAAE,KAAKC,OAAL,IAAgB,EA1BX;QA2BpBpC,SAAS,EAAE,IA3BS;QA4BpBC,WAAW,EAAE,KAAKkB,QAAL,CAAclB,WAAd,IAA6B,IAAIxZ,IAAJ,EA5BtB;QA6BpBD,SAAS,EAAE,IAAIC,IAAJ;MA7BS,CAAtB;MAiCApR,OAAO,CAACC,GAAR,CAAY,yCAAZ,EAAuDwtB,aAAa,CAACrL,QAArE,EAtCgD,CAuChD;;MACA,KAAK7kB,aAAL,CAAmBwsB,eAAnB,CAAmC0D,aAAnC,EAAkDrU,KAAlD,CAAwDqS,GAAG,IAAG;QAC5DzrB,OAAO,CAACL,KAAR,CAAc,uCAAd,EAAuD8rB,GAAvD;MACD,CAFD;IAGD;;IAED,KAAKnlB,SAAL,CAAe7G,OAAf,CAAuB;MACrBiuB,KAAK,EAAE,KAAKjD,MAAL,GAAc,CADA;MAErBA,MAAM,EAAE,KAAKA;IAFQ,CAAvB;EAID;;AAzP8B;;;mBAApBkB,sBAAoBzpB,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,8DAAAA,GAAAA,+DAAAA,CAAAA,mEAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,uEAAAA;AAAA;;;QAApBypB;EAAoBxpB;EAAAwI;IAAAsf;IAAA1L;IAAAyL;EAAA;EAAAhkB;EAAAC;EAAAC;EAAAC;IAAA;MCXjCjE,4DAAAA,qBAAkC,CAAlC,EAAkC,aAAlC,EAAkC,CAAlC,EAAkC,CAAlC,EAAkC,WAAlC,EAAkC,CAAlC;MAEuCA,oDAAAA;MAAYA,0DAAAA;MAC/CA,4DAAAA,sBAAwB,CAAxB,EAAwB,YAAxB,EAAwB,CAAxB;MACcA,wDAAAA;QAAA,OAASG,aAAT;MAAkB,CAAlB;MACVH,uDAAAA;MACFA,0DAAAA;MAKNA,4DAAAA,sBAAiC,CAAjC,EAAiC,KAAjC,EAAiC,CAAjC,EAAiC,CAAjC,EAAiC,UAAjC,EAAiC,CAAjC,EAAiC,EAAjC,EAAiC,iBAAjC,EAAiC,EAAjC,EAAiC,gBAAjC,EAAiC,CAAjC;MAKgDA,oDAAAA;MAAYA,0DAAAA;MAGtDA,4DAAAA,yBAAkB,EAAlB,EAAkB,KAAlB,EAAkB,CAAlB,EAAkB,EAAlB,EAAkB,KAAlB,EAAkB,EAAlB;MAIMA,uDAAAA,gBAAmC,EAAnC,EAAmC,KAAnC,EAAmC,EAAnC,EAAmC,EAAnC,EAAmC,KAAnC,EAAmC,EAAnC;MAGFA,0DAAAA;MAGAA,4DAAAA,gBAAuB,EAAvB,EAAuB,KAAvB,EAAuB,EAAvB,EAAuB,EAAvB,EAAuB,KAAvB,EAAuB,EAAvB;MAEgCA,oDAAAA;MAAIA,0DAAAA;MAChCA,4DAAAA;MAA4BA,oDAAAA;MAAmDA,0DAAAA;MAEjFA,4DAAAA,gBAA2B,EAA3B,EAA2B,KAA3B,EAA2B,EAA3B;MAC8BA,oDAAAA;MAAEA,0DAAAA;MAC9BA,4DAAAA;MAA4BA,oDAAAA;MAAwDA,0DAAAA;MAKxFA,wDAAAA;MAQAA,4DAAAA,gBAAwB,EAAxB,EAAwB,KAAxB,EAAwB,EAAxB;MAEIA,uDAAAA;MAEAA,wDAAAA;MAGAA,wDAAAA;MAIAA,4DAAAA;MAAwBA,oDAAAA;MAAKA,0DAAAA;MAI/BA,wDAAAA;MAQAA,4DAAAA;MACEA,uDAAAA;MACAA,4DAAAA;MAAwBA,oDAAAA;MAA4BA,0DAAAA;MACpDA,4DAAAA;MAAwBA,oDAAAA;MAAQA,0DAAAA;MAGlCA,4DAAAA;MACEA,uDAAAA;MACAA,4DAAAA;MAAwBA,oDAAAA;MAA2CA,0DAAAA;MACnEA,4DAAAA;MAAwBA,oDAAAA;MAAQA,0DAAAA;MAQ1CA,4DAAAA,qBAA8B,EAA9B,EAA8B,iBAA9B,EAA8B,EAA9B,EAA8B,gBAA9B,EAA8B,CAA9B;MAE4CA,oDAAAA;MAAcA,0DAAAA;MAGxDA,4DAAAA,yBAAkB,EAAlB,EAAkB,KAAlB,EAAkB,EAAlB,EAAkB,EAAlB,EAAkB,KAAlB,EAAkB,EAAlB;MAGMA,wDAAAA;MAMFA,0DAAAA;MAEAA,4DAAAA,qBAA8B,EAA9B,EAA8B,cAA9B,EAA8B,EAA9B;MAEIA,wDAAAA;QAAA;MAAA;MAIFA,0DAAAA;MAGFA,4DAAAA;MAEEA,wDAAAA;QAAA,OAASG,kBAAT;MAAuB,CAAvB;MAGAH,wDAAAA;MACAA,wDAAAA;MACFA,0DAAAA;;;;MA7GuBA,uDAAAA;MAAAA,yDAAAA;MAoBSA,uDAAAA;MAAAA,+DAAAA;MAIAA,uDAAAA;MAAAA,+DAAAA;MAKAA,uDAAAA;MAAAA,wDAAAA;MAYHA,uDAAAA;MAAAA,wDAAAA;MAGOA,uDAAAA;MAAAA,wDAAAA;MAQGA,uDAAAA;MAAAA,wDAAAA;MAUXA,uDAAAA;MAAAA,+DAAAA;MAMAA,uDAAAA;MAAAA,+DAAAA;MAkBVA,uDAAAA;MAAAA,wDAAAA,YAAAA,6DAAAA;MASdA,uDAAAA;MAAAA,wDAAAA;MAUFA,uDAAAA;MAAAA,wDAAAA;MAEcA,uDAAAA;MAAAA,wDAAAA;MACPA,uDAAAA;MAAAA,wDAAAA;;;;;;;;;;;;;;;;;;;;ACxHnB,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACvB,UAAU,EAAE,IAAI;IACf,QAAQ,EAAE;QACP,MAAM,EAAE,yCAAyC;QACjD,UAAU,EAAE,+BAA+B;QAC3C,SAAS,EAAE,eAAe;QAC1B,aAAa,EAAE,mCAAmC;QAClD,iBAAiB,EAAE,cAAc;QACjC,KAAK,EAAE,+CAA+C;KACzD;IACD,MAAM,EAAE,yCAAyC;IACjD,SAAS,EAAE;QACP,KAAK,EAAE,sCAAsC;QAC7C,UAAU,EAAE,kDAAkD;QAC9D,kBAAkB,EAAE,EAAE;KACzB;IACD,SAAS,EAAE,wCAAwC;IACnD,yBAAyB,EAAE,wCAAwC;IACnE,WAAW,EAAE;QACT;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,eAAe;YACvB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,gBAAgB;YACxB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,qBAAqB;YAC7B,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,kBAAkB;YAC1B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,wBAAwB;YAChC,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,gCAAgC;YACxC,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,mBAAmB;YAC3B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,cAAc;YACtB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,gBAAgB;YACxB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,0BAA0B;YAClC,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,kBAAkB;YAC1B,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,yBAAyB;YACjC,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,cAAc;YACtB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,gBAAgB;YACxB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,kCAAkC;YAC1C,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,oBAAoB;YAC5B,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,mBAAmB;YAC3B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,6BAA6B;YACrC,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,eAAe;YACvB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,eAAe;YACvB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,kBAAkB;YAC1B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,UAAU;YACtB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,eAAe;YACvB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,+BAA+B;YACvC,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,UAAU;YACtB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,oBAAoB;YAC5B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,6BAA6B;YACrC,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,UAAU;YACtB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,8CAA8C;YACtD,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,gCAAgC;YACxC,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,eAAe;YACvB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,kBAAkB;YAC1B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,4CAA4C;YACpD,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,sBAAsB;YAC9B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,eAAe;YACvB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,gBAAgB;YACxB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,iBAAiB;YACzB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,0BAA0B;YAClC,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,kBAAkB;YAC1B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,kBAAkB;YAC1B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,8CAA8C;YACtD,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,uBAAuB;YAC/B,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,cAAc;YACtB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,2BAA2B;YACnC,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,kCAAkC;YAC1C,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,uBAAuB;YAC/B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,cAAc;YACtB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,cAAc;YACtB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,cAAc;YACtB,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,iBAAiB;YACzB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,cAAc;YACtB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,8CAA8C;YACtD,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,WAAW;YACnB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,wBAAwB;YAChC,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,sBAAsB;YAC9B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,8CAA8C;SACzD;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,uCAAuC;YAC/C,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,aAAa;YACrB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,qBAAqB;YAC7B,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,cAAc;YACtB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,0BAA0B;YAClC,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,sBAAsB;YAC9B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,gBAAgB;YACxB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,eAAe;YACvB,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,sCAAsC;YAC9C,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,KAAK;YAChB,MAAM,EAAE,uDAAuD;SAClE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,6CAA6C;YACrD,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,yBAAyB;YACjC,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,sBAAsB;YAC9B,UAAU,EAAE,OAAO;YACnB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,mBAAmB;YAC3B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;QACD;YACI,MAAM,EAAE,UAAU;YAClB,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,sDAAsD;SACjE;KACJ;CACJ,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;;;;;;;ACr+CpB;AAGF;AACY;AACR;AAEjD,IAAI,6EAAsB,EAAE;IAC1B,6DAAc,EAAE,CAAC;CAClB;AAED,yEAAyE;AACzE,+DAAQ,EAAE,CAAC;AAEX,wEAAwB,CAAC,eAAe,CAAC,sDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;ACflC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,qC;;;;;;;;;;AC1OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,0C;;;;;;;;;;ACZA,e","sources":["./src/app/add-card/add-card.component.ts","./src/app/add-card/add-card.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/autocomplete/autocomplete.component.ts","./src/app/autocomplete/autocomplete.component.html","./src/app/country-search-modal/country-search-modal.component.ts","./src/app/country-search-modal/country-search-modal.component.html","./src/app/enroute-chat/enroute-chat.component.ts","./src/app/enroute-chat/enroute-chat.component.html","./src/app/one-signal.service.ts","./src/app/otp/otp.component.ts","./src/app/otp/otp.component.html","./src/app/services/auth.service.ts","./src/app/services/avatar.service.ts","./src/app/services/overlay.service.ts","./src/app/services/payment.service.ts","./src/app/services/settings.service.ts","./src/app/trip-summary/trip-summary.component.ts","./src/app/trip-summary/trip-summary.component.html","./src/environments/environment.ts","./src/main.ts","./node_modules/@ionic/core/dist/esm/ lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","./node_modules/@stencil/core/internal/client/ lazy ^\\.\\/.*\\.entry\\.js.*$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ strict namespace object","ignored|C:\\Users\\user\\STABLE\\Pegasus_Rider2025\\node_modules\\crypto-js|crypto"],"sourcesContent":["import { Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { AlertController, LoadingController, ModalController, NavController } from '@ionic/angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { PaymentService } from '../services/payment.service';\r\nimport { AvatarService } from '../services/avatar.service';\r\ndeclare var Stripe;\r\n\r\n@Component({\r\n  selector: 'app-add-card',\r\n  templateUrl: './add-card.component.html',\r\n})\r\nexport class AddCardComponent {\r\n  @ViewChild('cardElement', { static: false }) cardElement: ElementRef;\r\n  paymentForm: FormGroup;\r\n  loading: HTMLIonLoadingElement;\r\n  stripe: any;\r\n  elements: any;\r\n  card: any;\r\n  isCardComplete: boolean = false;\r\n  cardInitialized: boolean = false;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private alertController: AlertController,\r\n    private loadingController: LoadingController,\r\n    private paymentService: PaymentService,\r\n    private avatarService: AvatarService,\r\n    private modalController: ModalController,\r\n    private navController: NavController\r\n  ) {\r\n    this.paymentForm = this.fb.group({\r\n      provider: ['stripe', Validators.required],\r\n      cardId: [''],\r\n      authCode: ['']\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Initialize the form or any other needed data\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.initializeStripeCard();\r\n  }\r\n\r\n  initializeStripeCard() {\r\n    if (this.cardElement && this.cardElement.nativeElement) {\r\n      this.stripe = Stripe('pk_test_51SShK5PRgzt7CIyewdombVyUyoBjYRQGrw8uBfWOF58l49mTcKZzWoeeyeBrjcsLT8NzCDKKjbwZQfDnNnpFzoxn00ivj0cGEe');\r\n      this.elements = this.stripe.elements();\r\n      if (!this.card) {\r\n        this.card = this.elements.create('card');\r\n        this.card.mount(this.cardElement.nativeElement);\r\n        this.card.on('change', event => {\r\n          this.isCardComplete = event.complete;\r\n        });\r\n      }\r\n      this.cardInitialized = true;\r\n    }\r\n  }\r\n\r\n  async processPayment() {\r\n    if (this.paymentForm.valid) {\r\n      const formValues = this.paymentForm.value;\r\n      formValues.email = this.avatarService.user.email; // Use email from avatarService\r\n\r\n      this.showLoading();\r\n\r\n      try {\r\n        const cardData = await this.processStripePayment(formValues);\r\n        \r\n        await this.modalController.dismiss({ success: true, cardData });\r\n      } catch (error) {\r\n        const errorMessage = error.message || (error.error ? error.error.error : 'An unexpected error occurred.');\r\n        await this.showAlert('Error', errorMessage);\r\n      } finally {\r\n        this.hideLoading();\r\n      }\r\n    } else {\r\n      this.showAlert('Form Error', 'Please fill out all required fields.');\r\n    }\r\n  }\r\n\r\n  async processStripePayment(formValues) {\r\n    console.log('Starting processStripePayment with formValues:', formValues);\r\n  \r\n    try {\r\n      const setupIntentResponse = await this.paymentService.createSetupIntent(formValues.email).toPromise();\r\n      console.log('Setup Intent raw response:', setupIntentResponse);\r\n      const resp: any = setupIntentResponse;\r\n      const clientSecret = resp && (resp.client_secret || resp.clientSecret || resp.clientSecretValue || resp.secret);\r\n      console.log('Resolved clientSecret:', clientSecret);\r\n\r\n      if (!clientSecret) {\r\n        throw new Error('No client_secret returned from server for SetupIntent.');\r\n      }\r\n      \r\n      if (String(clientSecret).startsWith('seti_') && !String(clientSecret).includes('_secret_')) {\r\n        throw new Error('Invalid client_secret returned from server (looks like an ID). Ensure server returns the full client_secret.');\r\n      }\r\n  \r\n      const { setupIntent, error } = await this.stripe.confirmCardSetup(\r\n        clientSecret,\r\n        {\r\n          payment_method: {\r\n            card: this.card,\r\n            billing_details: {\r\n              email: formValues.email,\r\n            },\r\n          },\r\n        }\r\n      );\r\n  \r\n      if (error) {\r\n        console.error('Stripe confirmCardSetup returned error object:', error);\r\n        throw new Error(error.message);\r\n      }\r\n  \r\n      console.log('Card setup confirmed:', setupIntent);\r\n  \r\n      const paymentMethodId = setupIntent.payment_method;\r\n  \r\n      // Fetch the payment method details from your server (which will call Stripe)\r\n      const paymentMethod = await this.paymentService.retrievePaymentMethod(paymentMethodId).toPromise();\r\n      console.log('Payment method retrieved:', paymentMethod);\r\n  \r\n      const cardDetails = paymentMethod.card;\r\n      const last4 = cardDetails.last4;\r\n      const brand = cardDetails.brand; // Get card brand (visa, mastercard, etc.)\r\n  \r\n      console.log('Checking if card exists with email:', formValues.email, ' and last4:', last4);\r\n      const cardExists = await this.avatarService.checkCardExistsStripe(formValues.email, last4);\r\n      \r\n      if (cardExists) {\r\n        throw new Error('This card is already saved to your account.');\r\n      }\r\n      \r\n      // Save card to Firestore using the correct method\r\n      const cardData = {\r\n        cardId: paymentMethodId,\r\n        email: formValues.email,\r\n        last4: last4,\r\n        brand: brand || 'unknown'\r\n      };\r\n      \r\n      await this.avatarService.saveCard(cardData);\r\n      console.log('Card saved to Firestore:', cardData);\r\n      \r\n      // Also save to backend if needed\r\n      await this.paymentService.savePaymentMethod(formValues.email, paymentMethodId).toPromise();\r\n  \r\n      return cardData;\r\n  \r\n    } catch (error) {\r\n      console.error('Error in processStripePayment:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async showLoading() {\r\n    this.loading = await this.loadingController.create({ message: 'Processing payment...' });\r\n    await this.loading.present();\r\n  }\r\n\r\n  async hideLoading() {\r\n    if (this.loading) {\r\n      await this.loading.dismiss();\r\n    }\r\n  }\r\n\r\n  async showAlert(header: string, message: string) {\r\n    const alert = await this.alertController.create({\r\n      header,\r\n      message,\r\n      buttons: ['OK'],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  closeModal() {\r\n    this.modalController.dismiss();\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border\" [translucent]=\"true\">\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button (click)=\"closeModal()\">\r\n        <ion-icon slot=\"icon-only\" name=\"close-outline\" color=\"primary\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n    <ion-title>{{ 'PAYMENT.ADD_NEW_CARD' | translate }}</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n  <div class=\"add-card-section\">\r\n    <div class=\"section-header\">\r\n      <ion-icon name=\"card\" color=\"primary\"></ion-icon>\r\n      <h2>{{ 'PAYMENT.ADD_NEW_CARD' | translate }}</h2>\r\n    </div>\r\n    \r\n    <div class=\"card-form-container\">\r\n      <form [formGroup]=\"paymentForm\" (ngSubmit)=\"processPayment()\">\r\n        <div class=\"stripe-container\">\r\n          <div #cardElement class=\"stripe-element\"></div>\r\n          <div id=\"card-errors\" class=\"card-errors\" role=\"alert\"></div>\r\n        </div>\r\n        \r\n        <ion-button \r\n          class=\"add-card-btn\"\r\n          color=\"primary\" \r\n          shape=\"round\" \r\n          expand=\"block\" \r\n          size=\"large\" \r\n          type=\"submit\" \r\n          [disabled]=\"!paymentForm.valid || !isCardComplete\">\r\n          <ion-icon slot=\"start\" name=\"add-circle-outline\"></ion-icon>\r\n          {{ 'PAYMENT.ADD_CARD' | translate }}\r\n        </ion-button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</ion-content>\r\n","import { NgModule } from '@angular/core';\r\nimport { PreloadAllModules, RouterModule, Routes } from '@angular/router';\r\nimport {\r\n  redirectUnauthorizedTo,\r\n  redirectLoggedInTo,\r\n  canActivate,\r\n} from '@angular/fire/auth-guard';\r\nimport { RiderProfileGuard } from './guards/rider-profile.guard';\r\n\r\nconst redirectUnauthorizedToLogin = () => redirectUnauthorizedTo(['login']);\r\nconst redirectLoggedInToHome = () => redirectLoggedInTo(['home']);\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'home',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'login',\r\n    loadChildren: () =>\r\n      import('./login/login.module').then((m) => m.LoginPageModule),\r\n    ...canActivate(redirectLoggedInToHome),\r\n  },\r\n  {\r\n    path: 'home',\r\n    loadChildren: () =>\r\n      import('./home/home.module').then((m) => m.HomePageModule),\r\n    ...canActivate(redirectUnauthorizedToLogin),\r\n  },\r\n  {\r\n    path: 'profile',\r\n    loadChildren: () =>\r\n      import('./pages/profile/profile.module').then((m) => m.ProfilePageModule),\r\n    ...canActivate(redirectUnauthorizedToLogin),\r\n  },\r\n  {\r\n    path: 'history',\r\n    loadChildren: () =>\r\n      import('./pages/history/history.module').then((m) => m.HistoryPageModule),\r\n    ...canActivate(redirectUnauthorizedToLogin),\r\n  },\r\n  {\r\n    path: 'details',\r\n    loadChildren: () =>\r\n      import('./pages/details/details.module').then((m) => m.DetailsPageModule),\r\n    ...canActivate(redirectUnauthorizedToLogin),\r\n  },\r\n  {\r\n    path: 'payment',\r\n    loadChildren: () =>\r\n      import('./pages/payment/payment.module').then((m) => m.PaymentPageModule),\r\n    ...canActivate(redirectUnauthorizedToLogin), // Added guard\r\n  },\r\n  {\r\n    path: 'support',\r\n    loadChildren: () =>\r\n      import('./pages/support/support.module').then((m) => m.SupportPageModule),\r\n    ...canActivate(redirectUnauthorizedToLogin), // Added guard\r\n  },\r\n  {\r\n    path: 'about',\r\n    loadChildren: () =>\r\n      import('./pages/about/about.module').then((m) => m.AboutPageModule),\r\n    ...canActivate(redirectUnauthorizedToLogin), // Added guard\r\n  },\r\n  {\r\n    path: 'promotion',\r\n    loadChildren: () =>\r\n      import('./pages/promotion/promotion.module').then((m) => m.PromotionPageModule),\r\n    ...canActivate(redirectUnauthorizedToLogin), // Added guard\r\n  },\r\n  {\r\n    path: 'rating',\r\n    loadChildren: () =>\r\n      import('./pages/rating/rating.module').then((m) => m.RatingPageModule),\r\n    ...canActivate(redirectUnauthorizedToLogin), // Added guard\r\n  },\r\n  {\r\n    path: 'network',\r\n    loadChildren: () =>\r\n      import('./pages/network/network.module').then((m) => m.NetworkPageModule),\r\n    ...canActivate(redirectUnauthorizedToLogin), // Added guard\r\n  },\r\n  {\r\n    path: 'paymentcallback',\r\n    loadChildren: () => import('./paymentcallback/paymentcallback.module').then(m => m.PaymentcallbackPageModule)\r\n  },\r\n  {\r\n    path: '**', // Catch-all route\r\n    redirectTo: 'home'\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules }),\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { NavController, Platform } from '@ionic/angular';\r\nimport { SplashScreen } from '@capacitor/splash-screen';\r\nimport { AvatarService } from './services/avatar.service';\r\nimport { StatusBar, Style } from '@capacitor/status-bar';\r\nimport { Auth } from '@angular/fire/auth';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Preferences } from '@capacitor/preferences';\r\nimport { OnesignalService } from './one-signal.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: 'app.component.html',\r\n  styleUrls: ['app.component.scss'],\r\n})\r\nexport class AppComponent {\r\n  currentLanguage: string;\r\n  user: any;\r\n  source: string;\r\n  loading: boolean = true;\r\n  \r\n  appPages = [\r\n    { title: 'MENU.HISTORY', url: '/history', icon: 'time', color: 'primary' },\r\n    { title: 'MENU.PAYMENT', url: '/payment', icon: 'card', color: 'primary' },\r\n    { title: 'MENU.PROMOTION', url: '/promotion', icon: 'gift', color: 'primary' },\r\n    { title: 'MENU.SUPPORT', url: '/support', icon: 'chatbubbles', color: 'primary' },\r\n    { title: 'MENU.ABOUT', url: '/about', icon: 'information-circle', color: 'primary' },\r\n  ];\r\n\r\n  constructor(\r\n    private platform: Platform,\r\n    private ngZone: NgZone,\r\n    public avatar: AvatarService,\r\n    private auth: Auth,\r\n    private nav: NavController,\r\n    private router: Router,\r\n    private translate: TranslateService,\r\n    private oneSignalService: OnesignalService\r\n  ) {\r\n    // Set default language immediately (synchronously) to prevent placeholder display\r\n    this.translate.setDefaultLang('en');\r\n    this.translate.use('en');\r\n    this.currentLanguage = 'en';\r\n    \r\n    this.initializeApp();\r\n    this.router.events.subscribe(event => {\r\n      if (event instanceof NavigationEnd) {\r\n        console.log('Navigation ended:', event);\r\n      }\r\n    });\r\n  }\r\n\r\n  initializeApp() {\r\n    // Load user's saved language preference (if different from default)\r\n    this.initializeTranslation();\r\n    this.initialize();\r\n    this.initializeOneSignal();\r\n  }\r\n\r\n  /**\r\n   * Initialize OneSignal push notifications for web, iOS, and Android\r\n   */\r\n  private async initializeOneSignal(): Promise<void> {\r\n    try {\r\n      // Initialize OneSignal (works for both web and native)\r\n      await this.oneSignalService.OneSignalInit();\r\n      \r\n      // Request permission after initialization\r\n      await this.oneSignalService.requestPermission();\r\n      \r\n      // Subscribe to notification clicks for custom handling\r\n      this.oneSignalService.notificationClick$.subscribe((data) => {\r\n        console.log('Notification clicked in app component:', data);\r\n        // Custom handling can be added here if needed\r\n        // The service already handles routing based on notification type\r\n      });\r\n\r\n      console.log('OneSignal initialized successfully');\r\n    } catch (error) {\r\n      console.error('Error initializing OneSignal:', error);\r\n    }\r\n  }\r\n\r\n  async initialize() {\r\n    this.platform.ready().then(async (readySource: string) => {\r\n      this.source = readySource;\r\n      this.auth.onAuthStateChanged(async (user) => {\r\n        this.user = user;\r\n        console.log('Auth state changed:', user);\r\n        \r\n        if (user) {\r\n          // User is signed in\r\n          console.log('User is signed in:', user);\r\n          // Set OneSignal external user ID for targeted notifications\r\n          await this.oneSignalService.setExternalUserId(user.uid);\r\n        } else {\r\n          // User is signed out\r\n          console.log('User is signed out');\r\n          // Remove OneSignal external user ID on logout\r\n          await this.oneSignalService.removeExternalUserId();\r\n        }\r\n\r\n        if (readySource != 'dom') {\r\n          await StatusBar.setBackgroundColor({ color: '#3880ff' });\r\n          StatusBar.setStyle({ style: Style.Light });\r\n        }\r\n        await this.LoadSplash();\r\n        this.loading = false;\r\n      });\r\n    });\r\n  }\r\n\r\n  async LoadSplash() {\r\n    await SplashScreen.show();\r\n\r\n    if (this.source != 'dom')\r\n      await StatusBar.setOverlaysWebView({ overlay: true });\r\n  }\r\n\r\n  gotoProfile() {\r\n    this.nav.navigateForward('profile');\r\n  }\r\n\r\n  gotoPage(p) {\r\n    this.nav.navigateForward(p);\r\n  }\r\n\r\n  async initializeTranslation() {\r\n    try {\r\n      const { value } = await Preferences.get({ key: 'user-lang' });\r\n      if (value && value !== this.currentLanguage) {\r\n        this.translate.use(value);\r\n        this.currentLanguage = value;\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading language preference:', error);\r\n      // Default language already set in constructor\r\n    }\r\n  }\r\n\r\n  async changeLanguage(lang: string) {\r\n    this.currentLanguage = lang;\r\n    this.translate.use(lang);\r\n    await Preferences.set({ key: 'user-lang', value: lang });\r\n  }\r\n}\r\n","<ion-app>\r\n  <ion-split-pane contentId=\"main-content\">\r\n    <ion-menu *ngIf=\"user\" contentId=\"main-content\" type=\"overlay\">\r\n      <ion-content>\r\n        <ion-list id=\"inbox-list\" lines=\"none\">\r\n          <ion-menu-toggle>\r\n            <ion-item (click)=\"gotoProfile()\">\r\n              <ion-avatar *ngIf=\"user.photoURL\">\r\n                <ion-img [src]=\"user.photoURL\"></ion-img>\r\n              </ion-avatar>\r\n              <ion-avatar *ngIf=\"!user.photoURL\">\r\n                <ion-img src=\"../assets/icon/favicon.png\"></ion-img>\r\n              </ion-avatar>\r\n              <ion-label class=\"ion-margin\">\r\n                <h1>{{ user.displayName || 'Unknown' }}</h1>\r\n                <p>{{ user.phoneNumber || '987654687976' }}</p>\r\n              </ion-label>\r\n            </ion-item>\r\n            <ion-item *ngIf=\"!user\">\r\n              <ion-avatar>\r\n                <ion-skeleton-text [animated]=\"true\"></ion-skeleton-text>\r\n              </ion-avatar>\r\n              <ion-label class=\"ion-margin\">\r\n                <h1><ion-skeleton-text [animated]=\"true\" style=\"width: 100px\"></ion-skeleton-text></h1>\r\n                <p><ion-skeleton-text [animated]=\"true\" style=\"width: 80px\"></ion-skeleton-text></p>\r\n              </ion-label>\r\n            </ion-item>\r\n          </ion-menu-toggle>\r\n        </ion-list>\r\n        <ion-list>\r\n          <ion-menu-toggle auto-hide=\"false\" *ngFor=\"let p of appPages; let i = index\">\r\n            <ion-item class=\"allItems\" (click)=\"gotoPage(p.url)\" lines=\"none\" detail=\"false\" routerLinkActive=\"selected\">\r\n              <ion-icon slot=\"start\" [ios]=\"p.icon\" [md]=\"p.icon\" [color]=\"p.color\"></ion-icon>\r\n              <ion-label>{{ p.title | translate }}</ion-label>\r\n            </ion-item>\r\n          </ion-menu-toggle>\r\n        </ion-list>\r\n\r\n      </ion-content>\r\n    </ion-menu>\r\n    <ion-router-outlet id=\"main-content\"></ion-router-outlet>\r\n  </ion-split-pane>\r\n</ion-app>\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { RouteReuseStrategy } from '@angular/router';\r\n\r\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { initializeApp, provideFirebaseApp } from '@angular/fire/app';\r\nimport { environment } from '../environments/environment';\r\nimport { provideAuth, getAuth } from '@angular/fire/auth';\r\nimport { GoogleAuthProvider, FacebookAuthProvider } from 'firebase/auth';\r\nimport { provideFirestore, getFirestore } from '@angular/fire/firestore';\r\nimport { provideStorage, getStorage } from '@angular/fire/storage';\r\nimport { getApp } from 'firebase/app';\r\nimport { OtpComponent } from './otp/otp.component';\r\nimport { NgOtpInputModule } from  'ng-otp-input';\r\nimport { Client} from \"@googlemaps/google-maps-services-js\";\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CountrySearchModalComponent } from './country-search-modal/country-search-modal.component';\r\nimport { AddCardComponent } from './add-card/add-card.component';\r\nimport { AutocompleteComponent } from './autocomplete/autocomplete.component';\r\nimport { EnrouteChatComponent } from './enroute-chat/enroute-chat.component';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { TripSummaryComponent } from './trip-summary/trip-summary.component';\r\n\r\n// AoT requires an exported function for factories\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n\r\n@NgModule({\r\n  declarations: [AppComponent, OtpComponent, CountrySearchModalComponent, AddCardComponent, AutocompleteComponent, EnrouteChatComponent, TripSummaryComponent],\r\n  entryComponents: [TripSummaryComponent, CountrySearchModalComponent, AddCardComponent, AutocompleteComponent, EnrouteChatComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    NgOtpInputModule,\r\n    FormsModule,\r\n    CommonModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    IonicModule.forRoot(),\r\n    AppRoutingModule,\r\n    provideFirebaseApp(() => initializeApp(environment.firebase)),\r\n    provideAuth(() => getAuth()),\r\n    provideFirestore(() => getFirestore()),\r\n    provideStorage(() => getStorage()),\r\n    TranslateModule.forRoot({\r\n      defaultLanguage: 'en',\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: createTranslateLoader,\r\n        deps: [HttpClient]\r\n      }\r\n    })\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n  providers: [{ provide: RouteReuseStrategy, useClass: IonicRouteStrategy },  GoogleAuthProvider, FacebookAuthProvider, Client],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { StatusBar } from '@capacitor/status-bar';\r\nimport { Client } from '@googlemaps/google-maps-services-js';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { environment } from 'src/environments/environment';\r\nimport { AvatarService } from '../services/avatar.service';\r\nimport { HttpClient } from '@angular/common/http';\r\ndeclare let google;\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-autocomplete',\r\n  templateUrl: './autocomplete.component.html',\r\n  styleUrls: ['./autocomplete.component.scss'],\r\n})\r\nexport class AutocompleteComponent implements OnInit {\r\n  @Input() LatLng;\r\n  @Input() locationAddress;\r\n  autocompleteItems;\r\n  service = new google.maps.places.AutocompleteService();\r\n  autocomplete: { query2: any; query: any; };\r\n  data: any[];\r\n  autocompleteItems2: any[];\r\n  skeleton: boolean = true;\r\n  skeletOns: any[];\r\n  hideImage: boolean;\r\n  countryCode: any = 'NG';\r\n  editedPickupLocation: any = null;\r\n  constructor(private modalCtrl: ModalController, private http: HttpClient, private avatar: AvatarService, private viewCtrl: ModalController, private client: Client) {\r\n    this.autocompleteItems = [];\r\n    this.autocompleteItems2 = [];\r\n   }\r\n  \r\n  ngOnInit() {\r\n    \r\n     this.http.get(\"https://ipinfo.io\").subscribe((res: any) => {\r\n          \r\n        console.log('res ', res);\r\n\r\n\r\n        this.countryCode = res.country || 'NG';\r\n     \r\n     })\r\n    \r\n    this.skeletOns = [\r\n      {},{},{},{}\r\n    ]\r\n    this.autocomplete = {\r\n      query2: this.locationAddress,\r\n      query: \"\",\r\n    };\r\n    console.log(this.locationAddress);\r\n  }\r\n\r\n  closeModal(){\r\n    let data = {\r\n      home: true\r\n    }\r\n    this.modalCtrl.dismiss(data)\r\n  }\r\n\r\n  closeSearch(){\r\n    \r\n  }\r\n\r\n\r\n  async Show(){\r\n    await StatusBar.setOverlaysWebView({ overlay: false });\r\n \r\n    this.hideImage = true;\r\n  }\r\n\r\n  async Hide(){\r\n    await StatusBar.setOverlaysWebView({ overlay: true });\r\n   \r\n    this.hideImage = false;\r\n  }\r\n\r\n  async updateSearch2() {\r\n   \r\n    if (this.autocomplete.query2 == \"\") {\r\n      this.autocompleteItems2 = [];\r\n      return;\r\n    }\r\n    console.log(this.autocomplete.query2, this.LatLng)\r\n\r\n    var place = new google.maps.LatLng(this.LatLng.lat, this.LatLng.lng);\r\n\r\n    this.skeleton = false;\r\n\r\n    this.service.getPlacePredictions(\r\n      {\r\n        input: this.autocomplete.query2,\r\n        location: place,\r\n        strictbounds: true,\r\n        radius: \"2000\",\r\n        zoom: 15,\r\n        types: [\"geocode\"],\r\n        componentRestrictions: { country: [this.countryCode] },\r\n      },\r\n      (predictions, status) => {\r\n        this.autocompleteItems2 = [];\r\n        console.log(predictions, status);\r\n\r\n        this.skeleton = true;\r\n        \r\n          if (predictions != null)\r\n            predictions.forEach((prediction) => {\r\n              this.autocompleteItems2.push({\r\n                whole: prediction,\r\n                full: prediction.description,\r\n                place: prediction.structured_formatting.main_text,\r\n                city: prediction.structured_formatting.secondary_text,\r\n                searching: true\r\n              });\r\n            });\r\n        });\r\n      }\r\n\r\n\r\n  async updateSearch() {\r\n   \r\n    if (this.autocomplete.query == \"\") {\r\n      this.autocompleteItems = [];\r\n      return;\r\n    }\r\n    console.log(this.autocomplete.query, this.LatLng)\r\n\r\n    var place = new google.maps.LatLng(this.LatLng.lat, this.LatLng.lng);\r\n\r\n    this.skeleton = false;\r\n\r\n    this.service.getPlacePredictions(\r\n      {\r\n        input: this.autocomplete.query,\r\n        location: place,\r\n        strictbounds: true,\r\n        radius: \"2000\",\r\n        zoom: 15,\r\n        types: [\"geocode\"],\r\n        componentRestrictions: { country: [this.countryCode] },\r\n      },\r\n      (predictions, status) => {\r\n        this.autocompleteItems = [];\r\n        console.log(predictions, status);\r\n\r\n        this.skeleton = true;\r\n        \r\n          if (predictions != null)\r\n            predictions.forEach((prediction) => {\r\n              this.autocompleteItems.push({\r\n                whole: prediction,\r\n                full: prediction.description,\r\n                place: prediction.structured_formatting.main_text,\r\n                city: prediction.structured_formatting.secondary_text,\r\n                searching: true\r\n              });\r\n            });\r\n        });\r\n      }\r\n\r\n\r\n\r\nasync chooseItem(item: any) {\r\n  // Include edited pickup location if user changed it\r\n  if (this.editedPickupLocation) {\r\n    item.editedPickup = this.editedPickupLocation;\r\n  }\r\n  await this.viewCtrl.dismiss(item);\r\n  console.log(item);\r\n}\r\n\r\n\r\nasync chooseOnMap() {\r\n  let data = {\r\n    pinOnMap: true\r\n  }\r\n  await this.viewCtrl.dismiss(data);\r\n}\r\n\r\nasync chooseItem2 (item: any){\r\n  this.autocomplete.query2 = item.full;\r\n  this.autocompleteItems2 = []; // Clear pickup suggestions\r\n  \r\n  try {\r\n    const results = await this.client\r\n      .geocode({\r\n      params: {\r\n        address: item.full,\r\n        key: environment.apiKey,\r\n      },\r\n      timeout: 5000, // milliseconds\r\n    });\r\n    console.log(results);\r\n    \r\n    if (results.data && results.data.results && results.data.results.length > 0) {\r\n      const position = results.data.results[0].geometry.location;\r\n      this.editedPickupLocation = {\r\n        location: item.full,\r\n        lat: position.lat,\r\n        lng: position.lng,\r\n        edited: true,\r\n      };\r\n      console.log('Edited pickup location:', this.editedPickupLocation);\r\n    }\r\n  } catch (error) {\r\n    console.error('Error geocoding pickup location:', error);\r\n  }\r\n}\r\n\r\n}\r\n\r\n","\r\n<ion-header>\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button color=\"primary\" (click)=\"closeModal()\">\r\n        <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon> \r\n      </ion-button>\r\n    </ion-buttons>\r\n    <ion-title> Enter Destination </ion-title>\r\n  </ion-toolbar>\r\n  <ion-item lines=\"none\">\r\n    <ion-icon color='success' name=\"locate-sharp\"></ion-icon>\r\n    <ion-searchbar  animated=\"true\" [(ngModel)]=\"autocomplete.query2\" placeholder=\"Enter Pick Up Location\" (ionInput)=\"updateSearch2()\" (ionFocus)=\"Show()\" (ionBlur)=\"Hide()\" (ionCancel)=\"closeSearch()\" class=\"search\" showCancelButton=\"never\"></ion-searchbar>\r\n</ion-item>\r\n<ion-item lines=\"none\">\r\n<ion-icon color='primary' name=\"pin-sharp\"></ion-icon>\r\n<ion-searchbar  animated=\"true\" placeholder=\"Enter Destination\" [(ngModel)]=\"autocomplete.query\" (ionInput)=\"updateSearch()\" (ionFocus)=\"Show()\" (ionBlur)=\"Hide()\" (ionCancel)=\"closeSearch()\" class=\"search2\" showCancelButton=\"never\"></ion-searchbar>\r\n</ion-item>\r\n  \r\n</ion-header>\r\n\r\n\r\n<ion-content class='ion-no-padding'>\r\n\r\n  <ion-list lines=\"none\">\r\n\r\n    <div *ngIf=\"!skeleton\">\r\n    <ion-item  *ngFor=\"let item of skeletOns\">\r\n      <ion-label class=\"ion-margin\">\r\n        <h1> <ion-skeleton-text [animated]=\"true\" style=\"width: 80px\"></ion-skeleton-text></h1>\r\n        <p> <ion-skeleton-text [animated]=\"true\" style=\"width: 130px\"></ion-skeleton-text></p>\r\n      </ion-label>\r\n      <ion-thumbnail slot=\"start\">\r\n        <ion-skeleton-text [animated]=\"true\" style=\"width: 30px; height: 50px;\"></ion-skeleton-text>\r\n      </ion-thumbnail>\r\n    </ion-item>\r\n  </div>\r\n    \r\n    <ion-item *ngFor=\"let item of autocompleteItems\" (click)=\"chooseItem(item)\">\r\n      <ion-label class=\"ion-margin\">\r\n        <h1>{{ item.place}}</h1>\r\n        <p>{{item.city}}</p>\r\n      </ion-label>\r\n        <ion-icon name=\"pin\" slot=\"start\"></ion-icon>\r\n    </ion-item>\r\n\r\n    <ion-item *ngFor=\"let item of autocompleteItems2\" (click)=\"chooseItem2(item)\">\r\n      <ion-label class=\"ion-margin\">\r\n        <h1>{{ item.place}}</h1>\r\n        <p>{{item.city}}</p>\r\n      </ion-label>\r\n        <ion-icon name=\"pin\" slot=\"start\"></ion-icon>\r\n    </ion-item>\r\n\r\n    <!-- <ion-item class='ion-padding' *ngFor=\"let itme of place\">\r\n        <div (click)=\"choosePlace(itme)\">\r\n            {{itme.name}}\r\n            <br />\r\n            <p>{{itme.city}}</p>\r\n        </div> -->\r\n\r\n        <!-- <ion-icon color='doom' name=\"close\" item-end (click)=\"delete(itme)\"></ion-icon>\r\n        <ion-icon color='doom' name=\"pin\" item-start></ion-icon>\r\n    </ion-item> -->\r\n\r\n    <ion-item *ngIf=\"!hideImage\" style=\"margin:0 auto;\">\r\n      <ion-img src=\"../../assets/imgs/trip.svg\"></ion-img>\r\n     </ion-item>\r\n</ion-list>\r\n\r\n\r\n</ion-content>\r\n\r\n<ion-footer class=\"ion-padding\">\r\n\r\n  \r\n              <ion-button size=\"large\" shape=\"round\" color=\"primary\" expand='block' (click)=\"chooseOnMap()\">\r\n                  <ion-icon slot=\"icon-only\" name=\"pin\"></ion-icon> \r\n                  Choose on map\r\n              </ion-button>\r\n         \r\n\r\n</ion-footer>","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { environment } from '../../environments/environment';\r\n//llZ1NBxrJnSEkUZG\r\n@Component({\r\n  selector: 'app-country-search-modal',\r\n  templateUrl: './country-search-modal.component.html',\r\n  styleUrls: ['./country-search-modal.component.scss'],\r\n})\r\nexport class CountrySearchModalComponent implements OnInit {\r\n  CountryJson = environment.CountryJson;\r\n  filteredCountries = [];\r\n\r\n  constructor(private modalCtrl: ModalController) {}\r\n\r\n  ngOnInit() {\r\n    this.filteredCountries = this.CountryJson;\r\n  }\r\n\r\n  filterCountries(event: any) {\r\n    const searchTerm = event.target.value.toLowerCase();\r\n    this.filteredCountries = this.CountryJson.filter(country =>\r\n      country.name.toLowerCase().includes(searchTerm) ||\r\n      country.dialCode.includes(searchTerm)\r\n    );\r\n  }\r\n\r\n  selectCountry(country) {\r\n    this.modalCtrl.dismiss(country);\r\n  }\r\n\r\n  dismiss() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title>Select Country</ion-title>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"dismiss()\">Close</ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n  <ion-searchbar (ionInput)=\"filterCountries($event)\" placeholder=\"Search country\"></ion-searchbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-list>\r\n    <div *ngFor=\"let country of filteredCountries\" class=\"country-item\">\r\n      <ion-item (click)=\"selectCountry(country)\">\r\n        <ion-avatar slot=\"start\">\r\n          <img [src]=\"country.flag\" [alt]=\"country.name + ' flag'\">\r\n        </ion-avatar>\r\n        <ion-label>{{ country.name }}</ion-label>\r\n      </ion-item>\r\n    </div>\r\n  </ion-list>\r\n</ion-content>\r\n","// src/app/components/enroute-chat/enroute-chat.component.ts\r\n\r\nimport { Component, OnInit, ViewChild, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { StatusBar } from '@capacitor/status-bar';\r\nimport { IonContent } from '@ionic/angular';\r\nimport { Observable } from 'rxjs';\r\nimport { AvatarService } from 'src/app/services/avatar.service';\r\nimport { ModalController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-enroute-chat',\r\n  templateUrl: './enroute-chat.component.html',\r\n  styleUrls: ['./enroute-chat.component.scss'],\r\n})\r\nexport class EnrouteChatComponent implements OnInit {\r\n\r\n  @ViewChild(IonContent) content: IonContent;\r\n  @Input() chatData: any;  // Define an input property to receive data\r\n \r\n  newMsg = '';\r\n  messages: Observable<import(\"@angular/fire/firestore\").DocumentData[]>;\r\n  hasNoData: any;\r\n  skeletOns: {}[];\r\n  hideSkeleton: boolean;\r\n  loading: boolean = true;\r\n\r\n  constructor(private chatService: AvatarService, private router: Router, private modalCtrl: ModalController) { }\r\n \r\n  async ionViewDidEnter() {\r\n    this.skeletOns = [\r\n      {},{},{},{}\r\n    ]\r\n    this.hideSkeleton = true;\r\n    this.messages = this.chatService.getChatMessage(this.chatData.userId);\r\n    this.messages.subscribe((d) => {\r\n      this.loading = false;\r\n      if (d.length == 0){\r\n        this.hasNoData = true;\r\n        this.hideSkeleton = false;\r\n      } else {\r\n        this.hideSkeleton = false;\r\n        this.hasNoData = false;\r\n        this.content.scrollToBottom();\r\n      }\r\n    });\r\n  }\r\n\r\n  async Show() {\r\n    await StatusBar.setOverlaysWebView({ overlay: false });\r\n  }\r\n\r\n  async Hide() {\r\n    await StatusBar.setOverlaysWebView({ overlay: true });\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Use the passed data if needed\r\n    console.log(this.chatData);\r\n  }\r\n \r\n  async sendMessage() {\r\n    await this.chatService.addChatEnRouteMessage(this.newMsg, this.chatData.userId);\r\n    this.newMsg = '';\r\n    this.content.scrollToBottom();\r\n    this.chatService.updatChatMessageInfo(this.chatData.userId);\r\n  }\r\n\r\n  closeChat() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border\">\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button color=\"primary\" (click)=\"closeChat()\">\r\n        <ion-icon name=\"close\" slot=\"icon-only\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n    <ion-title> Chat </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n  <ion-grid *ngIf=\"!hideSkeleton\">\r\n    <ion-row *ngFor=\"let message of messages | async\">\r\n      <ion-col size=\"9\" class=\"message\"\r\n        [offset]=\"message.myMsg ? 3 : 0\"\r\n        [ngClass]=\"{ 'my-message': message.myMsg, 'other-message': !message.myMsg }\">\r\n        <b>{{ message.fromName }}</b><br>\r\n        <span>{{ message.msg }}</span>\r\n        <div class=\"time ion-text-right\"><br>{{ message.createdAt?.toMillis() | date:'short' }}</div>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n\r\n  <div *ngIf=\"hideSkeleton\">\r\n    <ion-item lines=\"none\" *ngFor=\"let item of skeletOns\">\r\n      <ion-thumbnail>\r\n        <ion-skeleton-text [animated]=\"true\" style=\"width: 250px; height: 400px;\"></ion-skeleton-text>\r\n      </ion-thumbnail>\r\n    </ion-item>\r\n\r\n    <ion-item lines=\"none\" *ngFor=\"let item of skeletOns\">\r\n      <ion-thumbnail>\r\n        <ion-skeleton-text  [animated]=\"true\" style=\"width: 250px; height: 400px; left: 100px\"></ion-skeleton-text>\r\n      </ion-thumbnail>\r\n    </ion-item>\r\n  </div>\r\n\r\n  <ion-list class=\"ion-no-padding\" lines=\"none\">\r\n    <ion-img *ngIf=\"hasNoData\" src=\"../../../assets/imgs/chat.svg\"></ion-img>\r\n    <ion-list-header *ngIf=\"hasNoData\" style=\"margin-top: 10%\">\r\n      <ion-label color=\"primary\" class=\"ion-text-center\">\r\n        <h1>We Respond Immediately</h1>\r\n        <p>Tell Us How We can Help You.</p>\r\n      </ion-label>\r\n    </ion-list-header>\r\n  </ion-list>\r\n</ion-content>\r\n\r\n<ion-footer>\r\n  <ion-toolbar color=\"light\">\r\n    <ion-row class=\"ion-align-items-center\">\r\n      <ion-col size=\"10\">\r\n        <ion-textarea autoGrow=\"true\" (ionFocus)=\"Show()\" (ionBlur)=\"Hide()\" placeholder=\"Start Typing..\" class=\"message-input\" rows=\"1\" maxLength=\"500\" [(ngModel)]=\"newMsg\">\r\n        </ion-textarea>\r\n      </ion-col>\r\n      <ion-col size=\"2\">\r\n        <ion-button expand=\"block\" fill=\"clear\" color=\"primary\" [disabled]=\"newMsg === ''\" class=\"msg-btn\" (click)=\"sendMessage()\">\r\n          <ion-icon name=\"send\" slot=\"icon-only\"></ion-icon>\r\n        </ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-toolbar>\r\n</ion-footer>\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { Capacitor } from '@capacitor/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { AlertController, ToastController } from '@ionic/angular';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport { Observable, of, Subject, BehaviorSubject } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\n\r\n// Declare OneSignal as any to avoid TypeScript import errors\r\n// OneSignal cordova plugin is only available at runtime on native devices\r\ndeclare var OneSignal: any;\r\n// OneSignal Web SDK (loaded via CDN in index.html)\r\ndeclare var OneSignalDeferred: any;\r\n\r\n// Notification types for routing\r\nexport type NotificationType = \r\n  | 'payment_success' \r\n  | 'payment_failed' \r\n  | 'ride_confirmed' \r\n  | 'driver_arrived' \r\n  | 'ride_started' \r\n  | 'ride_completed' \r\n  | 'driver_assigned';\r\n\r\n// Notification data interface\r\nexport interface NotificationData {\r\n  notificationType?: NotificationType;\r\n  rideId?: string;\r\n  paymentId?: string;\r\n  [key: string]: any;\r\n}\r\n\r\n// Backend API interfaces\r\nexport interface SendNotificationRequest {\r\n  playerIds: string[];\r\n  title: string;\r\n  message: string;\r\n  data?: any;\r\n}\r\n\r\nexport interface SendByUserIdRequest {\r\n  externalUserIds: string[];\r\n  title: string;\r\n  message: string;\r\n  data?: any;\r\n}\r\n\r\nexport interface RideNotificationRequest {\r\n  playerIds?: string[];\r\n  externalUserIds?: string[];\r\n  notificationType: NotificationType;\r\n  rideDetails: any;\r\n}\r\n\r\nexport interface BroadcastNotificationRequest {\r\n  title: string;\r\n  message: string;\r\n  data?: any;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class OnesignalService {\r\n  public playerID: string | null = null;\r\n  public externalUserId: string | null = null;\r\n  private isNative: boolean;\r\n  private isInitialized = false;\r\n  \r\n  // Observable for notification clicks\r\n  private notificationClickSubject = new Subject<NotificationData>();\r\n  public notificationClick$ = this.notificationClickSubject.asObservable();\r\n  \r\n  // Observable for permission status\r\n  private permissionStatusSubject = new BehaviorSubject<boolean>(false);\r\n  public permissionStatus$ = this.permissionStatusSubject.asObservable();\r\n\r\n  // Backend API base URL\r\n  private readonly backendUrl = environment.pushNotificationServerUrl || '[YOUR_SERVER_URL]';\r\n  \r\n  // Enable/disable debug popups (set to true to see success/error alerts)\r\n  public showDebugAlerts = true;\r\n  \r\n  constructor(\r\n    private alertCtrl: AlertController, \r\n    private toastCtrl: ToastController,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private ngZone: NgZone\r\n  ) {\r\n    this.isNative = Capacitor.isNativePlatform();\r\n  }\r\n\r\n  /**\r\n   * Initialize OneSignal for both mobile (native) and web platforms\r\n   */\r\n  async OneSignalInit(): Promise<void> {\r\n    if (this.isInitialized) {\r\n      console.log('OneSignal: Already initialized');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (this.isNative) {\r\n        await this.initializeNative();\r\n      } else {\r\n        await this.initializeWeb();\r\n      }\r\n      this.isInitialized = true;\r\n    } catch (e) {\r\n      console.error('OneSignal initialization error:', e);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize OneSignal for native platforms (iOS/Android)\r\n   */\r\n  private async initializeNative(): Promise<void> {\r\n    try {\r\n      // Uncomment to set OneSignal device logging to VERBOSE\r\n      // OneSignal.Debug.setLogLevel(6);\r\n\r\n      // Initialize OneSignal with App ID\r\n      OneSignal.initialize(environment.onesignal.appId);\r\n\r\n      // Get player ID (subscription ID)\r\n      const subscription = await OneSignal.User.pushSubscription.getIdAsync();\r\n      this.playerID = subscription;\r\n      console.log('OneSignal Native Player ID:', this.playerID);\r\n\r\n      // Get external ID if set\r\n      this.externalUserId = await OneSignal.User.getExternalId();\r\n      console.log('OneSignal External User ID:', this.externalUserId);\r\n\r\n      // Set up notification click listener with routing\r\n      OneSignal.Notifications.addEventListener('click', (event: any) => {\r\n        this.handleNotificationClick(event);\r\n      });\r\n\r\n      // Set up permission change listener\r\n      OneSignal.Notifications.addEventListener('permissionChange', (permission: boolean) => {\r\n        this.permissionStatusSubject.next(permission);\r\n        console.log('OneSignal permission changed:', permission);\r\n      });\r\n\r\n      // Check current permission status\r\n      const hasPermission = await OneSignal.Notifications.getPermissionAsync();\r\n      this.permissionStatusSubject.next(hasPermission);\r\n\r\n      console.log('OneSignal Native initialized successfully');\r\n    } catch (e) {\r\n      console.error('OneSignal Native initialization error:', e);\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize OneSignal for web platform\r\n   */\r\n  private async initializeWeb(): Promise<void> {\r\n    try {\r\n      // Check if OneSignal Web SDK is available\r\n      if (typeof OneSignalDeferred === 'undefined') {\r\n        console.warn('OneSignal Web SDK not loaded. Make sure to include the script in index.html');\r\n        return;\r\n      }\r\n\r\n      OneSignalDeferred.push(async (OneSignalSDK: any) => {\r\n        await OneSignalSDK.init({\r\n          appId: environment.onesignal.appId,\r\n          allowLocalhostAsSecureOrigin: true, // For development\r\n          notifyButton: {\r\n            enable: true, // Show the notification bell\r\n          },\r\n          serviceWorkerParam: { scope: '/' },\r\n          serviceWorkerPath: '/OneSignalSDKWorker.js',\r\n        });\r\n\r\n        // Get player ID (subscription ID)\r\n        const subscription = await OneSignalSDK.User.PushSubscription.id;\r\n        this.playerID = subscription || null;\r\n        console.log('OneSignal Web Player ID:', this.playerID);\r\n\r\n        // Set up notification click listener\r\n        OneSignalSDK.Notifications.addEventListener('click', (event: any) => {\r\n          this.handleNotificationClick(event);\r\n        });\r\n\r\n        // Set up permission change listener\r\n        OneSignalSDK.Notifications.addEventListener('permissionChange', (permission: boolean) => {\r\n          this.ngZone.run(() => {\r\n            this.permissionStatusSubject.next(permission);\r\n          });\r\n        });\r\n\r\n        // Check current permission status\r\n        const permission = await OneSignalSDK.Notifications.permission;\r\n        this.permissionStatusSubject.next(permission);\r\n\r\n        console.log('OneSignal Web initialized successfully');\r\n      });\r\n    } catch (e) {\r\n      console.error('OneSignal Web initialization error:', e);\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle notification click events and route based on notification type\r\n   */\r\n  private handleNotificationClick(event: any): void {\r\n    console.log('Notification clicked:', event);\r\n    \r\n    const notificationData: NotificationData = event?.notification?.additionalData || \r\n                                                event?.result?.notification?.additionalData || \r\n                                                event?.data || \r\n                                                {};\r\n    \r\n    this.ngZone.run(() => {\r\n      // Emit the notification data for subscribers\r\n      this.notificationClickSubject.next(notificationData);\r\n      \r\n      // Route based on notification type\r\n      this.routeByNotificationType(notificationData);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Route to appropriate page based on notification type\r\n   */\r\n  private routeByNotificationType(data: NotificationData): void {\r\n    const notificationType = data.notificationType;\r\n    \r\n    switch (notificationType) {\r\n      case 'payment_success':\r\n      case 'payment_failed':\r\n        // Navigate to payment page with payment details\r\n        this.router.navigate(['/payment'], { \r\n          queryParams: { \r\n            paymentId: data.paymentId,\r\n            status: notificationType === 'payment_success' ? 'success' : 'failed'\r\n          }\r\n        });\r\n        break;\r\n        \r\n      case 'ride_confirmed':\r\n      case 'driver_assigned':\r\n      case 'driver_arrived':\r\n      case 'ride_started':\r\n        // Navigate to home page with ride details (active ride view)\r\n        this.router.navigate(['/home'], { \r\n          queryParams: { \r\n            rideId: data.rideId,\r\n            status: notificationType\r\n          }\r\n        });\r\n        break;\r\n        \r\n      case 'ride_completed':\r\n        // Navigate to rating page or trip summary\r\n        if (data.rideId) {\r\n          this.router.navigate(['/rating'], { \r\n            queryParams: { rideId: data.rideId }\r\n          });\r\n        } else {\r\n          this.router.navigate(['/history']);\r\n        }\r\n        break;\r\n        \r\n      default:\r\n        // Default to home page\r\n        console.log('Unknown notification type, navigating to home');\r\n        this.router.navigate(['/home']);\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Request notification permission\r\n   */\r\n  async requestPermission(): Promise<boolean> {\r\n    try {\r\n      if (this.isNative) {\r\n        return await this.requestNativePermission();\r\n      } else {\r\n        return await this.requestWebPermission();\r\n      }\r\n    } catch (e) {\r\n      console.error('Error requesting permission:', e);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private async requestNativePermission(): Promise<boolean> {\r\n    try {\r\n      const canRequest = await OneSignal.Notifications.canRequestPermission();\r\n      if (canRequest) {\r\n        const accepted = await OneSignal.Notifications.requestPermission(true);\r\n        console.log('User accepted notifications:', accepted);\r\n        return accepted;\r\n      } else {\r\n        console.log('Cannot request permission');\r\n        return false;\r\n      }\r\n    } catch (e) {\r\n      console.error('Native permission request error:', e);\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  private async requestWebPermission(): Promise<boolean> {\r\n    return new Promise((resolve) => {\r\n      if (typeof OneSignalDeferred === 'undefined') {\r\n        resolve(false);\r\n        return;\r\n      }\r\n      \r\n      OneSignalDeferred.push(async (OneSignalSDK: any) => {\r\n        try {\r\n          await OneSignalSDK.Notifications.requestPermission();\r\n          const permission = await OneSignalSDK.Notifications.permission;\r\n          resolve(permission);\r\n        } catch (e) {\r\n          console.error('Web permission request error:', e);\r\n          resolve(false);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // iOS-specific permission handling\r\n  async OneSignalIOSPermission(): Promise<void> {\r\n    if (!this.isNative) return;\r\n    \r\n    try {\r\n      if (Capacitor.getPlatform() === 'ios') {\r\n        const ios_permission = await OneSignal.Notifications.permissionNative();\r\n        // OSNotificationPermission.Authorized = 2\r\n        if (ios_permission !== 2) {\r\n          this.OneSignalPermission();\r\n        } else {\r\n          this.requestPermission();\r\n        }\r\n      } else {\r\n        // For Android\r\n        this.OneSignalPermission();\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  // Call this function when your app starts\r\n  async OneSignalPermission(msg: string = ''): Promise<void> {\r\n    if (!this.isNative) {\r\n      // For web, directly request permission\r\n      await this.requestWebPermission();\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const hasPermission = await OneSignal.Notifications.getPermissionAsync();\r\n      console.log('hasPermission:', hasPermission);\r\n      if (!hasPermission) {\r\n        // Show prompt\r\n        this.showAlert(msg);\r\n      }\r\n    } catch (e) {\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  showAlert(msg: string): void {\r\n    this.alertCtrl\r\n      .create({\r\n        header: `Allow Push Notifications${msg}`,\r\n        message:\r\n          'Please allow us to send you notifications to get latest offers and order updates...',\r\n        buttons: [\r\n          {\r\n            text: \"Don't Allow\",\r\n            role: 'cancel',\r\n            handler: () => {\r\n              console.log('Confirm Cancel');\r\n              this.OneSignalPermission(\" (It's mandatory)\");\r\n            },\r\n          },\r\n          {\r\n            text: 'Allow',\r\n            handler: () => {\r\n              this.requestPermission();\r\n            },\r\n          },\r\n        ],\r\n      })\r\n      .then((alertEl) => alertEl.present());\r\n  }\r\n\r\n  /**\r\n   * Set external user ID for logged-in user\r\n   * Call this after user logs in\r\n   */\r\n  async setExternalUserId(userId: string): Promise<void> {\r\n    if (!userId) {\r\n      console.warn('Cannot set empty external user ID');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (this.isNative) {\r\n        await OneSignal.login(userId);\r\n        this.externalUserId = userId;\r\n        console.log('OneSignal external user ID set (native):', userId);\r\n      } else {\r\n        if (typeof OneSignalDeferred !== 'undefined') {\r\n          OneSignalDeferred.push(async (OneSignalSDK: any) => {\r\n            await OneSignalSDK.login(userId);\r\n            this.externalUserId = userId;\r\n            console.log('OneSignal external user ID set (web):', userId);\r\n          });\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error('Error setting external user ID:', e);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove external user ID on logout\r\n   * Call this when user logs out\r\n   */\r\n  async removeExternalUserId(): Promise<void> {\r\n    try {\r\n      if (this.isNative) {\r\n        await OneSignal.logout();\r\n        this.externalUserId = null;\r\n        console.log('OneSignal external user ID removed (native)');\r\n      } else {\r\n        if (typeof OneSignalDeferred !== 'undefined') {\r\n          OneSignalDeferred.push(async (OneSignalSDK: any) => {\r\n            await OneSignalSDK.logout();\r\n            this.externalUserId = null;\r\n            console.log('OneSignal external user ID removed (web)');\r\n          });\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error('Error removing external user ID:', e);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current player ID (subscription ID)\r\n   */\r\n  async getPlayerId(): Promise<string | null> {\r\n    if (this.playerID) return this.playerID;\r\n\r\n    try {\r\n      if (this.isNative) {\r\n        const subscription = await OneSignal.User.pushSubscription.getIdAsync();\r\n        this.playerID = subscription;\r\n      } else if (typeof OneSignalDeferred !== 'undefined') {\r\n        return new Promise((resolve) => {\r\n          OneSignalDeferred.push(async (OneSignalSDK: any) => {\r\n            const id = await OneSignalSDK.User.PushSubscription.id;\r\n            this.playerID = id || null;\r\n            resolve(this.playerID);\r\n          });\r\n        });\r\n      }\r\n      return this.playerID;\r\n    } catch (e) {\r\n      console.error('Error getting player ID:', e);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // ==========================================\r\n  // Backend API Methods\r\n  // ==========================================\r\n\r\n  private getHeaders(): HttpHeaders {\r\n    return new HttpHeaders()\r\n      .set('Accept', 'application/json')\r\n      .set('Content-Type', 'application/json');\r\n  }\r\n\r\n  /**\r\n   * Test method to verify alerts are working on all platforms\r\n   * Call this from any component to test: this.oneSignalService.testPushNotificationAlerts()\r\n   */\r\n  async testPushNotificationAlerts(): Promise<void> {\r\n    console.log(' Testing push notification alerts...');\r\n    \r\n    // Request browser notification permission first (for web)\r\n    if (!this.isNative) {\r\n      await this.requestBrowserNotificationPermission();\r\n    }\r\n    \r\n    // Test success notification\r\n    await this.showSuccessToast('Test Success Alert', {\r\n      platform: this.isNative ? 'Native (iOS/Android)' : 'Web',\r\n      timestamp: new Date().toISOString(),\r\n      message: 'This is a test success notification'\r\n    });\r\n    \r\n    // After 2 seconds, test error notification\r\n    setTimeout(async () => {\r\n      await this.showErrorToast('Test Error Alert', {\r\n        status: 500,\r\n        statusText: 'Test Error',\r\n        message: 'This is a test error notification',\r\n        details: 'If you can see this, error alerts are working!'\r\n      });\r\n    }, 2000);\r\n  }\r\n\r\n  /**\r\n   * Request browser notification permission\r\n   */\r\n  private async requestBrowserNotificationPermission(): Promise<boolean> {\r\n    if (typeof window === 'undefined' || !('Notification' in window)) {\r\n      console.log('Browser notifications not supported');\r\n      return false;\r\n    }\r\n\r\n    if (Notification.permission === 'granted') {\r\n      return true;\r\n    }\r\n\r\n    if (Notification.permission !== 'denied') {\r\n      const permission = await Notification.requestPermission();\r\n      return permission === 'granted';\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Show a browser notification (Chrome/Firefox/Safari)\r\n   */\r\n  private showBrowserNotification(title: string, body: string, type: 'success' | 'error'): void {\r\n    if (typeof window === 'undefined' || !('Notification' in window)) {\r\n      console.log('Browser notifications not supported');\r\n      return;\r\n    }\r\n\r\n    if (Notification.permission === 'granted') {\r\n      const icon = type === 'success' \r\n        ? 'https://cdn-icons-png.flaticon.com/512/190/190411.png'  // Green checkmark\r\n        : 'https://cdn-icons-png.flaticon.com/512/753/753345.png'; // Red X\r\n      \r\n      const notification = new Notification(title, {\r\n        body: body,\r\n        icon: icon,\r\n        badge: icon,\r\n        tag: `push-notification-${Date.now()}`,\r\n        requireInteraction: true, // Keep notification until user interacts\r\n        silent: false\r\n      });\r\n\r\n      notification.onclick = () => {\r\n        window.focus();\r\n        notification.close();\r\n      };\r\n\r\n      // Auto close after 10 seconds\r\n      setTimeout(() => notification.close(), 10000);\r\n    } else {\r\n      console.log('Browser notification permission not granted');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show success toast notification\r\n   */\r\n  private async showSuccessToast(message: string, details?: any): Promise<void> {\r\n    console.log(' Push Notification Success:', message, details);\r\n    \r\n    if (this.showDebugAlerts) {\r\n      // Show browser notification on web\r\n      if (!this.isNative) {\r\n        this.showBrowserNotification(\r\n          ' Push Notification Success',\r\n          message,\r\n          'success'\r\n        );\r\n      }\r\n\r\n      // Also show Ionic toast for in-app visibility\r\n      this.ngZone.run(async () => {\r\n        try {\r\n          const toast = await this.toastCtrl.create({\r\n            message: ` ${message}`,\r\n            duration: 5000,\r\n            position: 'top',\r\n            color: 'success',\r\n            buttons: [\r\n              {\r\n                text: 'Details',\r\n                handler: () => {\r\n                  this.showDetailedAlert('Push Notification Success', message, details);\r\n                }\r\n              },\r\n              {\r\n                text: 'OK',\r\n                role: 'cancel'\r\n              }\r\n            ]\r\n          });\r\n          await toast.present();\r\n        } catch (e) {\r\n          console.error('Error showing success toast:', e);\r\n          // Fallback to browser alert\r\n          alert(` ${message}\\n\\nDetails: ${JSON.stringify(details, null, 2)}`);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show error toast notification\r\n   */\r\n  private async showErrorToast(message: string, error: any): Promise<void> {\r\n    const errorDetails = this.formatErrorDetails(error);\r\n    console.error(' Push Notification Error:', message, errorDetails);\r\n    \r\n    if (this.showDebugAlerts) {\r\n      // Show browser notification on web\r\n      if (!this.isNative) {\r\n        const errorSummary = typeof errorDetails === 'object' \r\n          ? (errorDetails.message || errorDetails.statusText || JSON.stringify(errorDetails).substring(0, 100))\r\n          : String(errorDetails).substring(0, 100);\r\n        \r\n        this.showBrowserNotification(\r\n          ' Push Notification Error',\r\n          `${message}: ${errorSummary}`,\r\n          'error'\r\n        );\r\n      }\r\n\r\n      // Also show Ionic toast for in-app visibility\r\n      this.ngZone.run(async () => {\r\n        try {\r\n          const toast = await this.toastCtrl.create({\r\n            message: ` ${message}`,\r\n            duration: 8000,\r\n            position: 'top',\r\n            color: 'danger',\r\n            buttons: [\r\n              {\r\n                text: 'View Error',\r\n                handler: () => {\r\n                  this.showDetailedAlert('Push Notification Error', message, errorDetails);\r\n                }\r\n              },\r\n              {\r\n                text: 'OK',\r\n                role: 'cancel'\r\n              }\r\n            ]\r\n          });\r\n          await toast.present();\r\n        } catch (e) {\r\n          console.error('Error showing error toast:', e);\r\n          // Fallback to browser alert\r\n          alert(` ${message}\\n\\nError: ${JSON.stringify(errorDetails, null, 2)}`);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show detailed alert with full error/success information\r\n   */\r\n  private async showDetailedAlert(header: string, message: string, details: any): Promise<void> {\r\n    const detailsString = typeof details === 'string' \r\n      ? details \r\n      : JSON.stringify(details, null, 2);\r\n    \r\n    // Wrap in NgZone to ensure UI updates work on web\r\n    this.ngZone.run(async () => {\r\n      try {\r\n        const alert = await this.alertCtrl.create({\r\n          header: header,\r\n          subHeader: message,\r\n          message: `<pre style=\"white-space: pre-wrap; word-wrap: break-word; font-size: 12px; max-height: 300px; overflow-y: auto;\">${detailsString}</pre>`,\r\n          buttons: [\r\n            {\r\n              text: 'Copy to Console',\r\n              handler: () => {\r\n                console.log('=== PUSH NOTIFICATION DETAILS ===');\r\n                console.log('Header:', header);\r\n                console.log('Message:', message);\r\n                console.log('Details:', details);\r\n                console.log('=================================');\r\n              }\r\n            },\r\n            {\r\n              text: 'OK',\r\n              role: 'cancel'\r\n            }\r\n          ],\r\n          cssClass: 'push-notification-alert'\r\n        });\r\n        await alert.present();\r\n      } catch (e) {\r\n        console.error('Error showing detailed alert:', e);\r\n        // Fallback to browser alert\r\n        alert(`${header}\\n${message}\\n\\n${detailsString}`);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Format error details for display\r\n   */\r\n  private formatErrorDetails(error: any): any {\r\n    if (error instanceof HttpErrorResponse) {\r\n      return {\r\n        status: error.status,\r\n        statusText: error.statusText,\r\n        url: error.url,\r\n        message: error.message,\r\n        error: error.error,\r\n        headers: error.headers?.keys()?.reduce((acc: any, key: string) => {\r\n          acc[key] = error.headers.get(key);\r\n          return acc;\r\n        }, {})\r\n      };\r\n    }\r\n    \r\n    if (error instanceof Error) {\r\n      return {\r\n        name: error.name,\r\n        message: error.message,\r\n        stack: error.stack\r\n      };\r\n    }\r\n    \r\n    return error;\r\n  }\r\n\r\n  /**\r\n   * Send notification to specific player IDs via backend\r\n   * POST /push/send\r\n   */\r\n  sendToPlayerIds(request: SendNotificationRequest): Observable<any> {\r\n    console.log(' Sending notification to player IDs:', request);\r\n    \r\n    return this.http.post<any>(\r\n      `${this.backendUrl}/push/send`,\r\n      request,\r\n      { headers: this.getHeaders() }\r\n    ).pipe(\r\n      tap((response) => {\r\n        this.showSuccessToast('Notification sent to player IDs', {\r\n          request: request,\r\n          response: response\r\n        });\r\n      }),\r\n      catchError((error) => {\r\n        this.showErrorToast('Failed to send notification to player IDs', error);\r\n        return of({ success: false, error: this.formatErrorDetails(error) });\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Send notification by external user IDs via backend\r\n   * POST /push/send-by-user-id\r\n   */\r\n  sendByUserIds(request: SendByUserIdRequest): Observable<any> {\r\n    console.log(' Sending notification by user IDs:', request);\r\n    \r\n    return this.http.post<any>(\r\n      `${this.backendUrl}/push/send-by-user-id`,\r\n      request,\r\n      { headers: this.getHeaders() }\r\n    ).pipe(\r\n      tap((response) => {\r\n        this.showSuccessToast('Notification sent by user IDs', {\r\n          request: request,\r\n          response: response\r\n        });\r\n      }),\r\n      catchError((error) => {\r\n        this.showErrorToast('Failed to send notification by user IDs', error);\r\n        return of({ success: false, error: this.formatErrorDetails(error) });\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Send ride notification via backend\r\n   * POST /push/ride-notification\r\n   */\r\n  sendRideNotification(request: RideNotificationRequest): Observable<any> {\r\n    console.log(' Sending ride notification:', request);\r\n    \r\n    return this.http.post<any>(\r\n      `${this.backendUrl}/push/ride-notification`,\r\n      request,\r\n      { headers: this.getHeaders() }\r\n    ).pipe(\r\n      tap((response) => {\r\n        this.showSuccessToast(`Ride notification sent (${request.notificationType})`, {\r\n          request: request,\r\n          response: response\r\n        });\r\n      }),\r\n      catchError((error) => {\r\n        this.showErrorToast(`Failed to send ride notification (${request.notificationType})`, error);\r\n        return of({ success: false, error: this.formatErrorDetails(error) });\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Broadcast notification to all users via backend\r\n   * POST /push/send-to-all\r\n   */\r\n  sendToAll(request: BroadcastNotificationRequest): Observable<any> {\r\n    console.log(' Broadcasting notification to all:', request);\r\n    \r\n    return this.http.post<any>(\r\n      `${this.backendUrl}/push/send-to-all`,\r\n      request,\r\n      { headers: this.getHeaders() }\r\n    ).pipe(\r\n      tap((response) => {\r\n        this.showSuccessToast('Notification broadcast to all users', {\r\n          request: request,\r\n          response: response\r\n        });\r\n      }),\r\n      catchError((error) => {\r\n        this.showErrorToast('Failed to broadcast notification', error);\r\n        return of({ success: false, error: this.formatErrorDetails(error) });\r\n      })\r\n    );\r\n  }\r\n\r\n  // ==========================================\r\n  // Legacy direct OneSignal API method (kept for backward compatibility)\r\n  // ==========================================\r\n\r\n  sendNotification(msg: string, title: string, data: any = null, external_id?: any): Observable<any> {\r\n    console.log(' Sending notification via OneSignal API:', { title, msg, data, external_id });\r\n    \r\n    let body: any = {\r\n      app_id: environment.onesignal.appId,\r\n      name: 'notification',\r\n      target_channel: \"push\",\r\n      headings: { en: title },\r\n      contents: { en: msg },\r\n      android_channel_id: environment.onesignal.android_channel_id,\r\n      small_icon: 'mipmap/ic_notification',\r\n      large_icon: 'mipmap/ic_notification_large',\r\n      ios_sound: 'sound.wav',\r\n      data: data,\r\n    };\r\n\r\n    if (external_id) {\r\n      // Specific device or devices\r\n      body = {\r\n        ...body,\r\n        include_aliases: {\r\n          external_id: Array.isArray(external_id) ? external_id : [external_id]\r\n        },\r\n      };\r\n    } else {\r\n      body = {\r\n        ...body,\r\n        included_segments: ['Active Subscriptions', 'Total Subscriptions'],\r\n      };\r\n    }\r\n\r\n    const headers = new HttpHeaders()\r\n      .set('accept', 'application/json')\r\n      .set('Content-Type', 'application/json')\r\n      .set('Authorization', `Basic ${environment.onesignal.restApiKey}`);\r\n      \r\n    return this.http.post<any>(\r\n      'https://onesignal.com/api/v1/notifications',\r\n      body,\r\n      { headers: headers }\r\n    ).pipe(\r\n      tap((response) => {\r\n        this.showSuccessToast('Notification sent via OneSignal API', {\r\n          title: title,\r\n          message: msg,\r\n          external_id: external_id,\r\n          response: response\r\n        });\r\n      }),\r\n      catchError((error) => {\r\n        this.showErrorToast('Failed to send notification via OneSignal API', error);\r\n        return of({ success: false, error: this.formatErrorDetails(error) });\r\n      })\r\n    );\r\n  }\r\n\r\n  // ==========================================\r\n  // Utility Methods\r\n  // ==========================================\r\n\r\n  /**\r\n   * Enable or disable debug alert popups\r\n   */\r\n  setDebugAlerts(enabled: boolean): void {\r\n    this.showDebugAlerts = enabled;\r\n    console.log(`Push notification debug alerts ${enabled ? 'enabled' : 'disabled'}`);\r\n  }\r\n\r\n  /**\r\n   * Check if OneSignal is initialized\r\n   */\r\n  isOneSignalInitialized(): boolean {\r\n    return this.isInitialized;\r\n  }\r\n\r\n  /**\r\n   * Check if running on native platform\r\n   */\r\n  isNativePlatform(): boolean {\r\n    return this.isNative;\r\n  }\r\n\r\n  /**\r\n   * Get current permission status\r\n   */\r\n  async getPermissionStatus(): Promise<boolean> {\r\n    try {\r\n      if (this.isNative) {\r\n        return await OneSignal.Notifications.getPermissionAsync();\r\n      } else if (typeof OneSignalDeferred !== 'undefined') {\r\n        return new Promise((resolve) => {\r\n          OneSignalDeferred.push(async (OneSignalSDK: any) => {\r\n            const permission = await OneSignalSDK.Notifications.permission;\r\n            resolve(permission);\r\n          });\r\n        });\r\n      }\r\n      return false;\r\n    } catch (e) {\r\n      console.error('Error getting permission status:', e);\r\n      return false;\r\n    }\r\n  }\r\n}","import { Component, Input, OnInit, OnDestroy, ViewChild, AfterViewInit, ChangeDetectorRef } from '@angular/core';\r\nimport { ModalController, ToastController } from '@ionic/angular';\r\nimport { Auth, PhoneAuthProvider, signInWithCredential } from '@angular/fire/auth';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { OverlayService } from '../services/overlay.service';\r\nimport { AvatarService } from '../services/avatar.service';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-otp',\r\n  templateUrl: './otp.component.html',\r\n  styleUrls: ['./otp.component.scss'],\r\n})\r\nexport class OtpComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  @Input() phone: string;\r\n  @Input() countryCode: string;\r\n  @Input() defaultOtp: string;  // New input property for default OTP\r\n  @Input() confirmationResult: any;  // Add this input property\r\n\r\n  isLoading = false;\r\n  approve: boolean;\r\n  approve2: boolean;\r\n  otp: string;\r\n  config = {\r\n    length: 6,\r\n    allowNumbersOnly: true,\r\n  };\r\n  countdown: number;\r\n  countdownInterval: any;\r\n  @ViewChild('otpInput') otpInput;  // Get reference to the ng-otp-input component\r\n\r\n  constructor(\r\n    public modalCtrl: ModalController,\r\n    public overlay: OverlayService,\r\n    public toastCtrl: ToastController,\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private avatar: AvatarService,\r\n    private cdr: ChangeDetectorRef,  // Inject ChangeDetectorRef\r\n    private translate: TranslateService,\r\n    private fireAuth: Auth\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    console.log(this.phone);\r\n    this.overlay.hideLoader();  // Hide all loaders when OTP page is called\r\n    this.startCountdown(60);  // Start a 60-second countdown\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // Set the OTP input value after the view is initialized\r\n    if (this.defaultOtp) {\r\n      this.setOtp(this.defaultOtp);\r\n      this.cdr.detectChanges();  // Manually trigger change detection\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    clearInterval(this.countdownInterval);  // Clear the interval when the component is destroyed\r\n  }\r\n\r\n  onOtpChange(event) {\r\n    this.otp = event;\r\n    console.log(this.otp);\r\n  }\r\n\r\n  closeModal() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n\r\n  async resend(): Promise<void> {\r\n    try {\r\n      this.overlay.showLoader(await this.translate.get('RESENDING_OTP').toPromise());\r\n      const response = await this.auth.signInWithPhoneNumber(this.countryCode + this.phone);\r\n      console.log(response);\r\n      this.confirmationResult = response;  // Update the confirmation result\r\n      this.overlay.hideLoader();\r\n      this.showToast(await this.translate.get('OTP_RESENT').toPromise());\r\n      this.startCountdown(60);  // Restart the countdown when resending the OTP\r\n    } catch (e) {\r\n      console.error('Resend OTP error:', e);\r\n      this.overlay.hideLoader();\r\n      \r\n      let errorMessage = await this.translate.get('RESEND_FAILED').toPromise();\r\n      \r\n      // Handle specific error codes\r\n      if (e.code === 'auth/too-many-requests') {\r\n        errorMessage = await this.translate.get('PLEASE_WAIT').toPromise();\r\n      } else if (e.code === 'auth/network-request-failed') {\r\n        errorMessage = await this.translate.get('NETWORK_ERROR').toPromise();\r\n      }\r\n      \r\n      this.showToast(errorMessage);\r\n    }\r\n  }\r\n\r\n  async verifyOtp(): Promise<void> {\r\n    try {\r\n      this.approve2 = true;\r\n      this.overlay.showLoader('');\r\n      \r\n      let response;\r\n      if (this.confirmationResult && this.confirmationResult.verificationId) {\r\n        // Create credential using the verification ID and OTP code\r\n        const credential = PhoneAuthProvider.credential(this.confirmationResult.verificationId, this.otp);\r\n        // Sign in with the credential\r\n        response = await signInWithCredential(this.fireAuth, credential);\r\n      } else {\r\n        // Fallback for test mode or if verificationId is missing\r\n        response = await this.confirmationResult.confirm(this.otp);\r\n      }\r\n      \r\n      // Wait briefly to ensure Firebase Auth state is updated\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      this.approve2 = false;\r\n      this.overlay.hideLoader();\r\n      this.modalCtrl.dismiss({ user: response.user });\r\n      \r\n    } catch (e) {\r\n      console.error('OTP verification error:', e);\r\n      this.clearOtpInput();\r\n      this.overlay.hideLoader();\r\n      this.approve2 = false;\r\n      \r\n      let errorMessage = await this.translate.get('INVALID_OTP').toPromise();\r\n      \r\n      // Handle specific error codes\r\n      if (e.code === 'auth/invalid-verification-code') {\r\n        errorMessage = await this.translate.get('INVALID_OTP').toPromise();\r\n      } else if (e.code === 'auth/code-expired') {\r\n        errorMessage = await this.translate.get('RESEND_OTP').toPromise();\r\n      } else if (e.code === 'auth/network-request-failed') {\r\n        errorMessage = await this.translate.get('NETWORK_ERROR').toPromise();\r\n      } else if (e.code === 'auth/too-many-requests') {\r\n        errorMessage = await this.translate.get('PLEASE_WAIT').toPromise();\r\n      }\r\n      \r\n      this.showToast(errorMessage);\r\n    } finally {\r\n      // Ensure loader is always hidden, even if there's an unexpected error\r\n      this.overlay.hideLoader();\r\n      this.approve2 = false;\r\n    }\r\n  }\r\n\r\n  async showToast(message: string) {\r\n    const toast = await this.toastCtrl.create({\r\n      message: message,\r\n      duration: 2000,\r\n      position: 'bottom',\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  startCountdown(seconds: number) {\r\n    this.countdown = seconds;\r\n    clearInterval(this.countdownInterval);  // Clear any existing intervals\r\n    this.countdownInterval = setInterval(() => {\r\n      this.countdown--;\r\n      if (this.countdown <= 0) {\r\n        clearInterval(this.countdownInterval);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  clearOtpInput() {\r\n    this.otpInput.setValue('');  // Clear the value of ng-otp-input\r\n    this.otp = '';  // Clear the OTP variable in the component\r\n  }\r\n\r\n  setOtp(otp: string) {\r\n    this.otp = otp;\r\n    this.otpInput.setValue(otp);  // Set the value in the ng-otp-input component\r\n  }\r\n}","<ion-header class=\"ion-no-border\" [translucent]=\"true\">\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button color=\"primary\" (click)=\"closeModal()\">\r\n        <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n    <ion-title>{{ 'VERIFY_OTP' | translate }}</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-no-border\">\r\n  <ion-list lines=\"none\" class=\"ion-padding\">\r\n    <ion-list-header>\r\n      <ion-label align=\"center\"><h1>{{ 'ENTER_VERIFICATION' | translate }}</h1></ion-label>\r\n    </ion-list-header>\r\n\r\n    <ion-item class=\"ion-margin\" lines=\"none\">\r\n      <ion-label>\r\n        <div class=\"ion-padding-top ion-padding-bottom\" align=\"center\">\r\n          <ng-otp-input #otpInput\r\n            (onInputChange)=\"onOtpChange($event)\"\r\n            [config]=\"{\r\n              length: 6,\r\n              inputStyles: {\r\n                'width': '40px',\r\n                'height': '40px',\r\n                'font-size': '20px',\r\n                'font-weight': '600',\r\n                'background-color': '#ffffff',\r\n                'color': '#333333',\r\n                'border': '1px solid #cccccc',\r\n                'border-radius': '8px'\r\n              }\r\n            }\">\r\n          </ng-otp-input>\r\n        </div>\r\n      </ion-label>\r\n    </ion-item>\r\n\r\n    <ion-item class=\"ion-margin\" lines=\"none\">\r\n      <ion-label>\r\n        <div class=\"ion-padding-top ion-padding-bottom\" align=\"center\">\r\n          <span class=\"countdown\">{{ countdown }} {{ 'SECONDS_REMAINING' | translate }}</span>\r\n        </div>\r\n      </ion-label>\r\n    </ion-item>\r\n\r\n    <ion-button \r\n      shape='round' \r\n      fill=\"outline\" \r\n      size=\"large\" \r\n      expand=\"block\" \r\n      color=\"primary\" \r\n      slot=\"start\" \r\n      (click)=\"resend()\"\r\n      [disabled]=\"countdown > 0\">\r\n      {{ 'RESEND_OTP' | translate }}\r\n    </ion-button>\r\n    <ion-button shape='round' size=\"large\" expand=\"block\" slot=\"end\" [disabled]=\"!otp || otp.length !== 6\" color=\"primary\" (click)=\"verifyOtp()\">\r\n      <ng-container *ngIf=\"!approve2\">\r\n        <ion-label>{{ 'CONTINUE' | translate }}</ion-label>\r\n        <ion-icon color='light' slot=\"end\" name=\"arrow-forward\"></ion-icon>\r\n      </ng-container>\r\n      <ion-progress-bar *ngIf=\"approve2\" color='light' type=\"indeterminate\"></ion-progress-bar>\r\n    </ion-button>\r\n  </ion-list>\r\n</ion-content>\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  Auth,\r\n  signOut,\r\n  signInWithPhoneNumber,\r\n  signInWithPopup,\r\n  getAuth,\r\n  linkWithCredential,\r\n  unlink,\r\n  fetchSignInMethodsForEmail,\r\n  signInWithEmailAndPassword\r\n} from '@angular/fire/auth';\r\nimport { RecaptchaVerifier, GoogleAuthProvider } from 'firebase/auth';\r\nimport { User } from '@angular/fire/auth';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthService {\r\n  appVerifier: RecaptchaVerifier;\r\n  confirmationResult: any;\r\n  user$: Observable<User | null>;\r\n  private isRecaptchaInitialized = false;\r\n\r\n  constructor(private auth: Auth) {\r\n    this.user$ = new Observable<User | null>((subscriber) => {\r\n      this.auth.onAuthStateChanged(subscriber);\r\n    });\r\n  }\r\n\r\n  // Initialize RecaptchaVerifier\r\n  recaptcha() {\r\n    try {\r\n      // Clear existing verifier if it exists\r\n      if (this.appVerifier) {\r\n        this.appVerifier.clear();\r\n        this.appVerifier = null;\r\n        this.isRecaptchaInitialized = false;\r\n      }\r\n\r\n      // Check if the container exists\r\n      const container = document.getElementById('sign-in-button');\r\n      if (!container) {\r\n        console.error('reCAPTCHA container not found');\r\n        return;\r\n      }\r\n\r\n      // Clear the container\r\n      container.innerHTML = '';\r\n\r\n      this.appVerifier = new RecaptchaVerifier('sign-in-button', {\r\n        size: 'invisible',\r\n        callback: (response) => {\r\n          console.log('reCAPTCHA verified:', response);\r\n        },\r\n        'expired-callback': () => {\r\n          console.log('reCAPTCHA expired, reinitializing...');\r\n          this.isRecaptchaInitialized = false;\r\n          this.recaptcha();\r\n        }\r\n      }, this.auth);\r\n\r\n      this.appVerifier.render().then(() => {\r\n        this.isRecaptchaInitialized = true;\r\n        console.log('reCAPTCHA initialized successfully');\r\n      }).catch((error) => {\r\n        console.error('reCAPTCHA render error:', error);\r\n        this.isRecaptchaInitialized = false;\r\n      });\r\n    } catch (error) {\r\n      console.error('reCAPTCHA initialization error:', error);\r\n      this.isRecaptchaInitialized = false;\r\n    }\r\n  }\r\n\r\n  async signInWithPhoneNumber(phoneNumber: string) {\r\n    try {\r\n      // Ensure reCAPTCHA is initialized\r\n      if (!this.appVerifier || !this.isRecaptchaInitialized) {\r\n        console.log(' reCAPTCHA not initialized, initializing now...');\r\n        this.recaptcha();\r\n        // Wait for initialization\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n      }\r\n\r\n      if (!this.appVerifier) {\r\n        const error: any = new Error('reCAPTCHA not initialized');\r\n        error.code = 'auth/captcha-check-failed';\r\n        console.error(' reCAPTCHA initialization failed');\r\n        throw error;\r\n      }\r\n\r\n      console.log(' Attempting to sign in with phone number:', phoneNumber);\r\n      console.log(' reCAPTCHA initialized:', this.isRecaptchaInitialized);\r\n      console.log(' Platform:', navigator.userAgent);\r\n      \r\n      const confirmationResult = await signInWithPhoneNumber(this.auth, phoneNumber, this.appVerifier);\r\n      this.confirmationResult = confirmationResult;\r\n      console.log(' Phone authentication successful');\r\n      return confirmationResult;\r\n    } catch (e) {\r\n      // Comprehensive error logging\r\n      console.error('');\r\n      console.error(' FIREBASE AUTHENTICATION ERROR');\r\n      console.error('');\r\n      console.error(' Phone Number:', phoneNumber);\r\n      console.error(' Error Code:', e.code || 'NO_CODE');\r\n      console.error(' Error Message:', e.message || 'NO_MESSAGE');\r\n      console.error(' Full Error Object:', JSON.stringify(e, Object.getOwnPropertyNames(e), 2));\r\n      console.error(' User Agent:', navigator.userAgent);\r\n      console.error(' reCAPTCHA Status:', this.isRecaptchaInitialized);\r\n      console.error(' Timestamp:', new Date().toISOString());\r\n      \r\n      // Detailed error analysis\r\n      if (e.code === 'auth/invalid-app-credential') {\r\n        console.error('');\r\n        console.error(' CRITICAL: Invalid App Credential Error');\r\n        console.error('');\r\n        console.error('This error means Firebase cannot verify your app.');\r\n        console.error('');\r\n        console.error(' SOLUTIONS FOR ANDROID:');\r\n        console.error('1. Add SHA-1 fingerprint to Firebase Console');\r\n        console.error('2. Add SHA-256 fingerprint to Firebase Console');\r\n        console.error('3. Download new google-services.json');\r\n        console.error('4. Replace old google-services.json');\r\n        console.error('5. Rebuild app: ionic capacitor sync android');\r\n        console.error('');\r\n        console.error(' TO GET SHA FINGERPRINTS:');\r\n        console.error('cd android && .\\\\gradlew signingReport');\r\n        console.error('');\r\n        console.error(' Firebase Console:');\r\n        console.error('https://console.firebase.google.com/project/pegasus-2be94/settings/general');\r\n        console.error('');\r\n      } else if (e.code === 'auth/quota-exceeded' || e.code === 'auth/too-many-requests') {\r\n        console.error('');\r\n        console.error(' Quota/Rate Limit Error');\r\n        console.error('');\r\n        console.error('Possible causes:');\r\n        console.error('1. SMS quota exceeded (check Firebase Console)');\r\n        console.error('2. Too many requests from this device');\r\n        console.error('3. Billing not enabled on Firebase project');\r\n        console.error('');\r\n      } else if (e.code === 'auth/captcha-check-failed') {\r\n        console.error('');\r\n        console.error(' reCAPTCHA Verification Failed');\r\n        console.error('');\r\n        console.error('Possible causes:');\r\n        console.error('1. reCAPTCHA container not found in DOM');\r\n        console.error('2. Network connectivity issues');\r\n        console.error('3. Invalid Firebase configuration');\r\n        console.error('');\r\n      } else if (e.code === 'auth/network-request-failed') {\r\n        console.error('');\r\n        console.error(' Network Request Failed');\r\n        console.error('');\r\n        console.error('Check internet connectivity');\r\n        console.error('');\r\n      }\r\n      \r\n      console.error('');\r\n      \r\n      // Reset reCAPTCHA on error\r\n      this.isRecaptchaInitialized = false;\r\n      throw(e);\r\n    }\r\n  }\r\n\r\n  clearRecaptcha() {\r\n    if (this.appVerifier) {\r\n      try {\r\n        this.appVerifier.clear();\r\n      } catch (error) {\r\n        console.error('Error clearing reCAPTCHA:', error);\r\n      }\r\n      this.appVerifier = null;\r\n      this.isRecaptchaInitialized = false;\r\n    }\r\n  }\r\n\r\n  get currentUser() {\r\n    return this.auth.currentUser;\r\n  }\r\n\r\n  async signInWithGoogle() {\r\n    const provider = new GoogleAuthProvider();\r\n    const auth = getAuth();\r\n    return signInWithPopup(auth, provider);\r\n  }\r\n\r\n  async linkGoogleAccount(user: User) {\r\n    const provider = new GoogleAuthProvider();\r\n    try {\r\n      const result = await signInWithPopup(this.auth, provider);\r\n      const credential = GoogleAuthProvider.credentialFromResult(result);\r\n      if (credential) {\r\n        await linkWithCredential(user, credential);\r\n      }\r\n    } catch (error) {\r\n      if (error.code === 'auth/credential-already-in-use') {\r\n        console.error('Error during Google sign-in: ', error);\r\n\r\n        if (error.customData && error.customData.email) {\r\n          const existingSignInMethods = await fetchSignInMethodsForEmail(this.auth, error.customData.email);\r\n          if (existingSignInMethods.includes(GoogleAuthProvider.PROVIDER_ID)) {\r\n            await unlink(this.auth.currentUser, GoogleAuthProvider.PROVIDER_ID);\r\n            const result = await signInWithPopup(this.auth, provider);\r\n            const credential = GoogleAuthProvider.credentialFromResult(result);\r\n            if (credential) {\r\n              await linkWithCredential(user, credential);\r\n            }\r\n          }\r\n        } else {\r\n          console.error('Missing email in error details: ', error);\r\n        }\r\n      } else {\r\n        throw error;\r\n      }\r\n    }\r\n  }\r\n\r\n  async verifyOtp(otp: string) {\r\n    try {\r\n      if (!this.appVerifier) this.recaptcha();\r\n      const result = await this.confirmationResult.confirm(otp);\r\n      console.log(result);\r\n      const user = result?.user;\r\n      console.log(user);\r\n    } catch (e) {\r\n      throw(e?.message);\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    return signOut(this.auth);\r\n  }\r\n\r\n  async signInWithEmailAndPassword(email: string, password: string) {\r\n    try {\r\n      const userCredential = await signInWithEmailAndPassword(this.auth, email, password);\r\n      return userCredential;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n}","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Auth } from '@angular/fire/auth';\r\nimport { collection, collectionData, CollectionReference, doc, docData, DocumentData, endAt, Firestore, getDocs, orderBy, query, setDoc, startAt, updateDoc, onSnapshot, deleteDoc, serverTimestamp, addDoc, getDoc, where, writeBatch } from '@angular/fire/firestore';\r\nimport {\r\n  getDownloadURL,\r\n  ref,\r\n  Storage,\r\n  uploadString,\r\n} from '@angular/fire/storage';\r\nimport { Photo } from '@capacitor/camera';\r\nimport { geohashForLocation, geohashQueryBounds} from 'geofire-common';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { Card } from '../interfaces/card';\r\nimport { Drivers } from '../interfaces/drivers';\r\nimport { Rider } from '../interfaces/rider';\r\nimport { AuthService } from './auth.service';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AvatarService {\r\n  authStateSubscription: any;\r\n  isRandom: boolean;\r\n  bookRide(data: any) {\r\n    throw new Error('Method not implemented.');\r\n  }\r\n  \r\n  directory: any;\r\n  userUID: string;\r\n  userName: string;\r\n  userEmail: string;\r\n  profile: DocumentData;\r\n  pathM: string;\r\n  countryCode: any;\r\n  user: import(\"@angular/fire/auth\").User;\r\n  public driverCollection: CollectionReference<DocumentData>;\r\n  private driversSubject = new BehaviorSubject<Drivers[]>([]);\r\n  drivers$ = this.driversSubject.asObservable();\r\n  public activeListeners: { [key: string]: () => void } = {};\r\n  requestID: string;\r\n  constructor(\r\n    private auth: Auth,\r\n    public firestore: Firestore,\r\n    private storage: Storage,\r\n    private http: HttpClient,\r\n    private authService: AuthService\r\n  ) {\r\n    this.auth.onAuthStateChanged(async (user)=>{\r\n      if (user){\r\n        this.user = user;\r\n\r\n        this.driverCollection = collection(this.firestore, 'Drivers');\r\n     \r\n        this.http.get(\"https://ipapi.co/json/\").subscribe({\r\n          next: (res: any) => {\r\n            console.log('Country detection response:', res);\r\n            this.countryCode = res.country_code || 'NG';\r\n          },\r\n          error: (error) => {\r\n            console.warn('Failed to detect country, using default:', error);\r\n            this.countryCode = 'NG'; // Default fallback\r\n          }\r\n        })\r\n     \r\n        // Add a small delay for Android to ensure Firebase is fully initialized\r\n        setTimeout(async () => {\r\n          try {\r\n            await this.loadUserProfile();\r\n          } catch (error) {\r\n            console.error('Failed to load user profile:', error);\r\n            // Create a minimal offline profile to prevent app from breaking\r\n            this.profile = {\r\n              Rider_id: this.user.uid,\r\n              Rider_name: this.user.displayName || 'Unknown',\r\n              Rider_phone: this.user.phoneNumber || 'Unknown',\r\n              Rider_email: this.user.email || 'Unknown',\r\n              Rider_rating: 0,\r\n              createdAt: new Date().toISOString(),\r\n              offline: true\r\n            };\r\n            console.log('Using offline profile due to error:', this.profile);\r\n          }\r\n        }, 2000); // Increased delay for Android\r\n    \r\n  \r\n    }\r\n \r\n  })\r\n  \r\n  }\r\n\r\n  private async checkFirestoreConnectivity(): Promise<boolean> {\r\n    try {\r\n      console.log('Checking Firestore connectivity...');\r\n      // Try to read a simple document to test connectivity\r\n      const testDoc = await getDoc(doc(this.firestore, '_test_', 'connectivity'));\r\n      console.log('Firestore connectivity check completed');\r\n      return true;\r\n    } catch (error) {\r\n      console.warn('Firestore connectivity issue detected:', error);\r\n      // Don't throw error, just log it and continue\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Android-specific wrapper for Firestore operations with better error handling\r\n  private async executeFirestoreOperation<T>(operation: () => Promise<T>, operationName: string): Promise<T> {\r\n    const maxRetries = 3;\r\n    let lastError: any;\r\n\r\n    for (let attempt = 1; attempt <= maxRetries; attempt++) {\r\n      try {\r\n        console.log(`${operationName} - Attempt ${attempt}`);\r\n        const result = await operation();\r\n        console.log(`${operationName} - Success on attempt ${attempt}`);\r\n        return result;\r\n      } catch (error) {\r\n        lastError = error;\r\n        console.warn(`${operationName} - Failed on attempt ${attempt}:`, error);\r\n\r\n        // Don't retry on certain errors\r\n        if (error.code === 'permission-denied' || error.code === 'not-found') {\r\n          throw error;\r\n        }\r\n\r\n        // Wait before retry (exponential backoff)\r\n        if (attempt < maxRetries) {\r\n          const delay = Math.min(1000 * Math.pow(2, attempt - 1), 5000);\r\n          console.log(`Waiting ${delay}ms before retry...`);\r\n          await new Promise(resolve => setTimeout(resolve, delay));\r\n        }\r\n      }\r\n    }\r\n\r\n    throw lastError;\r\n  }\r\n\r\n\r\n  async loadUserProfile() {\r\n    try {\r\n      console.log('Loading user profile for:', this.user.uid);\r\n      \r\n      const docRef = doc(this.firestore, 'Riders', this.user.uid);\r\n      \r\n      // Use the Android-optimized wrapper for Firestore operations\r\n      const profileDoc = await this.executeFirestoreOperation(\r\n        () => getDoc(docRef),\r\n        'Load User Profile'\r\n      );\r\n      \r\n      if (profileDoc && profileDoc.exists()) {\r\n        this.profile = profileDoc.data();\r\n        console.log('Profile loaded successfully:', this.profile);\r\n      } else {\r\n        console.log('Profile does not exist, creating default profile');\r\n        // Create a default profile if it doesn't exist\r\n        const defaultProfile = {\r\n          Rider_id: this.user.uid,\r\n          Rider_name: this.user.displayName || 'Unknown',\r\n          Rider_phone: this.user.phoneNumber || 'Unknown',\r\n          Rider_email: this.user.email || 'Unknown',\r\n          Rider_rating: 0,\r\n          createdAt: new Date().toISOString()\r\n        };\r\n        \r\n        // Use the wrapper for creating the profile too\r\n        await this.executeFirestoreOperation(\r\n          () => setDoc(docRef, defaultProfile, { merge: true }),\r\n          'Create Default Profile'\r\n        );\r\n        \r\n        this.profile = defaultProfile;\r\n        console.log('Default profile created:', this.profile);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error in loadUserProfile:', error);\r\n      \r\n      // Android-specific error handling\r\n      if (error.code === 'unavailable' || error.code === 'deadline-exceeded') {\r\n        // Create offline profile for Android when Firestore is unavailable\r\n        console.log('Creating offline profile due to Firestore unavailability');\r\n        this.profile = {\r\n          Rider_id: this.user.uid,\r\n          Rider_name: this.user.displayName || 'Unknown',\r\n          Rider_phone: this.user.phoneNumber || 'Unknown',\r\n          Rider_email: this.user.email || 'Unknown',\r\n          Rider_rating: 0,\r\n          createdAt: new Date().toISOString(),\r\n          offline: true\r\n        };\r\n        return; // Don't throw error, continue with offline profile\r\n      } else if (error.code === 'permission-denied') {\r\n        throw new Error('Permission denied. Please ensure you are logged in properly.');\r\n      } else {\r\n        throw new Error(`Failed to load profile: ${error.message}`);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  getCards(): Observable<Card[]> {\r\n    const userDocRef = collection(this.firestore, `Riders/${this.auth.currentUser.uid}/Cards`);\r\n    return collectionData(userDocRef) as Observable<Card[]>;\r\n  }\r\n\r\n\r\n\r\n\r\n  async getUserType(uid: string): Promise<string | null> {\r\n    const userDocRef = doc(this.firestore, `Drivers/${uid}`);\r\n    const userDoc = await getDoc(userDocRef);\r\n    if (userDoc.exists()) {\r\n      return 'driver';\r\n    }\r\n    return null;\r\n  }\r\n\r\n  async checkRiderProfile(uid: string): Promise<boolean> {\r\n    try {\r\n      console.log('Checking rider profile for uid:', uid);\r\n      const riderDocRef = doc(this.firestore, `Riders/${uid}`);\r\n      const riderDoc = await getDoc(riderDocRef);\r\n      \r\n      if (!riderDoc.exists()) {\r\n        console.log('Rider document does not exist for uid:', uid);\r\n        return false;\r\n      }\r\n      \r\n      const data = riderDoc.data();\r\n      // Check if essential profile fields exist (name and email are required for a complete profile)\r\n      const hasRequiredFields = !!(data?.Rider_name && data?.Rider_email);\r\n      console.log('Rider profile check - hasRequiredFields:', hasRequiredFields, 'data:', {\r\n        Rider_name: data?.Rider_name,\r\n        Rider_email: data?.Rider_email,\r\n        Rider_id: data?.Rider_id\r\n      });\r\n      \r\n      return hasRequiredFields;\r\n    } catch (error) {\r\n      console.error('Error checking rider profile:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  async RequestRideWithRiderDetails(requestDetails) {\r\n    // First, validate all input data\r\n    if (!requestDetails || !requestDetails.driverId || !requestDetails.latLng || !requestDetails.dLatLng) {\r\n      console.error('Invalid request details:', requestDetails);\r\n      throw new Error('Invalid request details');\r\n    }\r\n\r\n    // Ensure profile is loaded\r\n    if (!this.profile) {\r\n      try {\r\n        await this.loadUserProfile();\r\n        if (!this.profile) {\r\n          console.error('Failed to load user profile');\r\n          throw new Error('Profile not initialized');\r\n        }\r\n      } catch (profileError) {\r\n        console.error('Error loading profile:', profileError);\r\n        throw new Error(`Profile initialization failed: ${profileError.message}`);\r\n      }\r\n    }\r\n\r\n    try {\r\n      // Check if user is authenticated\r\n      if (!this.user || !this.user.uid) {\r\n        throw new Error('User not authenticated');\r\n      }\r\n\r\n      // Validate driver exists\r\n      const driverDocRef = doc(this.firestore, 'Drivers', requestDetails.driverId);\r\n      const driverDocSnap = await getDoc(driverDocRef);\r\n\r\n      if (!driverDocSnap.exists()) {\r\n        console.error('Driver does not exist:', requestDetails.driverId);\r\n        throw new Error('Driver does not exist');\r\n      }\r\n\r\n      const driverData = driverDocSnap.data();\r\n      \r\n      // Use document ID as Driver_id if not present in the data\r\n      if (!driverData.Driver_id) {\r\n        driverData.Driver_id = driverDocSnap.id;\r\n      }\r\n      \r\n      // Validate driver data - only check Driver_name since Driver_id is now set from doc ID\r\n      if (!driverData.Driver_name) {\r\n        console.error('Invalid driver data (missing Driver_name):', driverData);\r\n        throw new Error('Invalid driver data');\r\n      }\r\n\r\n      // Create a new request document reference\r\n      const requestRef = doc(collection(this.firestore, 'Request'));\r\n      \r\n      // Create the request data object with all required fields\r\n      const loc = {\r\n        Loc_lat: requestDetails.latLng.lat,\r\n        Loc_lng: requestDetails.latLng.lng,\r\n        Rider_id: this.user.uid,\r\n        Rider_name: this.user.displayName || 'Unknown User',\r\n        Rider_phone: this.user.phoneNumber || '',\r\n        Rider_imgUrl: this.user.photoURL || '',\r\n        Rider_rating: this.profile.Rider_rating || 0,\r\n        Des_lat: requestDetails.dLatLng.lat,\r\n        Des_lng: requestDetails.dLatLng.lng,\r\n        Rider_Location: requestDetails.locationAddress || 'Unknown location',\r\n        Rider_Destination: requestDetails.destinationAddress || 'Unknown destination',\r\n        Rider_email: this.user.email || '',\r\n        countDown: 20,\r\n        cancel: false,\r\n        price: requestDetails.price || 0,\r\n        cash: requestDetails.cash || true,\r\n        status: 'pending',\r\n        driverDetails: {\r\n          Driver_id: driverData.Driver_id,\r\n          Driver_name: driverData.Driver_name,\r\n          Driver_phone: driverData.Driver_phone || '',\r\n          Driver_imgUrl: driverData.Driver_imgUrl || '',\r\n          Driver_rating: driverData.Driver_rating || 0,\r\n          Driver_car: driverData.Driver_car || '',\r\n          Driver_cartype: driverData.Driver_cartype || '',\r\n          Driver_plate: driverData.Driver_plate || '',\r\n        },\r\n        requestId: requestRef.id,\r\n        driverId: requestDetails.driverId,\r\n        createdAt: serverTimestamp(), // Add timestamp for better tracking\r\n        // Shared ride fields\r\n        sharedRideAccepted: requestDetails.sharedRideAccepted || false,\r\n        isSharedRide: requestDetails.isSharedRide || false,\r\n        sharedRideId: requestDetails.sharedRideId || null,\r\n        originalPrice: requestDetails.originalPrice || requestDetails.price || 0,\r\n        discountedPrice: requestDetails.discountedPrice || requestDetails.price || 0,\r\n        discountPercent: requestDetails.discountPercent || 0\r\n      };\r\n\r\n      console.log('Creating ride request with data:', {\r\n        requestId: requestRef.id,\r\n        driverId: requestDetails.driverId,\r\n        riderId: this.user.uid,\r\n        sharedRideAccepted: loc.sharedRideAccepted\r\n      });\r\n\r\n      // Create a batch for atomic operations\r\n      const batch = writeBatch(this.firestore);\r\n      \r\n      try {\r\n        // Update driver document\r\n        batch.update(driverDocRef, {\r\n          onlineState: false,\r\n          currentRequestId: requestRef.id\r\n        });\r\n        \r\n        // Set request document\r\n        batch.set(requestRef, loc);\r\n        \r\n        // Add initial message to messages subcollection\r\n        const messagesRef = collection(requestRef, 'messages');\r\n        const initialMessage = {\r\n          msg: 'Ride request initiated',\r\n          from: 'system',\r\n          createdAt: serverTimestamp(),\r\n          myMsg: false,\r\n          fromName: 'System'\r\n        };\r\n        \r\n        // Use a unique ID for the message document to avoid conflicts\r\n        const messageDocRef = doc(messagesRef);\r\n        batch.set(messageDocRef, initialMessage);\r\n\r\n        // Commit all changes as a single atomic operation\r\n        await batch.commit();\r\n        \r\n        console.log('Ride request created successfully:', requestRef.id);\r\n        return requestRef.id;\r\n      } catch (batchError) {\r\n        console.error('Error during batch commit:', batchError);\r\n        // Try to roll back by updating driver status back to online\r\n        try {\r\n          await updateDoc(driverDocRef, { onlineState: true, currentRequestId: null });\r\n        } catch (rollbackError) {\r\n          console.error('Failed to rollback driver status:', rollbackError);\r\n        }\r\n        throw new Error(`Failed to create ride request: ${batchError.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error in RequestRideWithRiderDetails:`, error);\r\n      // Ensure we throw an error with a clear message\r\n      if (error.message) {\r\n        throw error; // Re-throw if it already has a message\r\n      } else {\r\n        throw new Error(`Failed to request ride: ${error}`);\r\n      }\r\n    }\r\n  }\r\n  \r\n\r\n\r\n\r\n  async RestartRequestSinceReject(ID){\r\n    const userDocRef = doc(this.firestore, 'Request', ID)\r\n    await updateDoc(userDocRef, {cancel: false});\r\n  }\r\n\r\n//delete the driver that has a request sent to him.\r\n  async deleDriverFromRequest(ID){\r\n    await deleteDoc(doc(this.firestore, \"Request\", ID))\r\n  }\r\n\r\n  async cancelRide(ID){\r\n    const userDocRef = doc(this.firestore, 'Request', ID)\r\n    await updateDoc(userDocRef, {status: true});\r\n  }\r\n\r\n  //Push driver info into the request database\r\n  async PushDriverToRequest(Driver){\r\n    try{\r\n    const loc: Drivers = {\r\n      geohash: Driver.geohash,\r\n      Driver_lat: Driver.Driver_lat,\r\n      Driver_lng: Driver.Driver_lng,\r\n      Driver_id: Driver.Driver_id,\r\n      Driver_name: Driver.Driver_name,\r\n      Driver_car: Driver.Driver_car,\r\n      Driver_imgUrl: Driver.Driver_imgUrl,\r\n      Driver_rating: Driver.Driver_rating,\r\n      distance: 0,\r\n      duration: 0,\r\n      seats: Driver.seats,\r\n      start: false,\r\n      stop: Driver.stop,\r\n      intransit: Driver.intransit,\r\n      cancel: Driver.cancel,\r\n      Driver_cartype: Driver.Driver_cartype,\r\n      Driver_plate: Driver.Driver_plate,\r\n      time: '',\r\n      onlineState: Driver.onlineState\r\n    };\r\n    await updateDoc(doc(this.firestore, \"Request\",  Driver.Driver_id), { ...loc});\r\n  }catch(e){\r\n    throw new Error(e);\r\n    \r\n  }\r\n   \r\n    console.log('done')\r\n  }\r\n\r\n  async getPriceEstimate(distance: number): Promise<number> {\r\n    try {\r\n      // Convert distance from meters to kilometers\r\n      const distanceInKm = distance / 1000;\r\n      \r\n      // Basic initial estimate based on distance only\r\n      const ratePerKm = 1.5; // Base rate per kilometer\r\n      let estimatedPrice = distanceInKm * ratePerKm;\r\n      \r\n      // Apply minimum fare if applicable\r\n      const minimumFare = 5; // Minimum fare amount\r\n      if (estimatedPrice < minimumFare) {\r\n        estimatedPrice = minimumFare;\r\n      }\r\n      \r\n      // Round to 2 decimal places\r\n      return Math.round(estimatedPrice * 100) / 100;\r\n    } catch (error) {\r\n      console.error('Error calculating price estimate:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Add a new method for final fare calculation\r\n  async calculateFinalFare(distance: number, duration: number): Promise<number> {\r\n    try {\r\n      // Convert duration to minutes if it's in milliseconds or seconds\r\n      let durationInMinutes = duration;\r\n      \r\n      // If duration is in milliseconds (common format from timestamps)\r\n      if (duration > 1000) {\r\n        durationInMinutes = Math.round(duration / 60000); // Convert ms to minutes\r\n      }\r\n      \r\n      // Rate constants\r\n      const ratePerKm = 1.0;       // $1 per kilometer\r\n      const ratePerMinute = 0.1;   // $0.1 per minute\r\n      const minimumFare = 5.0;     // $5 minimum fare\r\n      \r\n      // Calculate fare components\r\n      const distanceCharge = distance * ratePerKm;\r\n      const timeCharge = durationInMinutes * ratePerMinute;\r\n      \r\n      // Calculate total fare\r\n      let totalFare = distanceCharge + timeCharge;\r\n      \r\n      // Apply minimum fare if applicable\r\n      if (distance < 5 || totalFare < minimumFare) {\r\n        totalFare = minimumFare;\r\n      }\r\n      \r\n      // Round to 2 decimal places for proper currency display\r\n      return Math.round(totalFare * 100) / 100;\r\n    } catch (error) {\r\n      console.error('Error calculating final fare:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  getDriverLocation(driverId: string): Promise<{ lat: number, lng: number } | null> {\r\n    return new Promise((resolve, reject) => {\r\n      const driverDocRef = doc(this.firestore, 'Drivers', driverId);\r\n      onSnapshot(driverDocRef, (doc) => {\r\n        const data = doc.data();\r\n        if (data && data.Driver_lat) {\r\n          const driverLocation = {\r\n            lat: data.Driver_lat,\r\n            lng: data.Driver_lng\r\n          };\r\n          resolve(driverLocation);\r\n        } else {\r\n          resolve(null);\r\n        }\r\n      }, (error) => {\r\n        reject(error);\r\n      });\r\n    });\r\n  }\r\n\r\n  async updateLocation(coord: { lat: number, lng: number }): Promise<boolean> {\r\n    try {\r\n      const userDocRef = doc(this.firestore, `Riders/${this.auth.currentUser.uid}`);\r\n      \r\n      // First, set the document with initial data\r\n      await setDoc(userDocRef, {\r\n        geohash: geohashForLocation([coord.lat, coord.lng]),\r\n        Loc_lat: coord.lat,\r\n        Loc_lng: coord.lng,\r\n      }, { merge: true });  // Use merge: true to avoid overwriting existing data\r\n      \r\n      // Then, update the document\r\n      await updateDoc(userDocRef, {\r\n        geohash: geohashForLocation([coord.lat, coord.lng]),\r\n        Loc_lat: coord.lat,\r\n        Loc_lng: coord.lng,\r\n      });\r\n      \r\n      return true;\r\n    } catch (e) {\r\n      console.error('Error updating rider location:', e);\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  async createHistory(Driver, requestId) {\r\n    try {\r\n      // Get current user ID for the rider\r\n      const riderId = this.user?.uid || '';\r\n      \r\n      // Create a clean object with default values for all required fields\r\n      const historyData = {\r\n        driverId: Driver.Driver_id || '',\r\n        riderId: riderId, // Add rider ID from the current user\r\n        rideId: requestId || '',\r\n        timestamp: serverTimestamp(),\r\n        geohash: Driver.geohash || '',\r\n        Driver_lat: Driver.Driver_lat || 0,\r\n        Driver_lng: Driver.Driver_lng || 0,\r\n        Loc_lat: Driver.Loc_lat || 0, // For rider pickup location\r\n        Loc_lng: Driver.Loc_lng || 0,\r\n        Des_lat: Driver.Des_lat || 0, // For destination\r\n        Des_lng: Driver.Des_lng || 0,\r\n        Rider_Location: Driver.Rider_Location || '',\r\n        Rider_Destination: Driver.Rider_Destination || '',\r\n        Driver_name: Driver.Driver_name || '',\r\n        Driver_car: Driver.Driver_car || '',\r\n        Driver_imgUrl: Driver.Driver_imgUrl || '',\r\n        Driver_rating: Driver.Driver_rating || 0,\r\n        distance: Driver.distance || 0,\r\n        duration: Driver.duration || 0,\r\n        distanceInKm: Driver.distanceInKm || 0,\r\n        seats: Driver.seats || 0,\r\n        start: true,\r\n        stop: Driver.stop || false,\r\n        intransit: Driver.intransit || false,\r\n        cancel: Driver.cancel || false,\r\n        Driver_cartype: Driver.Driver_cartype || '',\r\n        Driver_plate: Driver.Driver_plate || '',\r\n        price: Driver.price || 0,\r\n        onlineState: Driver.onlineState || false\r\n      };\r\n\r\n      // Remove any remaining undefined values\r\n      Object.keys(historyData).forEach(key => {\r\n        if (historyData[key] === undefined) {\r\n          historyData[key] = null; // Replace undefined with null (accepted by Firestore)\r\n        }\r\n      });\r\n\r\n      console.log('Creating ride history with data:', historyData);\r\n      \r\n      const historyRef = doc(collection(this.firestore, 'RideHistory'));\r\n      await setDoc(historyRef, historyData);\r\n\r\n      console.log('Ride history created successfully with distance:', historyData.distance);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error creating ride history:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n\r\n  async UpdateCountDown(time, id){\r\n    try {\r\n      const userDocRef = doc(this.firestore, \"Request\",  id)\r\n      await updateDoc(userDocRef, {\r\n        countDown: time,\r\n      });\r\n      return true;\r\n    } catch (e) {\r\n     // alert(e)\r\n      console.log(e);\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n  async AddKnownPlace(place: any): Promise<boolean | null> {\r\n    console.log(this.auth.currentUser.uid);\r\n    console.log(place.full);\r\n    try {\r\n      const userDocRef = doc(this.firestore, 'Riders', `${this.auth.currentUser.uid}/KnownPlaces/${place.full}`);\r\n      await setDoc(userDocRef, { place });\r\n      return true;\r\n    } catch (e) {\r\n      console.log(e);\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n  calculateDistance(lat1: number, lon1: number, lat2: number, lon2: number): number {\r\n    const R = 6371; // Radius of the Earth in km\r\n    const dLat = (lat2 - lat1) * Math.PI / 180;\r\n    const dLon = (lon2 - lon1) * Math.PI / 180;\r\n    const a =\r\n      0.5 - Math.cos(dLat) / 2 +\r\n      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n      (1 - Math.cos(dLon)) / 2;\r\n    return R * 2 * Math.asin(Math.sqrt(a));\r\n  }\r\n  \r\n  async checkDriversWithin(center: [number, number], radiusInM: number): Promise<Drivers[]> {\r\n    try {\r\n      console.log(\"Center:\", center);\r\n      console.log(\"Radius in meters:\", radiusInM);\r\n  \r\n      const bounds = geohashQueryBounds(center, radiusInM);\r\n      const promises: Promise<Drivers[]>[] = bounds.map((b, index) => {\r\n        const q = query(this.driverCollection, orderBy(\"geohash\"), startAt(b[0]), endAt(b[1]));\r\n        return new Promise<Drivers[]>((resolve, reject) => {\r\n          const unsubscribe = onSnapshot(q, (snapshot) => {\r\n            const drivers = snapshot.docs.map((doc) => {\r\n              const data = doc.data() as Drivers;\r\n              // IMPORTANT: Include the document ID as Driver_id if not already present\r\n              if (!data.Driver_id) {\r\n                data.Driver_id = doc.id;\r\n              }\r\n              console.log(\"Driver data from snapshot:\", data);\r\n              return data;\r\n            });\r\n            console.log(\"Query results for bounds\", b, drivers);\r\n            resolve(drivers);\r\n            unsubscribe(); // Unsubscribe once data is fetched\r\n            delete this.activeListeners[index];\r\n          }, (error) => {\r\n            console.error('Error in onSnapshot:', error);\r\n            reject(error);\r\n            unsubscribe(); // Unsubscribe in case of error\r\n            delete this.activeListeners[index];\r\n          });\r\n  \r\n          // Store the unsubscribe function to manage listeners\r\n          this.activeListeners[index] = unsubscribe;\r\n        });\r\n      });\r\n      const results = await Promise.all(promises);\r\n      const allDrivers = results.reduce((acc, curr) => acc.concat(curr), []);\r\n      console.log(\"All drivers from queries:\", allDrivers);\r\n  \r\n      const matchingDrivers = allDrivers.filter((driver) => {\r\n        if (!driver || !driver.Driver_lat || !driver.Driver_lng) {\r\n          console.error(`Driver ${driver?.Driver_id || 'unknown'} has missing coordinates:`, driver);\r\n          return false;\r\n        }\r\n  \r\n        const distanceInKm = this.calculateDistance(center[0], center[1], driver.Driver_lat, driver.Driver_lng);\r\n        const distanceInM = distanceInKm * 1000;\r\n        console.log(`Driver ${driver.Driver_id} distance:`, distanceInM);\r\n  \r\n        if (distanceInM <= radiusInM) {\r\n          driver.duration = distanceInM / (50 / 3.6); // duration in seconds, assuming 50 km/h speed\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n  \r\n      console.log(\"Matching drivers within radius:\", matchingDrivers);\r\n      return matchingDrivers;\r\n    } catch (e) {\r\n      console.error('Error in checkDriversWithin:', e);\r\n      throw new Error(e);\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n\r\n   time_convert(num)\r\n  { \r\n   var minutes = Math.floor(num / 60);  \r\n   return minutes       \r\n  }\r\n\r\n     getDriver() {\r\n      return collectionData(this.driverCollection, {\r\n        idField: 'id',\r\n      }) as Observable<Drivers[]>;\r\n     }\r\n\r\n\r\n    update(pokemon: Drivers) {\r\n      const pokemonDocumentReference = doc(\r\n        this.firestore,\r\n        `pokemon/${pokemon.Driver_id}`\r\n      );\r\n      return updateDoc(pokemonDocumentReference, { ...pokemon });\r\n    }\r\n  \r\n\r\n    async uploadImage(cameraFile: Photo, uid: string): Promise<string | null> {\r\n      const storageRef = ref(this.storage, `avatars/${uid}`);\r\n      try {\r\n        // Upload the image as a base64 string\r\n        await uploadString(storageRef, cameraFile.base64String, 'base64');\r\n        // Get the download URL for the uploaded image\r\n        const imageUrl = await getDownloadURL(storageRef);\r\n        // Reference to the user's document in Firestore\r\n        const userDocRef = doc(this.firestore, `Riders/${uid}`);\r\n    \r\n        // Check if the document exists\r\n        const docSnapshot = await getDoc(userDocRef);\r\n        if (docSnapshot.exists()) {\r\n          // If the document exists, update the photoURL field\r\n          await updateDoc(userDocRef, { photoURL: imageUrl });\r\n        } else {\r\n          // If the document does not exist, create it with the photoURL field\r\n          await setDoc(userDocRef, { photoURL: imageUrl }, { merge: true });\r\n        }\r\n        return imageUrl;\r\n      } catch (e) {\r\n        console.error('Error uploading image:', e);\r\n        return null;\r\n      }\r\n    }\r\n    \r\n \r\n\r\n  async createUser(name, email, img, phone, uid) {\r\n    try {\r\n      const loc: Rider = {\r\n        Loc_lat: 0,\r\n        Loc_lng: 0,\r\n        Rider_id: uid,\r\n        Rider_name: name,\r\n        Rider_phone: phone,\r\n        Rider_imgUrl: img,\r\n        Rider_rating: 0,\r\n        Des_lat: 0,\r\n        Des_lng: 0,\r\n        Rider_Location: '',\r\n        Rider_Destination: '',\r\n        Rider_email: email,\r\n        countDown: 0,\r\n        cancel: false,\r\n        price: 0,\r\n        cash: true\r\n      };\r\n      await setDoc(doc(this.firestore, \"Riders\",  uid), { ...loc});\r\n      return true;\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n   getMessage() {\r\n    //const userDocRef = collection(this.firestore, `Messages/${this.auth.currentUser.uid}/messages`);\r\n    const userId =this.auth.currentUser?.uid;\r\n    if(userId){\r\n      const messageDocRef = collection(this.firestore, `Messages/${userId}/messages`);\r\n      const oderedMessages = query(messageDocRef, orderBy('createdAt', 'asc'));\r\n      return collectionData(oderedMessages,{idField: 'id'});\r\n      \r\n    }else{\r\n      return null;  \r\n    }\r\n    \r\n    //return collectionData(userDocRef);\r\n  }\r\n\r\n  getChatMessage(requestId: string) {\r\n    const messagesRef = collection(this.firestore, `Request/${requestId}/messages`);\r\n    return collectionData(messagesRef);\r\n  }\r\n\r\n  async addChatEnRouteMessage(msg: string, requestId: string) {\r\n    const messagesRef = collection(this.firestore, `Request/${requestId}/messages`);\r\n    return addDoc(messagesRef, {\r\n      msg: msg,\r\n      from: this.user.uid,\r\n      createdAt: serverTimestamp(),\r\n      myMsg: true,\r\n      fromName: this.user.displayName\r\n    });\r\n  }\r\n  \r\n  \r\n  async updatChatMessageInfo(requestId: string) {\r\n    return await updateDoc(doc(this.firestore, `Request/${requestId}`),\r\n    {\r\n      name: this.user.displayName,\r\n      id: this.user.uid,\r\n      phone: this.user.phoneNumber,\r\n      email: this.user.email,\r\n      new: true\r\n    });\r\n  }\r\n  \r\n\r\n  getKnownPlaces(): Observable<any[]> {\r\n    const userDocRef = collection(this.firestore, `Riders/${this.auth.currentUser.uid}/KnownPlaces`);\r\n    return collectionData(userDocRef);\r\n  }\r\n\r\n  getAllBlogs() {\r\n    const userDocRef = collection(this.firestore, `Blogs`);\r\n   \r\n    return collectionData(userDocRef);\r\n  }\r\n\r\n\r\n  getDrivers() {\r\n    const userDocRef = collection(this.firestore, `Drivers`);\r\n    return collectionData(userDocRef);\r\n  }\r\n\r\nasync addChatMessage(msg) {\r\n  try {\r\n    const userId = this.auth.currentUser?.uid;\r\n    const userName = this.auth.currentUser?.displayName || 'Anonymous';\r\n    \r\n    if (!userId) {\r\n      throw new Error('User is not authenticated.');\r\n    }\r\n\r\n    return await addDoc(collection(this.firestore, `Messages/${userId}/messages`), {\r\n      msg: msg,\r\n      from: userId,\r\n      createdAt: serverTimestamp(),\r\n      myMsg: true,\r\n      fromName: userName\r\n    });\r\n  } catch (error) {\r\n    console.error('Error adding chat message:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nasync updateMessageInfo() {\r\n  const user = this.auth.currentUser;\r\n  if (!user) {\r\n    throw new Error('User is not authenticated.');\r\n  }\r\n\r\n  return await setDoc(doc(this.firestore, `Messages/${user.uid}`), {\r\n    name: user.displayName || 'Anonymous',\r\n    id: user.uid,\r\n    phone: user.phoneNumber || '',\r\n    email: user.email || '',\r\n    new: true\r\n  });\r\n}\r\n\r\nasync updateDriverOnlineState(ID) {\r\n  try {\r\n    const userDocRef = doc(this.firestore, 'Drivers', ID)\r\n    await updateDoc(userDocRef, {\r\n      onlineState: true,\r\n    });\r\n    return true;\r\n  } catch (e) {\r\n    //alert(e)\r\n    console.log(e);\r\n    return null;\r\n  }\r\n}\r\n\r\nasync checkCardExistsStripe(email: string, last4: string): Promise<boolean> {\r\n  console.log('checkCardExistsStripe called with email:', email, 'and last4:', last4);\r\n\r\n  const cardsCollectionRef = collection(this.firestore, `Riders/${this.user.uid}/cards`);\r\n  console.log('cardsCollectionRef:', cardsCollectionRef);\r\n\r\n  const cardQuery = query(cardsCollectionRef, where('last4', '==', last4));\r\n  const cardDocs = await getDocs(cardQuery);\r\n\r\n  console.log('Number of card documents found:', cardDocs.size);\r\n  cardDocs.forEach(doc => {\r\n    console.log('Found card:', doc.data());\r\n  });\r\n\r\n  return !cardDocs.empty;\r\n}\r\n\r\n\r\n\r\nasync saveCard(cardDetails: { cardId: string; email: string, last4: string | number, brand?: string }) {\r\n  console.log('Saving card with details:', cardDetails);\r\n\r\n  const cardsCollectionRef = collection(this.firestore, `Riders/${this.user.uid}/cards`);\r\n  const cardDocRef = doc(cardsCollectionRef, cardDetails.cardId);\r\n\r\n  await setDoc(cardDocRef, cardDetails);\r\n  console.log('Card saved successfully:', cardDetails);\r\n}\r\n\r\n\r\nasync checkPaystackAuthCodeExists(authCode: string): Promise<boolean> {\r\n  const authCodeCollectionRef = collection(this.firestore, 'paystackAuthCodes');\r\n  const authCodeQuery = query(authCodeCollectionRef, where('authCode', '==', authCode));\r\n  const authCodeDocs = await getDocs(authCodeQuery);\r\n\r\n  return !authCodeDocs.empty;\r\n}\r\n\r\nasync savePaystackAuthCode(authCode: string) {\r\n  const authCodeDocRef = doc(this.firestore, `paystackAuthCodes/${authCode}`);\r\n  await setDoc(authCodeDocRef, { authCode });\r\n}\r\n\r\nasync updateFirestoreAfterPayment(paymentResult: any) {\r\n  const paymentDocRef = doc(this.firestore, `Riders/${this.user.uid}/payments/lastpayment`);\r\n  await setDoc(paymentDocRef, {\r\n    paymentResult: paymentResult,\r\n    paymentDate: new Date(),\r\n  });\r\n}\r\n\r\n\r\nasync getSavedPaymentMethods(): Promise<Card[]> {\r\n  const paymentMethodsRef = collection(this.firestore, `Riders/${this.user.uid}/cards`);\r\n  const snapshot = await getDocs(paymentMethodsRef);\r\n  const methods: Card[] = snapshot.docs.map(doc => ({\r\n    id: doc.id,\r\n    ...doc.data()\r\n  } as Card));\r\n  return methods;\r\n}\r\n\r\nasync deleteSavedPaymentMethod(methodId: string): Promise<void> {\r\n  const paymentMethodDocRef = doc(this.firestore, `Riders/${this.user.uid}/cards/${methodId}`);\r\n  await deleteDoc(paymentMethodDocRef);\r\n}\r\n\r\nasync setActiveCard(email: string, cardId: string): Promise<void> {\r\n  const userDocRef = doc(this.firestore, `Riders/${email}`);\r\n  await setDoc(userDocRef, { activeCardId: cardId }, { merge: true });\r\n}\r\n\r\ngetActiveCard(email: string): Observable<any> {\r\n  const userDocRef = doc(this.firestore, `Riders/${email}`);\r\n  return docData(userDocRef);\r\n}\r\n\r\n// Method to add a card for a user\r\nasync addCardStripe(email: string, cardId: string, last4: string): Promise<void> {\r\n  const userDocRef = doc(this.firestore, `Riders/${email}`);\r\n  const userDoc = await getDoc(userDocRef);\r\n  const userData = userDoc.data();\r\n\r\n  let cards = userData?.cards || [];\r\n  cards.push({ cardId, last4 });\r\n\r\n  await setDoc(userDocRef, { cards }, { merge: true });\r\n}\r\n\r\nasync submitRating(ratingData: {\r\n  rating: number,\r\n  comment: string,\r\n  driverId: string,\r\n  requestId: string,\r\n  timestamp: Date\r\n}) {\r\n  try {\r\n    const ratingRef = doc(this.firestore, `ratings/${ratingData.requestId}`);\r\n    await setDoc(ratingRef, ratingData);\r\n    console.log('Rating submitted successfully');\r\n  } catch (error) {\r\n    console.error('Error submitting rating:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nasync getUserProfile() {\r\n  const user = this.auth.currentUser;\r\n  if (!user) throw new Error('No authenticated user');\r\n\r\n  try {\r\n    const userDocRef = doc(this.firestore, 'Riders', user.uid);\r\n    const userDoc = await getDoc(userDocRef);\r\n    \r\n    if (userDoc.exists()) {\r\n      return userDoc.data();\r\n    } else {\r\n      // Create default profile if it doesn't exist (similar to loadUserProfile)\r\n      const defaultProfile = {\r\n        Rider_id: user.uid,\r\n        Rider_name: user.displayName || 'Unknown',\r\n        Rider_phone: user.phoneNumber || '',\r\n        Rider_email: user.email || '',\r\n        Rider_imgUrl: user.photoURL || '',\r\n        Rider_rating: 0,\r\n        Loc_lat: 0,\r\n        Loc_lng: 0,\r\n        Des_lat: 0,\r\n        Des_lng: 0,\r\n        Rider_Location: '',\r\n        Rider_Destination: '',\r\n        countDown: 0,\r\n        cancel: false,\r\n        price: 0,\r\n        cash: true,\r\n        createdAt: new Date().toISOString()\r\n      };\r\n      \r\n      await setDoc(userDocRef, defaultProfile);\r\n      return defaultProfile;\r\n    }\r\n  } catch (error) {\r\n    console.error('Error in getUserProfile:', error);\r\n    throw new Error(`Failed to get user profile: ${error.message}`);\r\n  }\r\n}\r\n\r\nasync createUserProfile(profileData: any) {\r\n  const user = this.auth.currentUser;\r\n  if (!user) throw new Error('No authenticated user');\r\n\r\n  const userDocRef = doc(this.firestore, 'Riders', user.uid);\r\n  await setDoc(userDocRef, profileData, { merge: true });\r\n  return profileData;\r\n}\r\n\r\n// Save ride history\r\nasync saveRideHistory(rideData: any) {\r\n  try {\r\n    const userId = this.auth.currentUser?.uid;\r\n    if (!userId) throw new Error('No user ID found');\r\n\r\n    // Ensure all required fields have valid values (not undefined)\r\n    const historyData = {\r\n      tripId: rideData.tripId || '',\r\n      riderId: userId,\r\n      driverId: rideData.driverId || '',\r\n      driverName: rideData.driverName || rideData.Driver_name || 'Unknown Driver',\r\n      driverImage: rideData.driverImage || rideData.Driver_imgUrl || '',\r\n      driverCar: rideData.driverCar || rideData.Driver_car || '',\r\n      driverPlate: rideData.driverPlate || rideData.Driver_plate || '',\r\n      driverRating: rideData.driverRating || rideData.Driver_rating || 0,\r\n      pickup: rideData.pickup || rideData.Rider_Location || 'Unknown pickup',\r\n      destination: rideData.destination || rideData.Rider_Destination || 'Unknown destination',\r\n      Loc_lat: rideData.Loc_lat || 0,\r\n      Loc_lng: rideData.Loc_lng || 0,\r\n      Des_lat: rideData.Des_lat || 0,\r\n      Des_lng: rideData.Des_lng || 0,\r\n      Rider_Location: rideData.Rider_Location || rideData.pickup || 'Unknown pickup',\r\n      Rider_Destination: rideData.Rider_Destination || rideData.destination || 'Unknown destination',\r\n      Driver_name: rideData.Driver_name || rideData.driverName || 'Unknown Driver',\r\n      Driver_car: rideData.Driver_car || rideData.driverCar || '',\r\n      Driver_imgUrl: rideData.Driver_imgUrl || rideData.driverImage || '',\r\n      Driver_plate: rideData.Driver_plate || rideData.driverPlate || '',\r\n      Driver_rating: rideData.Driver_rating || rideData.driverRating || rideData.rating || 0,\r\n      price: typeof rideData.price === 'number' ? rideData.price : parseFloat(rideData.price || '0'),\r\n      distance: typeof rideData.distance === 'number' ? rideData.distance : 0,\r\n      duration: rideData.duration || '',\r\n      rating: rideData.rating || rideData.Driver_rating || rideData.driverRating || 0,\r\n      completed: rideData.completed || true,\r\n      completedAt: rideData.completedAt || new Date(),\r\n      timestamp: serverTimestamp()\r\n    };\r\n\r\n    // Log the data being saved for debugging\r\n    console.log('Saving ride history with data:', historyData);\r\n\r\n    // 1. Save to users/{userId}/rideHistory\r\n    const userHistoryCollection = collection(this.firestore, `users/${userId}/rideHistory`);\r\n    await addDoc(userHistoryCollection, historyData);\r\n\r\n    // 2. Save to RideHistory collection\r\n    const globalHistoryCollection = collection(this.firestore, 'RideHistory');\r\n    await addDoc(globalHistoryCollection, historyData);\r\n\r\n    console.log('Ride history saved successfully');\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Error saving ride history:', error);\r\n    // Return false instead of throwing to avoid crashing the ride stop process\r\n    return false;\r\n  }\r\n}\r\n\r\n// Get ride history\r\ngetRideHistory() {\r\n  const userId = this.auth.currentUser?.uid;\r\n  if (!userId) return [];\r\n\r\n  const historyCollection = collection(this.firestore, `users/${userId}/rideHistory`);\r\n  const historyQuery = query(historyCollection, orderBy('timestamp', 'desc'));\r\n  \r\n  return collectionData(historyQuery);\r\n}\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { LoadingController, ToastController, AlertController } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OverlayService {\r\n  private loader: HTMLIonLoadingElement | null = null;\r\n  isLoading = false;\r\n\r\n  constructor(\r\n    private loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController,\r\n    private alertCtrl: AlertController\r\n  ) {}\r\n\r\n  async showLoader(message: string): Promise<HTMLIonLoadingElement> {\r\n    // Always dismiss any existing loader first\r\n    await this.hideLoader();\r\n    \r\n    this.isLoading = true;\r\n    this.loader = await this.loadingCtrl.create({\r\n      message: message,\r\n      spinner: 'bubbles'\r\n    });\r\n    await this.loader.present();\r\n    return this.loader;\r\n  }\r\n\r\n  async hideLoader() {\r\n    this.isLoading = false;\r\n    \r\n    try {\r\n      if (this.loader) {\r\n        await this.loader.dismiss();\r\n        this.loader = null;\r\n      }\r\n      \r\n      // Force dismiss any lingering loaders\r\n      const topLoader = await this.loadingCtrl.getTop();\r\n      if (topLoader) {\r\n        await topLoader.dismiss();\r\n      }\r\n    } catch (err) {\r\n      console.log('Error dismissing loader:', err);\r\n    }\r\n  }\r\n\r\n  async showToast(message: string, duration: number = 2000) {\r\n    const toast = await this.toastCtrl.create({\r\n      message: message,\r\n      duration: duration,\r\n      position: 'bottom'\r\n    });\r\n    await toast.present();\r\n  }\r\n\r\n  async showAlert(header: string, message: string) {\r\n    const alert = await this.alertCtrl.create({\r\n      header: header,\r\n      message: message,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async showConfirmAlert(header: string, message: string): Promise<boolean> {\r\n    return new Promise(async (resolve) => {\r\n      const alert = await this.alertCtrl.create({\r\n        header,\r\n        message,\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            role: 'cancel',\r\n            handler: () => resolve(false)\r\n          },\r\n          {\r\n            text: 'Try Again',\r\n            handler: () => resolve(true)\r\n          }\r\n        ]\r\n      });\r\n      \r\n      await alert.present();\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PaymentService {\r\n  // Normalize serverUrl by removing any trailing slashes so concatenation\r\n  // like `${this.serverUrl}/setup-intent` won't produce a double slash.\r\n  private serverUrl = String(environment.serverUrl || '').replace(/\\/\\/+$|\\/+$/g, '');\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  createSetupIntent(email: string) {\r\n    return this.http.post<{ client_secret: string }>(`${this.serverUrl}/setup-intent`, { email });\r\n  }\r\n\r\n  savePaymentMethod(email: string, paymentMethodId: string) {\r\n    return this.http.post<{ paymentMethodId: string }>(`${this.serverUrl}/save-payment-method`, { email, paymentMethodId });\r\n  }\r\n\r\n  retrievePaymentMethod(paymentMethodId: string) {\r\n    return this.http.post<any>(`${this.serverUrl}/retrieve-payment-method`, { paymentMethodId });\r\n  }\r\n\r\n  checkCardExistsStripe(email: string, last4: string) {\r\n    return this.http.post<{ exists: boolean }>(`${this.serverUrl}/check-card-exists`, { email, last4 });\r\n  }\r\n\r\n  payWithStripe(amount: number, currency: string, paymentMethodId: string, customerId: string) {\r\n    return this.http.post<{ paymentIntent: any }>(`${this.serverUrl}/pay/stripe`, { amount, currency, paymentMethodId, customerId });\r\n  }\r\n\r\n  processPaymentWithCardId(email: string, amount: number, cardId: string): Observable<any> {\r\n    return this.http.post('/api/process-payment', { email, amount, cardId });\r\n  }\r\n\r\n  // Process payment for ride with payment splitting\r\n  processRidePayment(paymentData: {\r\n    email: string;\r\n    amount: number;\r\n    currency: string;\r\n    paymentMethodId: string;\r\n    driverId: string;\r\n    rideId: string;\r\n    driverAmount: number;\r\n    companyAmount: number;\r\n  }): Observable<any> {\r\n    return this.http.post(`${this.serverUrl}/process-ride-payment`, paymentData);\r\n  }\r\n\r\n  // Create a payment intent for immediate charge\r\n  createPaymentIntent(paymentData: {\r\n    email: string;\r\n    amount: number;\r\n    currency: string;\r\n    paymentMethodId: string;\r\n    description: string;\r\n  }): Observable<any> {\r\n    return this.http.post(`${this.serverUrl}/create-payment-intent`, paymentData);\r\n  }\r\n\r\n}\r\n","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { Firestore, doc, onSnapshot, DocumentReference, getDoc } from '@angular/fire/firestore';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\nexport interface AppSettings {\r\n  currency: string;\r\n  currencySymbol: string;\r\n}\r\n\r\nconst DEFAULT_SETTINGS: AppSettings = {\r\n  currency: 'USD',\r\n  currencySymbol: '$'\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SettingsService implements OnDestroy {\r\n  private settingsSubject = new BehaviorSubject<AppSettings>(DEFAULT_SETTINGS);\r\n  private unsubscribe: (() => void) | null = null;\r\n\r\n  // Observable for components to subscribe to\r\n  settings$: Observable<AppSettings> = this.settingsSubject.asObservable();\r\n\r\n  // Current values (synchronous access)\r\n  get currency(): string {\r\n    return this.settingsSubject.value.currency;\r\n  }\r\n\r\n  get currencySymbol(): string {\r\n    return this.settingsSubject.value.currencySymbol;\r\n  }\r\n\r\n  get settings(): AppSettings {\r\n    return this.settingsSubject.value;\r\n  }\r\n\r\n  constructor(private firestore: Firestore) {\r\n    this.initSettingsListener();\r\n  }\r\n\r\n  /**\r\n   * Initialize real-time listener for Settings/general document\r\n   */\r\n  private initSettingsListener(): void {\r\n    try {\r\n      const settingsRef = doc(this.firestore, 'Settings', 'general') as DocumentReference;\r\n      \r\n      this.unsubscribe = onSnapshot(\r\n        settingsRef,\r\n        (docSnapshot) => {\r\n          if (docSnapshot.exists()) {\r\n            const data = docSnapshot.data();\r\n            const settings: AppSettings = {\r\n              currency: data['currency'] || DEFAULT_SETTINGS.currency,\r\n              currencySymbol: data['currencySymbol'] || DEFAULT_SETTINGS.currencySymbol\r\n            };\r\n            console.log('Settings updated:', settings);\r\n            this.settingsSubject.next(settings);\r\n          } else {\r\n            // Document doesn't exist, use defaults\r\n            console.log('Settings document not found, using defaults');\r\n            this.settingsSubject.next(DEFAULT_SETTINGS);\r\n          }\r\n        },\r\n        (error) => {\r\n          console.error('Error listening to settings:', error);\r\n          // Keep using current/default values on error\r\n        }\r\n      );\r\n    } catch (error) {\r\n      console.error('Error initializing settings listener:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Format a price with the current currency symbol\r\n   * @param price The price value to format\r\n   * @param decimals Number of decimal places (default: 2)\r\n   * @returns Formatted price string with currency symbol\r\n   */\r\n  formatPrice(price: number | string, decimals: number = 2): string {\r\n    const numPrice = typeof price === 'string' ? parseFloat(price) : price;\r\n    if (isNaN(numPrice)) {\r\n      return `${this.currencySymbol}0.00`;\r\n    }\r\n    return `${this.currencySymbol}${numPrice.toFixed(decimals)}`;\r\n  }\r\n\r\n  /**\r\n   * Format a price range with the current currency symbol\r\n   * @param min Minimum price\r\n   * @param max Maximum price\r\n   * @param decimals Number of decimal places (default: 0)\r\n   * @returns Formatted price range string\r\n   */\r\n  formatPriceRange(min: number, max: number, decimals: number = 0): string {\r\n    return `${this.currencySymbol}${min.toFixed(decimals)} - ${this.currencySymbol}${max.toFixed(decimals)}`;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.unsubscribe) {\r\n      this.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController, ToastController } from '@ionic/angular';\r\nimport { Firestore, doc, updateDoc, getDoc } from '@angular/fire/firestore';\r\nimport { AvatarService } from '../services/avatar.service';\r\nimport { SettingsService } from '../services/settings.service';\r\n\r\n@Component({\r\n  selector: 'app-trip-summary',\r\n  templateUrl: './trip-summary.component.html',\r\n  styleUrls: ['./trip-summary.component.scss'],\r\n})\r\nexport class TripSummaryComponent implements OnInit {\r\n  @Input() tripId: string;\r\n  @Input() driverId: string;\r\n  @Input() rideData: any; // Accept pre-populated ride data\r\n  \r\n  tripData: any = {};\r\n  rating: number = 0;\r\n  comment: string = '';\r\n  isSubmitting: boolean = false;\r\n  \r\n  // Animation states\r\n  animateIn: boolean = false;\r\n  \r\n  constructor(\r\n    private modalCtrl: ModalController,\r\n    private firestore: Firestore,\r\n    private avatarService: AvatarService,\r\n    private toastController: ToastController,\r\n    public settingsService: SettingsService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    // If rideData is provided, use it, otherwise load from Firestore\r\n    if (this.rideData) {\r\n      this.tripData = this.rideData;\r\n      // Extract tripId from rideData if not explicitly provided\r\n      if (!this.tripId && this.rideData.tripId) {\r\n        this.tripId = this.rideData.tripId;\r\n      }\r\n      // Extract driverId from rideData if not explicitly provided\r\n      if (!this.driverId && this.rideData.driverId) {\r\n        this.driverId = this.rideData.driverId;\r\n      }\r\n      // Format any additional fields as needed\r\n      this.formatTripData();\r\n    } else {\r\n      this.loadTripData();\r\n    }\r\n    \r\n    // Trigger animation after a short delay\r\n    setTimeout(() => {\r\n      this.animateIn = true;\r\n    }, 100);\r\n  }\r\n\r\n  async loadTripData() {\r\n    if (!this.tripId) {\r\n      console.error('No trip ID provided');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const tripDoc = await getDoc(doc(this.firestore, 'Request', this.tripId));\r\n      \r\n      if (tripDoc.exists()) {\r\n        this.tripData = tripDoc.data();\r\n        \r\n        // Format distance from meters to kilometers\r\n        if (this.tripData.distance) {\r\n          this.tripData.distanceInKm = (this.tripData.distance / 1000).toFixed(1);\r\n        }\r\n        \r\n        // Format duration if needed\r\n        if (this.tripData.duration && typeof this.tripData.duration === 'number') {\r\n          this.tripData.durationFormatted = this.formatDuration(this.tripData.duration);\r\n        } else {\r\n          this.tripData.durationFormatted = this.tripData.duration;\r\n        }\r\n        \r\n        // Format price if needed\r\n        if (this.tripData.price) {\r\n          this.tripData.formattedPrice = this.formatPrice(this.tripData.price);\r\n        }\r\n      } else {\r\n        console.error('Trip not found');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading trip data:', error);\r\n    }\r\n  }\r\n\r\n  formatTripData() {\r\n    // Format distance from meters to kilometers\r\n    if (this.tripData.distance) {\r\n      this.tripData.distanceInKm = (this.tripData.distance / 1000).toFixed(1);\r\n    }\r\n    \r\n    // Format duration if needed\r\n    if (this.tripData.duration && typeof this.tripData.duration === 'number') {\r\n      this.tripData.durationFormatted = this.formatDuration(this.tripData.duration);\r\n    } else {\r\n      this.tripData.durationFormatted = this.tripData.duration;\r\n    }\r\n    \r\n    // Format price if needed\r\n    if (this.tripData.price) {\r\n      this.tripData.formattedPrice = this.formatPrice(this.tripData.price);\r\n    }\r\n  }\r\n\r\n  formatDuration(durationInSeconds: number): string {\r\n    const minutes = Math.floor(durationInSeconds / 60);\r\n    const hours = Math.floor(minutes / 60);\r\n    \r\n    if (hours > 0) {\r\n      const remainingMinutes = minutes % 60;\r\n      return `${hours}h ${remainingMinutes}m`;\r\n    } else {\r\n      return `${minutes} min`;\r\n    }\r\n  }\r\n\r\n  formatPrice(price: number): string {\r\n    return price.toFixed(2);\r\n  }\r\n\r\n  setRating(rating: number) {\r\n    this.rating = rating;\r\n  }\r\n\r\n  async submitRating() {\r\n    if (this.rating === 0) {\r\n      const toast = await this.toastController.create({\r\n        message: 'Please select a rating before submitting',\r\n        duration: 2000,\r\n        position: 'bottom',\r\n        color: 'warning'\r\n      });\r\n      await toast.present();\r\n      return;\r\n    }\r\n\r\n    this.isSubmitting = true;\r\n\r\n    try {\r\n      // Check if tripId exists before attempting to update\r\n      if (!this.tripId) {\r\n        console.error('No trip ID available for rating submission');\r\n        throw new Error('Missing trip ID');\r\n      }\r\n\r\n      // Update the trip record with the rating\r\n      await updateDoc(doc(this.firestore, 'Request', this.tripId), {\r\n        riderRating: this.rating,\r\n        ratingComment: this.comment,\r\n        ratedAt: new Date().toISOString()\r\n      });\r\n\r\n      // If there's a driver ID, update their average rating\r\n      if (this.driverId) {\r\n        await this.updateDriverRating(this.driverId, this.rating);\r\n      }\r\n\r\n      const toast = await this.toastController.create({\r\n        message: 'Thank you for your feedback!',\r\n        duration: 2000,\r\n        position: 'bottom',\r\n        color: 'success'\r\n      });\r\n      await toast.present();\r\n      \r\n      // Close the modal after a short delay\r\n      setTimeout(() => {\r\n        this.dismiss();\r\n      }, 1000);\r\n    } catch (error) {\r\n      console.error('Error submitting rating:', error);\r\n      const toast = await this.toastController.create({\r\n        message: 'Failed to submit rating. Please try again.',\r\n        duration: 2000,\r\n        position: 'bottom',\r\n        color: 'danger'\r\n      });\r\n      await toast.present();\r\n    } finally {\r\n      this.isSubmitting = false;\r\n    }\r\n  }\r\n\r\n  async updateDriverRating(driverId: string, newRating: number) {\r\n    const driverRef = doc(this.firestore, 'Drivers', driverId);\r\n    const driverDoc = await getDoc(driverRef);\r\n    \r\n    if (driverDoc.exists()) {\r\n      const driverData = driverDoc.data();\r\n      const currentRating = driverData.rating || 0;\r\n      const ratingCount = driverData.ratingCount || 0;\r\n      \r\n      // Calculate new average rating\r\n      const newAvgRating = ((currentRating * ratingCount) + newRating) / (ratingCount + 1);\r\n      \r\n      await updateDoc(driverRef, {\r\n        rating: newAvgRating,\r\n        ratingCount: ratingCount + 1\r\n      });\r\n    }\r\n  }\r\n\r\n  dismiss() {\r\n    // Save the final ride data before dismissing\r\n    if (this.tripData && !this.tripData.historySaved) {\r\n      // Mark as saved to prevent duplicate saves\r\n      this.tripData.historySaved = true;\r\n      \r\n      // Prepare complete ride data for history\r\n      const finalRideData = {\r\n        tripId: this.tripId || this.tripData.tripId || '',\r\n        riderId: this.avatarService.user?.uid || '',\r\n        driverId: this.driverId || this.tripData.driverId || '',\r\n        driverName: this.tripData.driverName || this.tripData.Driver_name || 'Unknown Driver',\r\n        driverImage: this.tripData.driverImage || this.tripData.Driver_imgUrl || '',\r\n        driverCar: this.tripData.driverCar || this.tripData.Driver_car || '',\r\n        driverPlate: this.tripData.driverPlate || this.tripData.Driver_plate || '',\r\n        driverRating: this.rating || this.tripData.rating || this.tripData.driverRating || this.tripData.Driver_rating || 0,\r\n        pickup: this.tripData.pickup || this.tripData.Rider_Location || 'Unknown pickup',\r\n        destination: this.tripData.destination || this.tripData.Rider_Destination || 'Unknown destination',\r\n        Loc_lat: this.tripData.Loc_lat || 0,\r\n        Loc_lng: this.tripData.Loc_lng || 0,\r\n        Des_lat: this.tripData.Des_lat || 0,\r\n        Des_lng: this.tripData.Des_lng || 0,\r\n        Rider_Location: this.tripData.Rider_Location || this.tripData.pickup || 'Unknown pickup',\r\n        Rider_Destination: this.tripData.Rider_Destination || this.tripData.destination || 'Unknown destination',\r\n        Driver_name: this.tripData.Driver_name || this.tripData.driverName || 'Unknown Driver',\r\n        Driver_car: this.tripData.Driver_car || this.tripData.driverCar || '',\r\n        Driver_imgUrl: this.tripData.Driver_imgUrl || this.tripData.driverImage || '',\r\n        Driver_plate: this.tripData.Driver_plate || this.tripData.driverPlate || '',\r\n        Driver_rating: this.rating || this.tripData.Driver_rating || this.tripData.driverRating || 0,\r\n        price: this.tripData.price || 0,\r\n        distance: this.tripData.distance || 0,\r\n        duration: this.tripData.duration || '',\r\n        rating: this.rating || this.tripData.rating || 0,\r\n        ratingComment: this.comment || '',\r\n        completed: true,\r\n        completedAt: this.tripData.completedAt || new Date(),\r\n        timestamp: new Date()\r\n      };\r\n      \r\n\r\n      console.log(\"Pinpointed ride data to saved distance:\", finalRideData.distance);\r\n      // Save to history (don't await to avoid blocking dismiss)\r\n      this.avatarService.saveRideHistory(finalRideData).catch(err => {\r\n        console.error('Error saving ride history on dismiss:', err);\r\n      });\r\n    }\r\n    \r\n    this.modalCtrl.dismiss({\r\n      rated: this.rating > 0,\r\n      rating: this.rating\r\n    });\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border\">\r\n  <ion-toolbar color=\"light\">\r\n    <ion-title class=\"ion-text-center\">Trip Summary</ion-title>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"dismiss()\">\r\n        <ion-icon name=\"close-outline\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n  <div class=\"summary-container\" [class.animate-in]=\"animateIn\">\r\n    <!-- Trip details card -->\r\n    <ion-card class=\"trip-card\">\r\n      <ion-card-header>\r\n        <ion-card-title class=\"ion-text-center\">Trip Details</ion-card-title>\r\n      </ion-card-header>\r\n      \r\n      <ion-card-content>\r\n        <div class=\"trip-details\">\r\n          <!-- Route visualization -->\r\n          <div class=\"route-visualization\">\r\n            <div class=\"route-dot start\"></div>\r\n            <div class=\"route-line\"></div>\r\n            <div class=\"route-dot end\"></div>\r\n          </div>\r\n          \r\n          <!-- Locations -->\r\n          <div class=\"locations\">\r\n            <div class=\"location-item\">\r\n              <div class=\"location-label\">From</div>\r\n              <div class=\"location-value\">{{ tripData.locationAddress || 'Pickup location' }}</div>\r\n            </div>\r\n            <div class=\"location-item\">\r\n              <div class=\"location-label\">To</div>\r\n              <div class=\"location-value\">{{ tripData.destinationAddress || 'Drop-off location' }}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Shared Ride Label -->\r\n          <div class=\"shared-ride-label\" *ngIf=\"tripData.isSharedRide\">\r\n            <ion-chip color=\"success\">\r\n              <ion-icon name=\"people\"></ion-icon>\r\n              <ion-label>Shared Ride</ion-label>\r\n            </ion-chip>\r\n          </div>\r\n          \r\n          <!-- Stats -->\r\n          <div class=\"trip-stats\">\r\n            <div class=\"stat-item\">\r\n              <ion-icon name=\"cash-outline\"></ion-icon>\r\n              <!-- Show original price strikethrough and final price for shared rides -->\r\n              <div class=\"stat-value\" *ngIf=\"!tripData.isSharedRide\">\r\n                {{settingsService.currencySymbol}}{{ tripData.formattedPrice || tripData.price || '0.00' }}\r\n              </div>\r\n              <div class=\"shared-ride-price\" *ngIf=\"tripData.isSharedRide\">\r\n                <span class=\"original-price\"><del>{{settingsService.currencySymbol}}{{ tripData.originalPrice || tripData.price }}</del></span>\r\n                <span class=\"final-price\">{{settingsService.currencySymbol}}{{ tripData.discountedPrice || tripData.price }}</span>\r\n              </div>\r\n              <div class=\"stat-label\">Price</div>\r\n            </div>\r\n\r\n            <!-- Savings stat for shared rides -->\r\n            <div class=\"stat-item savings-stat\" *ngIf=\"tripData.isSharedRide\">\r\n              <ion-icon name=\"pricetag-outline\" color=\"success\"></ion-icon>\r\n              <div class=\"stat-value savings-value\">\r\n                -{{settingsService.currencySymbol}}{{ (tripData.originalPrice - tripData.discountedPrice).toFixed(2) }}\r\n              </div>\r\n              <div class=\"stat-label\">Saved ({{ tripData.discountPercent }}%)</div>\r\n            </div>\r\n            \r\n            <div class=\"stat-item\">\r\n              <ion-icon name=\"speedometer-outline\"></ion-icon>\r\n              <div class=\"stat-value\">{{ tripData.distance || 0 }}</div>\r\n              <div class=\"stat-label\">Distance</div>\r\n            </div>\r\n            \r\n            <div class=\"stat-item\">\r\n              <ion-icon name=\"time-outline\"></ion-icon>\r\n              <div class=\"stat-value\">{{ tripData.durationFormatted || '0 min' }}</div>\r\n              <div class=\"stat-label\">Duration</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ion-card-content>\r\n    </ion-card>\r\n    \r\n    <!-- Rating card -->\r\n    <ion-card class=\"rating-card\">\r\n      <ion-card-header>\r\n        <ion-card-title class=\"ion-text-center\">Rate Your Trip</ion-card-title>\r\n      </ion-card-header>\r\n      \r\n      <ion-card-content>\r\n        <div class=\"rating-container\">\r\n          <div class=\"stars\">\r\n            <ion-icon \r\n              *ngFor=\"let i of [1, 2, 3, 4, 5]\" \r\n              [name]=\"i <= rating ? 'star' : 'star-outline'\"\r\n              (click)=\"setRating(i)\"\r\n              [class.selected]=\"i <= rating\">\r\n            </ion-icon>\r\n          </div>\r\n          \r\n          <ion-item class=\"comment-box\">\r\n            <ion-textarea \r\n              [(ngModel)]=\"comment\" \r\n              placeholder=\"Add a comment (optional)\"\r\n              rows=\"3\"\r\n              maxlength=\"200\">\r\n            </ion-textarea>\r\n          </ion-item>\r\n          \r\n          <ion-button \r\n            expand=\"block\" \r\n            (click)=\"submitRating()\" \r\n            [disabled]=\"isSubmitting\"\r\n            class=\"submit-button\">\r\n            <ion-spinner *ngIf=\"isSubmitting\" name=\"dots\"></ion-spinner>\r\n            <span *ngIf=\"!isSubmitting\">Submit Rating</span>\r\n          </ion-button>\r\n        </div>\r\n      </ion-card-content>\r\n    </ion-card>\r\n  </div>\r\n</ion-content>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n    production: true,\r\n     firebase: {\r\n        apiKey: 'AIzaSyA5ShOlRI8493ovNQ4e--utZawgmjc3x0g',\r\n        authDomain: 'pegasus-2be94.firebaseapp.com',\r\n        projectId: 'pegasus-2be94',\r\n        storageBucket: 'pegasus-2be94.firebasestorage.app',\r\n        messagingSenderId: '459110381543',\r\n        appId: '1:459110381543:android:ba2071e2cea27c5cdfaf42'\r\n    },\r\n    apiKey: 'AIzaSyCTYjoPhLcshZVuEdr-amopUuVMy8lyEmA',\r\n    onesignal: {\r\n        appId: 'ba7d77ed-1525-416c-9ac5-7b5d36e68740',\r\n        restApiKey: 'YTM3ODgyMzQtNjg1ZC00YTQwLWJmNjItNTA4M2VkMmY3MDdl',\r\n        android_channel_id: ''\r\n    },\r\n    serverUrl: \"https://payment-service-pi.vercel.app/\",\r\n    pushNotificationServerUrl: \"https://payment-service-pi.vercel.app/\", // Push notification backend server URL\r\n    CountryJson: [\r\n        {\r\n            \"name\": \"Afghanistan\",\r\n            \"dialCode\": \"+93\",\r\n            \"isoCode\": \"AF\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/af.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Aland Islands\",\r\n            \"dialCode\": \"+358\",\r\n            \"isoCode\": \"AX\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ax.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Albania\",\r\n            \"dialCode\": \"+355\",\r\n            \"isoCode\": \"AL\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/al.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Algeria\",\r\n            \"dialCode\": \"+213\",\r\n            \"isoCode\": \"DZ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/dz.svg\"\r\n        },\r\n        {\r\n            \"name\": \"American Samoa\",\r\n            \"dialCode\": \"+1684\",\r\n            \"isoCode\": \"AS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/as.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Andorra\",\r\n            \"dialCode\": \"+376\",\r\n            \"isoCode\": \"AD\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ad.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Angola\",\r\n            \"dialCode\": \"+244\",\r\n            \"isoCode\": \"AO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ao.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Anguilla\",\r\n            \"dialCode\": \"+1264\",\r\n            \"isoCode\": \"AI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ai.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Antarctica\",\r\n            \"dialCode\": \"+672\",\r\n            \"isoCode\": \"AQ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/aq.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Antigua and Barbuda\",\r\n            \"dialCode\": \"+1268\",\r\n            \"isoCode\": \"AG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ag.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Argentina\",\r\n            \"dialCode\": \"+54\",\r\n            \"isoCode\": \"AR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ar.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Armenia\",\r\n            \"dialCode\": \"+374\",\r\n            \"isoCode\": \"AM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/am.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Aruba\",\r\n            \"dialCode\": \"+297\",\r\n            \"isoCode\": \"AW\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/aw.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Ascension Island\",\r\n            \"dialCode\": \"+247\",\r\n            \"isoCode\": \"AC\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ac.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Australia\",\r\n            \"dialCode\": \"+61\",\r\n            \"isoCode\": \"AU\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/au.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Austria\",\r\n            \"dialCode\": \"+43\",\r\n            \"isoCode\": \"AT\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/at.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Azerbaijan\",\r\n            \"dialCode\": \"+994\",\r\n            \"isoCode\": \"AZ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/az.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Bahamas\",\r\n            \"dialCode\": \"+1242\",\r\n            \"isoCode\": \"BS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bs.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Bahrain\",\r\n            \"dialCode\": \"+973\",\r\n            \"isoCode\": \"BH\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bh.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Bangladesh\",\r\n            \"dialCode\": \"+880\",\r\n            \"isoCode\": \"BD\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bd.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Barbados\",\r\n            \"dialCode\": \"+1246\",\r\n            \"isoCode\": \"BB\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bb.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Belarus\",\r\n            \"dialCode\": \"+375\",\r\n            \"isoCode\": \"BY\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/by.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Belgium\",\r\n            \"dialCode\": \"+32\",\r\n            \"isoCode\": \"BE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/be.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Belize\",\r\n            \"dialCode\": \"+501\",\r\n            \"isoCode\": \"BZ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bz.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Benin\",\r\n            \"dialCode\": \"+229\",\r\n            \"isoCode\": \"BJ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bj.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Bermuda\",\r\n            \"dialCode\": \"+1441\",\r\n            \"isoCode\": \"BM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Bhutan\",\r\n            \"dialCode\": \"+975\",\r\n            \"isoCode\": \"BT\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bt.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Bolivia\",\r\n            \"dialCode\": \"+591\",\r\n            \"isoCode\": \"BO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bo.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Bosnia and Herzegovina\",\r\n            \"dialCode\": \"+387\",\r\n            \"isoCode\": \"BA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ba.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Botswana\",\r\n            \"dialCode\": \"+267\",\r\n            \"isoCode\": \"BW\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bw.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Brazil\",\r\n            \"dialCode\": \"+55\",\r\n            \"isoCode\": \"BR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/br.svg\"\r\n        },\r\n        {\r\n            \"name\": \"British Indian Ocean Territory\",\r\n            \"dialCode\": \"+246\",\r\n            \"isoCode\": \"IO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/io.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Brunei Darussalam\",\r\n            \"dialCode\": \"+673\",\r\n            \"isoCode\": \"BN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bn.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Bulgaria\",\r\n            \"dialCode\": \"+359\",\r\n            \"isoCode\": \"BG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bg.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Burkina Faso\",\r\n            \"dialCode\": \"+226\",\r\n            \"isoCode\": \"BF\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bf.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Burundi\",\r\n            \"dialCode\": \"+257\",\r\n            \"isoCode\": \"BI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bi.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Cambodia\",\r\n            \"dialCode\": \"+855\",\r\n            \"isoCode\": \"KH\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/kh.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Cameroon\",\r\n            \"dialCode\": \"+237\",\r\n            \"isoCode\": \"CM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Canada\",\r\n            \"dialCode\": \"+1\",\r\n            \"isoCode\": \"CA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ca.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Cape Verde\",\r\n            \"dialCode\": \"+238\",\r\n            \"isoCode\": \"CV\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cv.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Cayman Islands\",\r\n            \"dialCode\": \"+1345\",\r\n            \"isoCode\": \"KY\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ky.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Central African Republic\",\r\n            \"dialCode\": \"+236\",\r\n            \"isoCode\": \"CF\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cf.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Chad\",\r\n            \"dialCode\": \"+235\",\r\n            \"isoCode\": \"TD\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/td.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Chile\",\r\n            \"dialCode\": \"+56\",\r\n            \"isoCode\": \"CL\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cl.svg\"\r\n        },\r\n        {\r\n            \"name\": \"China\",\r\n            \"dialCode\": \"+86\",\r\n            \"isoCode\": \"CN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cn.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Christmas Island\",\r\n            \"dialCode\": \"+61\",\r\n            \"isoCode\": \"CX\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cx.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Cocos (Keeling) Islands\",\r\n            \"dialCode\": \"+61\",\r\n            \"isoCode\": \"CC\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cc.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Colombia\",\r\n            \"dialCode\": \"+57\",\r\n            \"isoCode\": \"CO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/co.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Comoros\",\r\n            \"dialCode\": \"+269\",\r\n            \"isoCode\": \"KM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/km.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Congo\",\r\n            \"dialCode\": \"+242\",\r\n            \"isoCode\": \"CG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cg.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Cook Islands\",\r\n            \"dialCode\": \"+682\",\r\n            \"isoCode\": \"CK\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ck.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Costa Rica\",\r\n            \"dialCode\": \"+506\",\r\n            \"isoCode\": \"CR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Croatia\",\r\n            \"dialCode\": \"+385\",\r\n            \"isoCode\": \"HR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/hr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Cuba\",\r\n            \"dialCode\": \"+53\",\r\n            \"isoCode\": \"CU\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cu.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Cyprus\",\r\n            \"dialCode\": \"+357\",\r\n            \"isoCode\": \"CY\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cy.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Czech Republic\",\r\n            \"dialCode\": \"+420\",\r\n            \"isoCode\": \"CZ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cz.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Democratic Republic of the Congo\",\r\n            \"dialCode\": \"+243\",\r\n            \"isoCode\": \"CD\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/cd.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Denmark\",\r\n            \"dialCode\": \"+45\",\r\n            \"isoCode\": \"DK\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/dk.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Djibouti\",\r\n            \"dialCode\": \"+253\",\r\n            \"isoCode\": \"DJ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/dj.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Dominica\",\r\n            \"dialCode\": \"+1767\",\r\n            \"isoCode\": \"DM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/dm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Dominican Republic\",\r\n            \"dialCode\": \"+1849\",\r\n            \"isoCode\": \"DO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/do.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Ecuador\",\r\n            \"dialCode\": \"+593\",\r\n            \"isoCode\": \"EC\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ec.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Egypt\",\r\n            \"dialCode\": \"+20\",\r\n            \"isoCode\": \"EG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/eg.svg\"\r\n        },\r\n        {\r\n            \"name\": \"El Salvador\",\r\n            \"dialCode\": \"+503\",\r\n            \"isoCode\": \"SV\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sv.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Equatorial Guinea\",\r\n            \"dialCode\": \"+240\",\r\n            \"isoCode\": \"GQ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gq.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Eritrea\",\r\n            \"dialCode\": \"+291\",\r\n            \"isoCode\": \"ER\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/er.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Estonia\",\r\n            \"dialCode\": \"+372\",\r\n            \"isoCode\": \"EE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ee.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Eswatini\",\r\n            \"dialCode\": \"+268\",\r\n            \"isoCode\": \"SZ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sz.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Ethiopia\",\r\n            \"dialCode\": \"+251\",\r\n            \"isoCode\": \"ET\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/et.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Falkland Islands (Malvinas)\",\r\n            \"dialCode\": \"+500\",\r\n            \"isoCode\": \"FK\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/fk.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Faroe Islands\",\r\n            \"dialCode\": \"+298\",\r\n            \"isoCode\": \"FO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/fo.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Fiji\",\r\n            \"dialCode\": \"+679\",\r\n            \"isoCode\": \"FJ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/fj.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Finland\",\r\n            \"dialCode\": \"+358\",\r\n            \"isoCode\": \"FI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/fi.svg\"\r\n        },\r\n        {\r\n            \"name\": \"France\",\r\n            \"dialCode\": \"+33\",\r\n            \"isoCode\": \"FR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/fr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"French Guiana\",\r\n            \"dialCode\": \"+594\",\r\n            \"isoCode\": \"GF\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gf.svg\"\r\n        },\r\n        {\r\n            \"name\": \"French Polynesia\",\r\n            \"dialCode\": \"+689\",\r\n            \"isoCode\": \"PF\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pf.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Gabon\",\r\n            \"dialCode\": \"+241\",\r\n            \"isoCode\": \"GA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ga.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Gambia\",\r\n            \"dialCode\": \"+220\",\r\n            \"isoCode\": \"GM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Georgia\",\r\n            \"dialCode\": \"+995\",\r\n            \"isoCode\": \"GE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ge.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Germany\",\r\n            \"dialCode\": \"+49\",\r\n            \"isoCode\": \"DE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/de.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Ghana\",\r\n            \"dialCode\": \"+233\",\r\n            \"isoCode\": \"GH\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gh.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Gibraltar\",\r\n            \"dialCode\": \"+350\",\r\n            \"isoCode\": \"GI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gi.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Greece\",\r\n            \"dialCode\": \"+30\",\r\n            \"isoCode\": \"GR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Greenland\",\r\n            \"dialCode\": \"+299\",\r\n            \"isoCode\": \"GL\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gl.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Grenada\",\r\n            \"dialCode\": \"+1473\",\r\n            \"isoCode\": \"GD\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gd.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Guadeloupe\",\r\n            \"dialCode\": \"+590\",\r\n            \"isoCode\": \"GP\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gp.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Guam\",\r\n            \"dialCode\": \"+1671\",\r\n            \"isoCode\": \"GU\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gu.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Guatemala\",\r\n            \"dialCode\": \"+502\",\r\n            \"isoCode\": \"GT\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gt.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Guernsey\",\r\n            \"dialCode\": \"+44-1481\",\r\n            \"isoCode\": \"GG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gg.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Guinea\",\r\n            \"dialCode\": \"+224\",\r\n            \"isoCode\": \"GN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gn.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Guinea-Bissau\",\r\n            \"dialCode\": \"+245\",\r\n            \"isoCode\": \"GW\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gw.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Guyana\",\r\n            \"dialCode\": \"+592\",\r\n            \"isoCode\": \"GY\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gy.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Haiti\",\r\n            \"dialCode\": \"+509\",\r\n            \"isoCode\": \"HT\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ht.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Holy See (Vatican City State)\",\r\n            \"dialCode\": \"+379\",\r\n            \"isoCode\": \"VA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/va.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Honduras\",\r\n            \"dialCode\": \"+504\",\r\n            \"isoCode\": \"HN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/hn.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Hong Kong\",\r\n            \"dialCode\": \"+852\",\r\n            \"isoCode\": \"HK\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/hk.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Hungary\",\r\n            \"dialCode\": \"+36\",\r\n            \"isoCode\": \"HU\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/hu.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Iceland\",\r\n            \"dialCode\": \"+354\",\r\n            \"isoCode\": \"IS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/is.svg\"\r\n        },\r\n        {\r\n            \"name\": \"India\",\r\n            \"dialCode\": \"+91\",\r\n            \"isoCode\": \"IN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/in.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Indonesia\",\r\n            \"dialCode\": \"+62\",\r\n            \"isoCode\": \"ID\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/id.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Iran\",\r\n            \"dialCode\": \"+98\",\r\n            \"isoCode\": \"IR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ir.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Iraq\",\r\n            \"dialCode\": \"+964\",\r\n            \"isoCode\": \"IQ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/iq.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Ireland\",\r\n            \"dialCode\": \"+353\",\r\n            \"isoCode\": \"IE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ie.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Isle of Man\",\r\n            \"dialCode\": \"+44-1624\",\r\n            \"isoCode\": \"IM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/im.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Occupied Palestine\",\r\n            \"dialCode\": \"+970\",\r\n            \"isoCode\": \"PS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ps.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Italy\",\r\n            \"dialCode\": \"+39\",\r\n            \"isoCode\": \"IT\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/it.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Ivory Coast / Cote d'Ivoire\",\r\n            \"dialCode\": \"+225\",\r\n            \"isoCode\": \"CI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ci.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Jamaica\",\r\n            \"dialCode\": \"+1876\",\r\n            \"isoCode\": \"JM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/jm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Japan\",\r\n            \"dialCode\": \"+81\",\r\n            \"isoCode\": \"JP\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/jp.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Jersey\",\r\n            \"dialCode\": \"+44-1534\",\r\n            \"isoCode\": \"JE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/je.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Jordan\",\r\n            \"dialCode\": \"+962\",\r\n            \"isoCode\": \"JO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/jo.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Kazakhstan\",\r\n            \"dialCode\": \"+77\",\r\n            \"isoCode\": \"KZ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/kz.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Kenya\",\r\n            \"dialCode\": \"+254\",\r\n            \"isoCode\": \"KE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ke.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Kiribati\",\r\n            \"dialCode\": \"+686\",\r\n            \"isoCode\": \"KI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ki.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Korea, Democratic People's Republic of Korea\",\r\n            \"dialCode\": \"+850\",\r\n            \"isoCode\": \"KP\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/kp.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Korea, Republic of South Korea\",\r\n            \"dialCode\": \"+82\",\r\n            \"isoCode\": \"KR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/kr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Kosovo\",\r\n            \"dialCode\": \"+383\",\r\n            \"isoCode\": \"XK\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/xk.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Kuwait\",\r\n            \"dialCode\": \"+965\",\r\n            \"isoCode\": \"KW\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/kw.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Kyrgyzstan\",\r\n            \"dialCode\": \"+996\",\r\n            \"isoCode\": \"KG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/kg.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Laos\",\r\n            \"dialCode\": \"+856\",\r\n            \"isoCode\": \"LA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/la.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Latvia\",\r\n            \"dialCode\": \"+371\",\r\n            \"isoCode\": \"LV\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/lv.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Lebanon\",\r\n            \"dialCode\": \"+961\",\r\n            \"isoCode\": \"LB\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/lb.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Lesotho\",\r\n            \"dialCode\": \"+266\",\r\n            \"isoCode\": \"LS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ls.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Liberia\",\r\n            \"dialCode\": \"+231\",\r\n            \"isoCode\": \"LR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/lr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Libya\",\r\n            \"dialCode\": \"+218\",\r\n            \"isoCode\": \"LY\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ly.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Liechtenstein\",\r\n            \"dialCode\": \"+423\",\r\n            \"isoCode\": \"LI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/li.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Lithuania\",\r\n            \"dialCode\": \"+370\",\r\n            \"isoCode\": \"LT\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/lt.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Luxembourg\",\r\n            \"dialCode\": \"+352\",\r\n            \"isoCode\": \"LU\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/lu.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Macau\",\r\n            \"dialCode\": \"+853\",\r\n            \"isoCode\": \"MO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mo.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Madagascar\",\r\n            \"dialCode\": \"+261\",\r\n            \"isoCode\": \"MG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mg.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Malawi\",\r\n            \"dialCode\": \"+265\",\r\n            \"isoCode\": \"MW\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mw.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Malaysia\",\r\n            \"dialCode\": \"+60\",\r\n            \"isoCode\": \"MY\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/my.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Maldives\",\r\n            \"dialCode\": \"+960\",\r\n            \"isoCode\": \"MV\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mv.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Mali\",\r\n            \"dialCode\": \"+223\",\r\n            \"isoCode\": \"ML\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ml.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Malta\",\r\n            \"dialCode\": \"+356\",\r\n            \"isoCode\": \"MT\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mt.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Marshall Islands\",\r\n            \"dialCode\": \"+692\",\r\n            \"isoCode\": \"MH\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mh.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Martinique\",\r\n            \"dialCode\": \"+596\",\r\n            \"isoCode\": \"MQ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mq.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Mauritania\",\r\n            \"dialCode\": \"+222\",\r\n            \"isoCode\": \"MR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Mauritius\",\r\n            \"dialCode\": \"+230\",\r\n            \"isoCode\": \"MU\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mu.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Mayotte\",\r\n            \"dialCode\": \"+262\",\r\n            \"isoCode\": \"YT\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/yt.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Mexico\",\r\n            \"dialCode\": \"+52\",\r\n            \"isoCode\": \"MX\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mx.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Micronesia, Federated States of Micronesia\",\r\n            \"dialCode\": \"+691\",\r\n            \"isoCode\": \"FM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/fm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Moldova\",\r\n            \"dialCode\": \"+373\",\r\n            \"isoCode\": \"MD\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/md.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Monaco\",\r\n            \"dialCode\": \"+377\",\r\n            \"isoCode\": \"MC\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mc.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Mongolia\",\r\n            \"dialCode\": \"+976\",\r\n            \"isoCode\": \"MN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mn.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Montenegro\",\r\n            \"dialCode\": \"+382\",\r\n            \"isoCode\": \"ME\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/me.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Montserrat\",\r\n            \"dialCode\": \"+1664\",\r\n            \"isoCode\": \"MS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ms.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Morocco\",\r\n            \"dialCode\": \"+212\",\r\n            \"isoCode\": \"MA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ma.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Mozambique\",\r\n            \"dialCode\": \"+258\",\r\n            \"isoCode\": \"MZ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mz.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Myanmar\",\r\n            \"dialCode\": \"+95\",\r\n            \"isoCode\": \"MM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Namibia\",\r\n            \"dialCode\": \"+264\",\r\n            \"isoCode\": \"NA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/na.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Nauru\",\r\n            \"dialCode\": \"+674\",\r\n            \"isoCode\": \"NR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/nr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Nepal\",\r\n            \"dialCode\": \"+977\",\r\n            \"isoCode\": \"NP\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/np.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Netherlands\",\r\n            \"dialCode\": \"+31\",\r\n            \"isoCode\": \"NL\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/nl.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Netherlands Antilles\",\r\n            \"dialCode\": \"+599\",\r\n            \"isoCode\": \"AN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/an.svg\"\r\n        },\r\n        {\r\n            \"name\": \"New Caledonia\",\r\n            \"dialCode\": \"+687\",\r\n            \"isoCode\": \"NC\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/nc.svg\"\r\n        },\r\n        {\r\n            \"name\": \"New Zealand\",\r\n            \"dialCode\": \"+64\",\r\n            \"isoCode\": \"NZ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/nz.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Nicaragua\",\r\n            \"dialCode\": \"+505\",\r\n            \"isoCode\": \"NI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ni.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Niger\",\r\n            \"dialCode\": \"+227\",\r\n            \"isoCode\": \"NE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ne.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Nigeria\",\r\n            \"dialCode\": \"+234\",\r\n            \"isoCode\": \"NG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ng.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Niue\",\r\n            \"dialCode\": \"+683\",\r\n            \"isoCode\": \"NU\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/nu.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Norfolk Island\",\r\n            \"dialCode\": \"+672\",\r\n            \"isoCode\": \"NF\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/nf.svg\"\r\n        },\r\n        {\r\n            \"name\": \"North Macedonia\",\r\n            \"dialCode\": \"+389\",\r\n            \"isoCode\": \"MK\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mk.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Northern Mariana Islands\",\r\n            \"dialCode\": \"+1670\",\r\n            \"isoCode\": \"MP\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mp.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Norway\",\r\n            \"dialCode\": \"+47\",\r\n            \"isoCode\": \"NO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/no.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Oman\",\r\n            \"dialCode\": \"+968\",\r\n            \"isoCode\": \"OM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/om.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Pakistan\",\r\n            \"dialCode\": \"+92\",\r\n            \"isoCode\": \"PK\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pk.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Palau\",\r\n            \"dialCode\": \"+680\",\r\n            \"isoCode\": \"PW\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pw.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Palestine\",\r\n            \"dialCode\": \"+970\",\r\n            \"isoCode\": \"PS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ps.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Panama\",\r\n            \"dialCode\": \"+507\",\r\n            \"isoCode\": \"PA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pa.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Papua New Guinea\",\r\n            \"dialCode\": \"+675\",\r\n            \"isoCode\": \"PG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pg.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Paraguay\",\r\n            \"dialCode\": \"+595\",\r\n            \"isoCode\": \"PY\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/py.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Peru\",\r\n            \"dialCode\": \"+51\",\r\n            \"isoCode\": \"PE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pe.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Philippines\",\r\n            \"dialCode\": \"+63\",\r\n            \"isoCode\": \"PH\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ph.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Pitcairn\",\r\n            \"dialCode\": \"+872\",\r\n            \"isoCode\": \"PN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pn.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Poland\",\r\n            \"dialCode\": \"+48\",\r\n            \"isoCode\": \"PL\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pl.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Portugal\",\r\n            \"dialCode\": \"+351\",\r\n            \"isoCode\": \"PT\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pt.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Puerto Rico\",\r\n            \"dialCode\": \"+1939\",\r\n            \"isoCode\": \"PR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Qatar\",\r\n            \"dialCode\": \"+974\",\r\n            \"isoCode\": \"QA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/qa.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Reunion\",\r\n            \"dialCode\": \"+262\",\r\n            \"isoCode\": \"RE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/re.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Romania\",\r\n            \"dialCode\": \"+40\",\r\n            \"isoCode\": \"RO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ro.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Russia\",\r\n            \"dialCode\": \"+7\",\r\n            \"isoCode\": \"RU\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ru.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Rwanda\",\r\n            \"dialCode\": \"+250\",\r\n            \"isoCode\": \"RW\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/rw.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Saint Barthelemy\",\r\n            \"dialCode\": \"+590\",\r\n            \"isoCode\": \"BL\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/bl.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Saint Helena, Ascension and Tristan Da Cunha\",\r\n            \"dialCode\": \"+290\",\r\n            \"isoCode\": \"SH\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sh.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Saint Kitts and Nevis\",\r\n            \"dialCode\": \"+1869\",\r\n            \"isoCode\": \"KN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/kn.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Saint Lucia\",\r\n            \"dialCode\": \"+1758\",\r\n            \"isoCode\": \"LC\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/lc.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Saint Martin\",\r\n            \"dialCode\": \"+590\",\r\n            \"isoCode\": \"MF\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/mf.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Saint Pierre and Miquelon\",\r\n            \"dialCode\": \"+508\",\r\n            \"isoCode\": \"PM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/pm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Saint Vincent and the Grenadines\",\r\n            \"dialCode\": \"+1784\",\r\n            \"isoCode\": \"VC\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/vc.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Samoa\",\r\n            \"dialCode\": \"+685\",\r\n            \"isoCode\": \"WS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ws.svg\"\r\n        },\r\n        {\r\n            \"name\": \"San Marino\",\r\n            \"dialCode\": \"+378\",\r\n            \"isoCode\": \"SM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Sao Tome and Principe\",\r\n            \"dialCode\": \"+239\",\r\n            \"isoCode\": \"ST\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/st.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Saudi Arabia\",\r\n            \"dialCode\": \"+966\",\r\n            \"isoCode\": \"SA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sa.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Senegal\",\r\n            \"dialCode\": \"+221\",\r\n            \"isoCode\": \"SN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sn.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Serbia\",\r\n            \"dialCode\": \"+381\",\r\n            \"isoCode\": \"RS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/rs.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Seychelles\",\r\n            \"dialCode\": \"+248\",\r\n            \"isoCode\": \"SC\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sc.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Sierra Leone\",\r\n            \"dialCode\": \"+232\",\r\n            \"isoCode\": \"SL\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sl.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Singapore\",\r\n            \"dialCode\": \"+65\",\r\n            \"isoCode\": \"SG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sg.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Sint Maarten\",\r\n            \"dialCode\": \"+1721\",\r\n            \"isoCode\": \"SX\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sx.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Slovakia\",\r\n            \"dialCode\": \"+421\",\r\n            \"isoCode\": \"SK\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sk.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Slovenia\",\r\n            \"dialCode\": \"+386\",\r\n            \"isoCode\": \"SI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/si.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Solomon Islands\",\r\n            \"dialCode\": \"+677\",\r\n            \"isoCode\": \"SB\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sb.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Somalia\",\r\n            \"dialCode\": \"+252\",\r\n            \"isoCode\": \"SO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/so.svg\"\r\n        },\r\n        {\r\n            \"name\": \"South Africa\",\r\n            \"dialCode\": \"+27\",\r\n            \"isoCode\": \"ZA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/za.svg\"\r\n        },\r\n        {\r\n            \"name\": \"South Georgia and the South Sandwich Islands\",\r\n            \"dialCode\": \"+500\",\r\n            \"isoCode\": \"GS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gs.svg\"\r\n        },\r\n        {\r\n            \"name\": \"South Sudan\",\r\n            \"dialCode\": \"+211\",\r\n            \"isoCode\": \"SS\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ss.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Spain\",\r\n            \"dialCode\": \"+34\",\r\n            \"isoCode\": \"ES\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/es.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Sri Lanka\",\r\n            \"dialCode\": \"+94\",\r\n            \"isoCode\": \"LK\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/lk.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Sudan\",\r\n            \"dialCode\": \"+249\",\r\n            \"isoCode\": \"SD\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sd.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Suriname\",\r\n            \"dialCode\": \"+597\",\r\n            \"isoCode\": \"SR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Svalbard and Jan Mayen\",\r\n            \"dialCode\": \"+47\",\r\n            \"isoCode\": \"SJ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/sj.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Sweden\",\r\n            \"dialCode\": \"+46\",\r\n            \"isoCode\": \"SE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/se.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Switzerland\",\r\n            \"dialCode\": \"+41\",\r\n            \"isoCode\": \"CH\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ch.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Syrian Arab Republic\",\r\n            \"dialCode\": \"+963\",\r\n            \"isoCode\": \"SY\",\r\n            \"flag\": \"https://jumpshare.com/s/uU39FZDb3x1Wg7HDMhEZ\"\r\n        },\r\n        {\r\n            \"name\": \"Taiwan\",\r\n            \"dialCode\": \"+886\",\r\n            \"isoCode\": \"TW\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tw.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Tajikistan\",\r\n            \"dialCode\": \"+992\",\r\n            \"isoCode\": \"TJ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tj.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Tanzania, United Republic of Tanzania\",\r\n            \"dialCode\": \"+255\",\r\n            \"isoCode\": \"TZ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tz.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Thailand\",\r\n            \"dialCode\": \"+66\",\r\n            \"isoCode\": \"TH\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/th.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Timor-Leste\",\r\n            \"dialCode\": \"+670\",\r\n            \"isoCode\": \"TL\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tl.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Togo\",\r\n            \"dialCode\": \"+228\",\r\n            \"isoCode\": \"TG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tg.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Tokelau\",\r\n            \"dialCode\": \"+690\",\r\n            \"isoCode\": \"TK\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tk.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Tonga\",\r\n            \"dialCode\": \"+676\",\r\n            \"isoCode\": \"TO\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/to.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Trinidad and Tobago\",\r\n            \"dialCode\": \"+1868\",\r\n            \"isoCode\": \"TT\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tt.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Tunisia\",\r\n            \"dialCode\": \"+216\",\r\n            \"isoCode\": \"TN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tn.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Turkey\",\r\n            \"dialCode\": \"+90\",\r\n            \"isoCode\": \"TR\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tr.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Turkmenistan\",\r\n            \"dialCode\": \"+993\",\r\n            \"isoCode\": \"TM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Turks and Caicos Islands\",\r\n            \"dialCode\": \"+1649\",\r\n            \"isoCode\": \"TC\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tc.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Tuvalu\",\r\n            \"dialCode\": \"+688\",\r\n            \"isoCode\": \"TV\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/tv.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Uganda\",\r\n            \"dialCode\": \"+256\",\r\n            \"isoCode\": \"UG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ug.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Ukraine\",\r\n            \"dialCode\": \"+380\",\r\n            \"isoCode\": \"UA\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ua.svg\"\r\n        },\r\n        {\r\n            \"name\": \"United Arab Emirates\",\r\n            \"dialCode\": \"+971\",\r\n            \"isoCode\": \"AE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ae.svg\"\r\n        },\r\n        {\r\n            \"name\": \"United Kingdom\",\r\n            \"dialCode\": \"+44\",\r\n            \"isoCode\": \"GB\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/gb.svg\"\r\n        },\r\n        {\r\n            \"name\": \"United States\",\r\n            \"dialCode\": \"+1\",\r\n            \"isoCode\": \"US\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/us.svg\"\r\n        },\r\n        {\r\n            \"name\": \"United States Minor Outlying Islands\",\r\n            \"dialCode\": \"+246\",\r\n            \"isoCode\": \"UMI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/umi.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Uruguay\",\r\n            \"dialCode\": \"+598\",\r\n            \"isoCode\": \"UY\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/uy.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Uzbekistan\",\r\n            \"dialCode\": \"+998\",\r\n            \"isoCode\": \"UZ\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/uz.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Vanuatu\",\r\n            \"dialCode\": \"+678\",\r\n            \"isoCode\": \"VU\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/vu.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Venezuela, Bolivarian Republic of Venezuela\",\r\n            \"dialCode\": \"+58\",\r\n            \"isoCode\": \"VE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ve.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Vietnam\",\r\n            \"dialCode\": \"+84\",\r\n            \"isoCode\": \"VN\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/vn.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Virgin Islands, British\",\r\n            \"dialCode\": \"+1284\",\r\n            \"isoCode\": \"VG\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/vg.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Virgin Islands, U.S.\",\r\n            \"dialCode\": \"+1340\",\r\n            \"isoCode\": \"VI\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/vi.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Wallis and Futuna\",\r\n            \"dialCode\": \"+681\",\r\n            \"isoCode\": \"WF\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/wf.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Yemen\",\r\n            \"dialCode\": \"+967\",\r\n            \"isoCode\": \"YE\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/ye.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Zambia\",\r\n            \"dialCode\": \"+260\",\r\n            \"isoCode\": \"ZM\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/zm.svg\"\r\n        },\r\n        {\r\n            \"name\": \"Zimbabwe\",\r\n            \"dialCode\": \"+263\",\r\n            \"isoCode\": \"ZW\",\r\n            \"flag\": \"https://cdn.kcak11.com/CountryFlags/countries/zw.svg\"\r\n        }\r\n    ]\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\nimport { register } from 'swiper/element/bundle';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\n// Register Swiper Web Components globally for Ionic 7 slides replacement\r\nregister();\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n","var map = {\n\t\"./ion-accordion_2.entry.js\": [\n\t\t70079,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-accordion_2_entry_js\"\n\t],\n\t\"./ion-action-sheet.entry.js\": [\n\t\t25593,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-action-sheet_entry_js\"\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t13225,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-alert_entry_js\"\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t4812,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-app_8_entry_js\"\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t86655,\n\t\t\"node_modules_ionic_core_dist_esm_ion-avatar_3_entry_js\"\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t44856,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-back-button_entry_js\"\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t13059,\n\t\t\"node_modules_ionic_core_dist_esm_ion-backdrop_entry_js\"\n\t],\n\t\"./ion-breadcrumb_2.entry.js\": [\n\t\t58648,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-breadcrumb_2_entry_js\"\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t98308,\n\t\t\"node_modules_ionic_core_dist_esm_ion-button_2_entry_js\"\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t44690,\n\t\t\"node_modules_ionic_core_dist_esm_ion-card_5_entry_js\"\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t64090,\n\t\t\"node_modules_ionic_core_dist_esm_ion-checkbox_entry_js\"\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t36214,\n\t\t\"node_modules_ionic_core_dist_esm_ion-chip_entry_js\"\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t69447,\n\t\t\"node_modules_ionic_core_dist_esm_ion-col_3_entry_js\"\n\t],\n\t\"./ion-datetime-button.entry.js\": [\n\t\t17950,\n\t\t\"default-node_modules_ionic_core_dist_esm_data-bb424ba8_js\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-datetime-button_entry_js\"\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t79689,\n\t\t\"default-node_modules_ionic_core_dist_esm_data-bb424ba8_js\",\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-datetime_3_entry_js\"\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t18840,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-fab_3_entry_js\"\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t40749,\n\t\t\"node_modules_ionic_core_dist_esm_ion-img_entry_js\"\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t69667,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-infinite-scroll_2_entry_js\"\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t83288,\n\t\t\"default-node_modules_ionic_core_dist_esm_form-controller-21dd62b1_js-node_modules_ionic_core_-a176d1\",\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-input_entry_js\"\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t35473,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-item-option_3_entry_js\"\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t53634,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-item_8_entry_js\"\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t22855,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-loading_entry_js\"\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t495,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-menu_3_entry_js\"\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t58737,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-modal_entry_js\"\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t99632,\n\t\t\"node_modules_ionic_core_dist_esm_ion-nav_2_entry_js\"\n\t],\n\t\"./ion-picker-column-internal.entry.js\": [\n\t\t54446,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-picker-column-internal_entry_js\"\n\t],\n\t\"./ion-picker-internal.entry.js\": [\n\t\t32275,\n\t\t\"node_modules_ionic_core_dist_esm_ion-picker-internal_entry_js\"\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t48050,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-popover_entry_js\"\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t18994,\n\t\t\"node_modules_ionic_core_dist_esm_ion-progress-bar_entry_js\"\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t23592,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-radio_2_entry_js\"\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t35454,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-range_entry_js\"\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t290,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-refresher_2_entry_js\"\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t92666,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-reorder_2_entry_js\"\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t64816,\n\t\t\"node_modules_ionic_core_dist_esm_ion-ripple-effect_entry_js\"\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t45534,\n\t\t\"node_modules_ionic_core_dist_esm_ion-route_4_entry_js\"\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t94902,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-searchbar_entry_js\"\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t91938,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-segment_2_entry_js\"\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t78179,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-select_3_entry_js\"\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t61624,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-spinner_entry_js\"\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t19989,\n\t\t\"node_modules_ionic_core_dist_esm_ion-split-pane_entry_js\"\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t28902,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-tab-bar_2_entry_js\"\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t70199,\n\t\t\"node_modules_ionic_core_dist_esm_ion-tab_2_entry_js\"\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t48395,\n\t\t\"node_modules_ionic_core_dist_esm_ion-text_entry_js\"\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t96357,\n\t\t\"default-node_modules_ionic_core_dist_esm_form-controller-21dd62b1_js-node_modules_ionic_core_-a176d1\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-textarea_entry_js\"\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t38268,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-toast_entry_js\"\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t15269,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-toggle_entry_js\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 50863;\nmodule.exports = webpackAsyncContext;","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 44916;\nmodule.exports = webpackEmptyAsyncContext;","/* (ignored) */"],"names":["ElementRef","Validators","AddCardComponent","constructor","fb","alertController","loadingController","paymentService","avatarService","modalController","navController","paymentForm","group","provider","required","cardId","authCode","ngOnInit","ngAfterViewInit","initializeStripeCard","cardElement","nativeElement","stripe","Stripe","elements","card","create","mount","on","event","isCardComplete","complete","cardInitialized","processPayment","valid","formValues","value","email","user","showLoading","cardData","processStripePayment","dismiss","success","error","errorMessage","message","showAlert","hideLoading","console","log","setupIntentResponse","createSetupIntent","toPromise","resp","clientSecret","client_secret","clientSecretValue","secret","Error","String","startsWith","includes","setupIntent","confirmCardSetup","payment_method","billing_details","paymentMethodId","paymentMethod","retrievePaymentMethod","cardDetails","last4","brand","cardExists","checkCardExistsStripe","saveCard","savePaymentMethod","loading","present","header","alert","buttons","closeModal","i0","selectors","viewQuery","ctx","NgZone","SplashScreen","StatusBar","Style","NavigationEnd","Preferences","p_r5","AppComponent","platform","ngZone","avatar","auth","nav","router","translate","oneSignalService","title","url","icon","color","setDefaultLang","use","currentLanguage","initializeApp","events","subscribe","initializeTranslation","initialize","initializeOneSignal","OneSignalInit","requestPermission","notificationClick$","data","ready","then","readySource","source","onAuthStateChanged","setExternalUserId","uid","removeExternalUserId","setBackgroundColor","setStyle","style","Light","LoadSplash","show","setOverlaysWebView","overlay","gotoProfile","navigateForward","gotoPage","p","get","key","changeLanguage","lang","set","decls","vars","consts","template","environment","AutocompleteComponent","modalCtrl","http","viewCtrl","client","google","maps","places","AutocompleteService","autocompleteItems","autocompleteItems2","res","countryCode","country","skeletOns","autocomplete","query2","locationAddress","query","home","closeSearch","Show","hideImage","Hide","updateSearch2","LatLng","place","lat","lng","skeleton","service","getPlacePredictions","input","location","strictbounds","radius","zoom","types","componentRestrictions","predictions","status","forEach","prediction","push","whole","full","description","structured_formatting","main_text","city","secondary_text","searching","updateSearch","chooseItem","item","editedPickupLocation","editedPickup","chooseOnMap","pinOnMap","chooseItem2","results","geocode","params","address","apiKey","timeout","length","position","geometry","edited","inputs","IonContent","EnrouteChatComponent","chatService","ionViewDidEnter","hideSkeleton","messages","getChatMessage","chatData","userId","d","hasNoData","content","scrollToBottom","sendMessage","addChatEnRouteMessage","newMsg","updatChatMessageInfo","closeChat","Capacitor","HttpHeaders","HttpErrorResponse","catchError","tap","of","Subject","BehaviorSubject","OnesignalService","alertCtrl","toastCtrl","notificationClickSubject","asObservable","permissionStatusSubject","pushNotificationServerUrl","isNative","isNativePlatform","isInitialized","initializeNative","initializeWeb","e","OneSignal","onesignal","appId","subscription","User","pushSubscription","getIdAsync","playerID","externalUserId","getExternalId","Notifications","addEventListener","handleNotificationClick","permission","next","hasPermission","getPermissionAsync","OneSignalDeferred","warn","OneSignalSDK","init","allowLocalhostAsSecureOrigin","notifyButton","enable","serviceWorkerParam","scope","serviceWorkerPath","PushSubscription","id","run","notificationData","notification","additionalData","result","routeByNotificationType","notificationType","navigate","queryParams","paymentId","rideId","requestNativePermission","requestWebPermission","canRequest","canRequestPermission","accepted","Promise","resolve","OneSignalIOSPermission","getPlatform","ios_permission","permissionNative","OneSignalPermission","msg","text","role","handler","alertEl","login","logout","getPlayerId","getHeaders","testPushNotificationAlerts","requestBrowserNotificationPermission","showSuccessToast","timestamp","Date","toISOString","setTimeout","showErrorToast","statusText","details","window","Notification","showBrowserNotification","body","type","badge","tag","now","requireInteraction","silent","onclick","focus","close","showDebugAlerts","toast","duration","showDetailedAlert","JSON","stringify","errorDetails","formatErrorDetails","errorSummary","substring","detailsString","subHeader","cssClass","headers","keys","reduce","acc","name","stack","sendToPlayerIds","request","post","backendUrl","pipe","response","sendByUserIds","sendRideNotification","sendToAll","sendNotification","external_id","app_id","target_channel","headings","en","contents","android_channel_id","small_icon","large_icon","ios_sound","include_aliases","Array","isArray","included_segments","restApiKey","setDebugAlerts","enabled","isOneSignalInitialized","getPermissionStatus","factory","providedIn","ChangeDetectorRef","PhoneAuthProvider","signInWithCredential","OtpComponent","cdr","fireAuth","allowNumbersOnly","phone","hideLoader","startCountdown","defaultOtp","setOtp","detectChanges","ngOnDestroy","clearInterval","countdownInterval","onOtpChange","otp","resend","showLoader","signInWithPhoneNumber","confirmationResult","showToast","code","verifyOtp","approve2","verificationId","credential","confirm","clearOtpInput","seconds","countdown","setInterval","otpInput","setValue","signOut","signInWithPopup","getAuth","linkWithCredential","unlink","fetchSignInMethodsForEmail","signInWithEmailAndPassword","RecaptchaVerifier","GoogleAuthProvider","Observable","AuthService","user$","subscriber","recaptcha","appVerifier","clear","isRecaptchaInitialized","container","document","getElementById","innerHTML","size","callback","render","catch","phoneNumber","navigator","userAgent","Object","getOwnPropertyNames","clearRecaptcha","currentUser","signInWithGoogle","linkGoogleAccount","credentialFromResult","customData","existingSignInMethods","PROVIDER_ID","password","userCredential","collection","collectionData","doc","docData","endAt","getDocs","orderBy","setDoc","startAt","updateDoc","onSnapshot","deleteDoc","serverTimestamp","addDoc","getDoc","where","writeBatch","getDownloadURL","ref","uploadString","geohashForLocation","geohashQueryBounds","AvatarService","firestore","storage","authService","driversSubject","driverCollection","country_code","loadUserProfile","profile","Rider_id","Rider_name","displayName","Rider_phone","Rider_email","Rider_rating","createdAt","offline","bookRide","checkFirestoreConnectivity","testDoc","executeFirestoreOperation","operation","operationName","maxRetries","lastError","attempt","delay","Math","min","pow","docRef","profileDoc","exists","defaultProfile","merge","getCards","userDocRef","getUserType","userDoc","checkRiderProfile","riderDocRef","riderDoc","hasRequiredFields","RequestRideWithRiderDetails","requestDetails","driverId","latLng","dLatLng","profileError","driverDocRef","driverDocSnap","driverData","Driver_id","Driver_name","requestRef","loc","Loc_lat","Loc_lng","Rider_imgUrl","photoURL","Des_lat","Des_lng","Rider_Location","Rider_Destination","destinationAddress","countDown","cancel","price","cash","driverDetails","Driver_phone","Driver_imgUrl","Driver_rating","Driver_car","Driver_cartype","Driver_plate","requestId","sharedRideAccepted","isSharedRide","sharedRideId","originalPrice","discountedPrice","discountPercent","riderId","batch","update","onlineState","currentRequestId","messagesRef","initialMessage","from","myMsg","fromName","messageDocRef","commit","batchError","rollbackError","RestartRequestSinceReject","ID","deleDriverFromRequest","cancelRide","PushDriverToRequest","Driver","geohash","Driver_lat","Driver_lng","distance","seats","start","stop","intransit","time","getPriceEstimate","distanceInKm","ratePerKm","estimatedPrice","minimumFare","round","calculateFinalFare","durationInMinutes","ratePerMinute","distanceCharge","timeCharge","totalFare","getDriverLocation","reject","driverLocation","updateLocation","coord","createHistory","historyData","undefined","historyRef","UpdateCountDown","AddKnownPlace","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","PI","dLon","a","cos","asin","sqrt","checkDriversWithin","center","radiusInM","bounds","promises","map","b","index","q","unsubscribe","snapshot","drivers","docs","activeListeners","all","allDrivers","curr","concat","matchingDrivers","filter","driver","distanceInM","time_convert","num","minutes","floor","getDriver","idField","pokemon","pokemonDocumentReference","uploadImage","cameraFile","storageRef","base64String","imageUrl","docSnapshot","createUser","img","getMessage","oderedMessages","new","getKnownPlaces","getAllBlogs","getDrivers","addChatMessage","userName","updateMessageInfo","updateDriverOnlineState","cardsCollectionRef","cardQuery","cardDocs","empty","cardDocRef","checkPaystackAuthCodeExists","authCodeCollectionRef","authCodeQuery","authCodeDocs","savePaystackAuthCode","authCodeDocRef","updateFirestoreAfterPayment","paymentResult","paymentDocRef","paymentDate","getSavedPaymentMethods","paymentMethodsRef","methods","deleteSavedPaymentMethod","methodId","paymentMethodDocRef","setActiveCard","activeCardId","getActiveCard","addCardStripe","userData","cards","submitRating","ratingData","ratingRef","getUserProfile","createUserProfile","profileData","saveRideHistory","rideData","tripId","driverName","driverImage","driverCar","driverPlate","driverRating","pickup","destination","rating","parseFloat","completed","completedAt","userHistoryCollection","globalHistoryCollection","getRideHistory","historyCollection","historyQuery","OverlayService","loadingCtrl","isLoading","loader","spinner","topLoader","getTop","err","showConfirmAlert","TripSummaryComponent","toastController","settingsService","tripData","formatTripData","loadTripData","animateIn","tripDoc","toFixed","durationFormatted","formatDuration","formattedPrice","formatPrice","durationInSeconds","hours","remainingMinutes","setRating","isSubmitting","riderRating","ratingComment","comment","ratedAt","updateDriverRating","newRating","driverRef","driverDoc","currentRating","ratingCount","newAvgRating","historySaved","finalRideData","rated"],"sourceRoot":"webpack:///","x_google_ignoreList":[24,25]}